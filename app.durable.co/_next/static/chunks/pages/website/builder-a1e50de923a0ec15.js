(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9862],{64938:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/builder",function(){return t(90522)}])},18912:function(e,n,t){"use strict";t.d(n,{TF:function(){return l},WS:function(){return s},hL:function(){return o}});var i="onboarding-survey-trigger",l=function(e){"object"===typeof localStorage&&localStorage.setItem("".concat(e,"-").concat(i),"yes")},s=function(e){"object"===typeof localStorage&&localStorage.removeItem("".concat(e,"-").concat(i))},o=function(e){return"object"===typeof localStorage&&"yes"===localStorage.getItem("".concat(e,"-").concat(i))}},11653:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var i=t(47568),l=t(97582),s=t(85893),o=t(67294),a=t(11355),r=t(69737),d=t(91957),c=t(51523),u=t(3732),m=t(25675),v=t.n(m),h=t(43490),x=t(33347);function f(e){var n=e.website,t=e.open,m=e.setOpen,f=(0,o.useState)(!1),p=f[0],g=f[1],b=(0,o.useState)(!1),j=b[0],y=b[1],w=(0,o.useState)(""),N=w[0],Z=w[1],k=(0,o.useState)(!1),C=k[0],S=k[1],P=(0,x.Z)().post,E=(0,o.useRef)(null),I=(0,c.Z)(N),B=I.copied,O=I.copy,T=I.reset,_=function(){var e=(0,i.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return y(e),g(!0),[4,P("/website/save-search-indexing",{searchIndexing:e})];case 1:return n.sent(),g(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=setTimeout((function(){T()}),2e3);return function(){clearTimeout(e)}}),[B]),(0,o.useEffect)((function(){var e,t;n&&(Z("".concat((null===n||void 0===n?void 0:n.sslCertificate)||"active"===(null===(e=n.cloudflare)||void 0===e||null===(t=e.ssl)||void 0===t?void 0:t.status)?"https://"+(null===n||void 0===n?void 0:n.domain):"http://"+((null===n||void 0===n?void 0:n.subdomain)+(0,u.lz)()))),y(null===n||void 0===n?void 0:n.searchIndexing))}),[n]),(0,o.useEffect)((function(){t?setTimeout((function(){S(!0)}),200):S(!1)}),[t]),(0,s.jsx)(a.u.Root,{show:t,as:o.Fragment,children:(0,s.jsx)(r.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",initialFocus:E,onClose:function(){return m(!1)},children:(0,s.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-dyn lg:pt-4 lg:px-4 lg:pb-20 text-center",children:[(0,s.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(r.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,s.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,s.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,s.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-lg md:rounded-lg text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle md:max-w-lg",children:[(0,s.jsxs)("div",{className:"relative w-full h-45 rounded-t-3xl lg:rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 z-30 p-3",children:(0,s.jsxs)("button",{type:"button",className:"flex-shrink-0 p-1 rounded-3xl transition-all",onClick:function(){return m(!1)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,s.jsx)(d.Z,{icon:"XSolidIcon",className:"h-4 w-4","aria-hidden":"true"})]})}),(0,s.jsx)("div",{className:"absolute inset-0 z-20",style:{background:"radial-gradient(transparent 50%, #FFFFFF 90%), linear-gradient(transparent 70%, #FFFFFF 90%)"}}),(0,s.jsx)("div",{className:"absolute inset-0 z-5 w-full h-90 bg-indigo-50 animate-translate-blocks duration-500",children:(0,s.jsx)(v(),{src:(0,u.sd)("mars/blocks.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Blocks"})}),(0,s.jsx)("div",{className:(0,u.AK)("absolute top-4 left-1/2 z-10 w-56 h-80 opacity-0 -translate-x-1/2 transition-all translate-y-16 duration-300",C&&"!translate-y-0 !opacity-100"),children:(0,s.jsx)(v(),{src:(0,u.sd)("mars/browser.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Browser"})}),(0,s.jsx)("div",{className:(0,u.AK)("absolute top-6 left-1/2 z-10 w-32 h-36 opacity-0 -translate-x-1/2 translate-y-16 transition-all duration-500",C&&"z-10 !translate-y-0 !opacity-100"),children:(0,s.jsx)(v(),{src:(0,u.sd)("mars/trophy.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Trophy"})})]}),(0,s.jsxs)("div",{ref:E,children:[(0,s.jsxs)("div",{className:"p-4 md:p-6 text-center",children:[(0,s.jsx)("h5",{className:"text-h5 font-semibold text-gray-700 mb-1",children:"Your website is live!"}),(0,s.jsx)("p",{className:"text-body md:text-sm text-gray-500",children:"Congratulations, you\u2019re officially in business."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-6 md:pt-0 md:px-6 border-t md:border-t-0",children:[(0,s.jsx)("div",{className:"hidden md:block w-10 h-10 p-2 rounded-full bg-gray-50",children:(0,s.jsx)(d.Z,{icon:"GlobeSolidIcon",className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-col-reverse md:flex-row items-start md:items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"text-body md:text-sm font-semibold",children:"Search indexing"}),(0,s.jsxs)("p",{className:(0,u.AK)("badge",j?"green":"yellow"),children:[(0,s.jsx)("span",{className:(0,u.AK)("w-1.5 h-1.5 rounded-full mr-1.5",j?"bg-green-400":"bg-yellow-400")}),(0,s.jsx)("span",{children:j?"Enabled":"Disabled"})]})]}),(0,s.jsx)("p",{className:"text-body md:text-sm text-gray-500",children:"Allow search engines to crawl your site."})]}),(0,s.jsx)(h.Z,{enabled:j,disabled:p,onChange:_})]})]}),(0,s.jsxs)("div",{className:"flex flex-col-reverse md:flex-row items-center justify-end gap-2 p-4 lg:px-6 border-t",children:[(0,s.jsxs)("button",{className:(0,u.AK)("light gap-2 w-full md:w-auto",B&&"!text-green-600"),onClick:function(){return O()},children:[(0,s.jsx)("span",{children:B?"Copied!":"Copy link"}),(0,s.jsx)(d.Z,{icon:B?"CheckIcon":"LinkIcon",className:"w-5 h-5"})]}),(0,s.jsxs)("button",{className:"primary gap-2 w-full md:w-auto",onClick:function(){window.open(N,"_blank"),m(!1)},children:[(0,s.jsx)("span",{children:"View website"}),(0,s.jsx)(d.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5"})]})]})]})})]})})})}},90522:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return Gi},default:function(){return Xi}});var i=t(47568),l=t(14924),s=t(26042),o=t(69396),a=t(828),r=t(29815),d=t(97582),c=t(85893),u=t(59435),m=t(67294),v=t(37353),h=t(59965),x=t(13840),f=t(51121),p=t(85750),g=t(43490),b=t(3732);var j=t(33347),y=t(52077),w=t(16494),N=[3,6,9,12].map((function(e){return{id:e,name:e}}));function Z(e){var n,t,l=e.block,a=e.setBlock,r=e.businessConfig,v=e.getBusinessConfig,h=(0,m.useState)(!1),Z=h[0],k=h[1],C=(null===r||void 0===r||null===(n=r.business)||void 0===n||null===(t=n.socialAccounts)||void 0===t?void 0:t.instagram)||{},S=(0,b.h_)(),P=(0,j.Z)().remove;function E(){return(E=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return k(!0),[4,P("/business/remove-social-channel",{type:"instagram"})];case 1:return(e=n.sent()).status&&e.content?(b.Z9.success("Instagram account disconnected"),v((function(){k(!1)}))):k(!1),(0,u.Wf)({type:"instagram-disconnected"}),[2]}}))}))).apply(this,arguments)}var I=(0,m.useMemo)((function(){return function(e){return"https://api.instagram.com/oauth/authorize\n  ?client_id=".concat("396290006289781","\n  &redirect_uri=").concat("https://app.durable.co/oauth/instagram","\n  &scope=user_profile,user_media\n  &response_type=code\n  &state=").concat(encodeURIComponent(JSON.stringify({businessId:e}))).replace(/\s/g,"")}(S)}),[S]);return C.connected?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"flex-col justify-start items-start gap-6 inline-flex w-full",children:(0,c.jsxs)("div",{className:"self-stretch flex-col justify-center items-start gap-2 flex",children:[(0,c.jsx)("div",{className:"self-stretch justify-start items-center gap-4 inline-flex",children:(0,c.jsx)("div",{className:"grow shrink basis-0 h-5 justify-start items-center gap-2 flex",children:(0,c.jsx)("div",{className:"grow shrink basis-0 flex-col justify-start items-start gap-1 inline-flex",children:(0,c.jsx)("div",{className:"self-stretch text-gray-900 text-base font-semibold leading-tight",children:"Instagram account"})})})}),(0,c.jsx)("div",{className:"self-stretch p-4 bg-gray-50 rounded-lg flex-col justify-start items-center gap-6 flex w-full",children:(0,c.jsx)("div",{className:"self-stretch justify-start items-start gap-6 inline-flex",children:Z?(0,c.jsxs)("div",{className:"flex justify-start items-center gap-6",children:[(0,c.jsx)(w.Z,{variant:"icon",className:"w-4 h-4"}),(0,c.jsx)("span",{children:"Disconnecting"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"flex-col justify-start items-start gap-6 inline-flex",children:(0,c.jsx)(x.Z,{className:"w-5 h-5 text-green-500"})}),(0,c.jsxs)("div",{className:"grow shrink basis-0 flex-col justify-center items-start gap-3 inline-flex",children:[(0,c.jsx)("div",{className:"self-stretch h-8",children:(0,c.jsxs)("span",{className:"text-gray-900 text-sm font-normal leading-none",children:["The Instagram account"," ",(0,c.jsx)("span",{className:"font-semibold",children:C.username})," is now connected."]})}),(0,c.jsx)("div",{className:(0,b.AK)("justify-end items-center gap-1 inline-flex mt-4",Z?"cursor-not-allowed":"cursor-pointer"),role:"button",onClick:function(){return E.apply(this,arguments)},children:(0,c.jsx)("div",{className:"text-red-600 text-sm font-medium leading-none",children:"Disconnect"})})]})]})})})]})}),(0,c.jsx)("hr",{className:"my-6 border-gray-200"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{value:null===l||void 0===l?void 0:l.headline,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{headline:e}))}})]}),(0,c.jsx)("hr",{className:"my-6 border-gray-200"}),(0,c.jsxs)("div",{className:"my-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Show Instagram handle"}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6 mt-2",children:[(0,c.jsx)("p",{className:"text-gray-500 text-sm leading-tight",children:"Show your Instagram handle at the bottom of the feed"}),(0,c.jsx)(g.Z,{enabled:null===l||void 0===l?void 0:l.showAccount,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{showAccount:e}))}})]})]}),(0,c.jsx)("hr",{className:"my-6 border-gray-200"}),(0,c.jsx)(p.Z,{label:"Number of posts",value:(null===l||void 0===l?void 0:l.numPosts)||6,options:N,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{numPosts:e}))}})]}):(0,c.jsxs)("div",{className:"flex-col justify-start items-start gap-6 inline-flex",children:[(0,c.jsx)("div",{className:"self-stretch flex-col justify-center items-start gap-2 flex",children:(0,c.jsx)("div",{className:"self-stretch justify-start items-center gap-4 inline-flex",children:(0,c.jsx)("div",{className:"grow shrink basis-0 justify-start items-center gap-2 flex",children:(0,c.jsxs)("div",{className:"grow shrink basis-0 flex-col justify-start items-start gap-1 inline-flex",children:[(0,c.jsx)("div",{className:"self-stretch text-gray-900 text-base font-semibold leading-tight",children:"Connect Instagram account"}),(0,c.jsx)("div",{className:"self-stretch text-gray-500 text-sm font-normal leading-tight",children:"We'll need limited access to your Instagram account to display your feed."})]})})})}),(0,c.jsx)(y.Z,{onClick:function(){k(!0);var e=window.open(I,"_blank","popup=true width=600 height=600");window.onInstagramConnected=function(n){n.status?(e.close(),clearInterval(window.checkPopupTimer),delete window.checkPopupTimer,setTimeout((function(){window.onInstagramConnected&&b.Z9.success("Instagram account connected"),delete window.onInstagramConnected}),100),v((function(){k(!1)})),(0,u.Wf)({type:"instagram-connected"})):(console.log("Failed to link account",n),b.Z9.error("Instagram connection failed, please try again"),e.close(),k(!1),delete window.onInstagramConnected)},window.checkPopupTimer||(window.checkPopupTimer=setInterval((function(){e.closed&&(clearInterval(window.checkPopupTimer),delete window.checkPopupTimer,k(!1),b.Z9.warn("Instagram connection window close before your account was linked, please try again"))}),500))},loading:Z,className:"primary",children:"Connect Account"})]})}var k=t(90748),C=t(96065),S=t(38717),P=t(43226),E=t(59823),I=t(34122),B=t(94051);function O(e){var n,t=e.website,i=e.block,l=e.setEdit,a=e.setBlock;return(0,c.jsxs)("div",{children:[(0,c.jsx)(S._u,{website:t,block:i,onEdit:function(){return l("Colors")}}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(E.n,{label:"Alignment",value:null===i||void 0===i||null===(n=i.headerFooterAlign)||void 0===n?void 0:n.horizontal,onChange:function(e){a((function(n){return(0,o.Z)((0,s.Z)({},n),{headerFooterAlign:(0,o.Z)((0,s.Z)({},n.headerFooterAlign),{horizontal:e})})}))}}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(I.nR,{value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===t||void 0===t?void 0:t.cornerRadius,onChange:function(e){return a((0,o.Z)((0,s.Z)({},i),{cornerRadius:e}))}}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6 mb-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Remove gaps"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.noGutters,onChange:function(e){return a((0,o.Z)((0,s.Z)({},i),{noGutters:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Full width"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.fullWidth,onChange:function(e){return a((0,o.Z)((0,s.Z)({},i),{fullWidth:e}))}})]})]}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(B.Z,{block:i,setBlock:a,spacing:!0,minHeight:!1,verticalAlign:!1}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(k.iy,{className:"py-6",block:i,setBlock:a,website:t}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(P.S,{block:i,setBlock:a,onEdit:function(){return l("Divider style")}}),(0,c.jsx)("hr",{className:"my-6"}),(0,c.jsx)(C.x,{block:i,setBlock:a})]})}var T=(0,m.memo)((function(e){var n=e.block,t=e.businessConfig,i=e.getBusinessConfig,l=e.loading,a=e.open,r=e.rtl,d=e.setBlock,u=e.setOpen,x=e.setRtl,f=e.website,p=function(){u(!1)},g=(0,m.useState)(null),b=g[0],j=g[1],y={block:n,setBlock:d,website:f,edit:b,setEdit:j};return(0,c.jsxs)(v.Z,{title:"Instagram",open:a,rtl:r,setRtl:x,edit:b,setEdit:j,loading:l,onClose:p,hiddenTabs:["Colors","Divider style"],children:[(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsx)(Z,(0,o.Z)((0,s.Z)({},y),{businessConfig:t,getBusinessConfig:i}))}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsx)(O,(0,s.Z)({},y))}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:f,block:n,setBlock:d,onTryPalette:p})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:n,setBlock:d,isEditing:!0})})]})})),_=t(46785),A=t.n(_);function R(e){if(!Array.isArray(e)||0===e.length)return e;var n=e.filter((function(e){return!["header","footer"].includes(e.WebsiteBlock.type)}));if(n.every((function(e){return!!e._id})))return e;var t=[],i=n.map((function(e){return e._id||(e._id=new(A().Types.ObjectId)),e}));return i=i.map((function(e){var n;return e.buttons&&0!==(null===(n=e.buttons.items)||void 0===n?void 0:n.length)?(e.buttons.items=e.buttons.items.map((function(n){if("section"!==n.type)return n;if(A().Types.ObjectId.isValid(n.link)&&!n.link.includes("-"))return n;var l=i.find((function(e,t){return(0,u.IF)(e,t,!0)===n.link}));return l?(n.link=l._id,n):(t.push({block:e,button:n}),n)})),e):e})),t.length>0&&window.console&&console.warn("Failed to migrate these links to objectIds",t),[e[0]].concat((0,r.Z)(i),[e[e.length-1]])}var F=t(18912),D=t(9459),L=t(11355),W=t(69737),M=t(91957),z=t(25675),H=t.n(z),V=t(80360),K=t(33299),q=t(43714),$=[{id:"recommended",name:"Recommended"},{id:"most_popular",name:"Most popular"}],U={term:"",sortBy:"recommended"};function G(e){var n=e.open,t=e.setOpen,l=e.onSelect,a=e.setOpenPaywall,r=(0,m.useState)([]),u=r[0],v=r[1],h=(0,m.useState)([]),x=h[0],p=h[1],g=(0,m.useState)(U),y=g[0],N=g[1],Z=(0,K.useSession)().data,k=(0,q.Z)().track,C=(0,m.useRef)(null),S=(0,j.Z)(),P=S.get,E=S.post,I=function(e,n){return e.source===n.source?"most_popular"===(null===y||void 0===y?void 0:y.sortBy)?(null===n||void 0===n?void 0:n.usage)-(null===e||void 0===e?void 0:e.usage):(null===e||void 0===e?void 0:e.order)-(null===n||void 0===n?void 0:n.order):"durable"===e.source?-1:1},B=function(){var e=(0,i.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,P("/website/get-blocks").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&(n=e.content.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})),v(n),p(n.sort(I))),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){p(u.filter((function(e){return e.name.toLowerCase().includes(null===y||void 0===y?void 0:y.term.toLowerCase())})).sort(I))}),[y]);var O=function(e){var n,t,i;(null===Z||void 0===Z||null===(n=Z.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))||"durable"===e.source?(E("/website/track-block-usage",{blockId:e._id}).catch(console.log),l(e)):a("premium_sections"),k("website:".concat("common-ninja"===(null===e||void 0===e?void 0:e.source)?"premium-":"","section-added"),{block:null===e||void 0===e?void 0:e.type})};return(0,m.useEffect)((function(){return n&&B(),function(){N(U)}}),[n]),(0,c.jsx)(L.u.Root,{show:n,as:m.Fragment,children:(0,c.jsx)(W.V,{as:"div",className:"fixed z-110 inset-0",initialFocus:C,onClose:function(){},children:(0,c.jsxs)("div",{className:"flex md:block items-end justify-center min-h-dyn text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)(W.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,c.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,c.jsxs)("div",{className:"inline-block align-middle bg-white md:rounded-lg rounded-t-lg w-full md:max-w-md lg:max-w-3xl mt-8 xl:mt-0 text-left overflow-hidden shadow-xl transform transition-all",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 md:py-5 md:px-6 border-b border-gray-200",children:[(0,c.jsx)(W.V.Title,{className:"font-bold text-gray-900",children:"Add section"}),(0,c.jsx)("button",{type:"button",className:"text-gray-600 transition-all hover:text-gray-400",onClick:function(){return t(!1)},children:(0,c.jsx)(M.Z,{icon:"XSolidIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("div",{className:"flex gap-4 justify-between px-4 md:px-6 pt-4 pb-3.5",children:[(0,c.jsxs)("div",{className:"w-full md:w-60 relative",children:[(0,c.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,c.jsx)(M.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,c.jsx)(f.Z,{ref:C,inputClassName:"!pl-9",value:null===y||void 0===y?void 0:y.term,onChange:function(e){return N((0,o.Z)((0,s.Z)({},y),{term:e}))},onKeyUp:function(e){"Enter"===(null===e||void 0===e?void 0:e.key)&&(e.preventDefault(),1===x.length&&O(x[0]))},placeholder:"Search"})]}),(0,c.jsx)(V.Z,{className:"w-full md:w-40",value:$.find((function(e){return e.id===(null===y||void 0===y?void 0:y.sortBy)}))||$[0],values:$,onChange:function(e){return N((0,o.Z)((0,s.Z)({},y),{sortBy:e.id}))}})]}),(0,c.jsxs)("div",{className:"grid lg:grid-cols-2 md:grid-cols-1 gap-4 max-h-120 md:max-h-90 lg:max-h-90 xl:max-h-120 pt-0.5 pb-6 px-4 md:px-6 lg:pr-3 overflow-y-scroll",style:{gridTemplateRows:"repeat(4, 1fr)"},children:[0===u.length&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.Z,{variant:"list"}),(0,c.jsx)(w.Z,{variant:"list"}),(0,c.jsx)(w.Z,{variant:"list"})]}),(null===u||void 0===u?void 0:u.length)>0&&0===x.length&&(0,c.jsx)("div",{className:"h-32 text-sm font-normal text-black-500",children:"No block found."}),x.map((function(e){var n,t,i;return(0,c.jsxs)("div",{className:"group relative flex items-center h-32 gap-4 border border-gray-300 p-4 rounded-md ring-0 ring-indigo-700 cursor-pointer transition-all hover:ring-1 hover:border-indigo-700 hover:shadow-md",onClick:function(){return O(e)},children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("p",{className:"text-sm font-semibold group-hover:text-indigo-700",children:e.name}),!(null===Z||void 0===Z||null===(n=Z.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))&&"durable"!==e.source&&(0,c.jsx)("span",{className:"badge yellow",children:"Premium"})]}),(0,c.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(0,c.jsx)("p",{className:"text-xs font-medium text-gray-800 capitalize",children:e.source&&"durable"!==e.source?"By ".concat(e.source.replaceAll("-"," ")):"By Durable"})]}),(0,c.jsx)("div",{className:"flex-shrink-0 self-center relative w-20 h-20",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,c.jsx)(H(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,c.jsx)(H(),{unoptimized:!0,className:"rounded",src:(0,b.sd)("new-blocks/".concat(e.type,".svg")),objectFit:"cover",height:80,width:80,alt:e.name})})]},e._id)}))]})]})]})})]})})})}var X=t(84526),J=t(32130),Y=t(30120),Q=t(29064),ee=t(12280),ne=t(46930),te=t(11163),ie=t(60728),le=t(75511),se=[{id:"recommended",name:"Recommended"},{id:"most_popular",name:"Most popular"}],oe={term:"",sortBy:"recommended"};function ae(e){var n=e.open,t=e.setOpen,l=e.onSelect,a=e.widgets,r=e.setOpenPaywall,u=(0,m.useState)([]),v=u[0],h=u[1],x=(0,m.useState)([]),p=x[0],g=x[1],y=(0,m.useState)(!1),N=y[0],Z=y[1],k=(0,m.useState)(oe),C=k[0],S=k[1],P=(0,K.useSession)().data,E=(0,j.Z)(),I=E.get,B=E.post,O=function(e,n){var t;return e.source===n.source?"most_popular"===(null===C||void 0===C?void 0:C.sortBy)?(null===n||void 0===n?void 0:n.usage)-(null===e||void 0===e?void 0:e.usage):null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.localeCompare(null===n||void 0===n?void 0:n.name):"durable"===e.source?-1:1},T=function(){var e=(0,i.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return Z(!0),[4,I("/website/get-blocks",{category:"widget"}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((null===a||void 0===a?void 0:a.length)>0?(n=e.content.filter((function(e){return!(null===a||void 0===a?void 0:a.some((function(n){return n.type===e.type})))})),h(n),g(n.sort(O))):(h(e.content),g(e.content.sort(O)))),Z(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){g(v.filter((function(e){return e.name.toLowerCase().includes(null===C||void 0===C?void 0:C.term.toLowerCase())})).sort(O))}),[C]),(0,m.useEffect)((function(){return n&&T(),function(){S(oe)}}),[n]),(0,c.jsx)(L.u.Root,{show:n,as:m.Fragment,children:(0,c.jsx)(W.V,{as:"div",className:"fixed z-120 inset-0 overflow-y-auto",onClose:function(){return t(!1)},children:(0,c.jsxs)("div",{className:"flex items-end justify-center text-center md:block h-full md:p-4",style:{maxHeight:"-webkit-fill-available"},children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)(W.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,c.jsxs)("div",{className:"mt-40 inline-block bg-white md:rounded-lg rounded-t-lg lg:max-w-3xl md:max-w-md w-full text-left font-sans overflow-visible shadow-xl transform transition-all",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-6 py-6 px-6 border-b border-gray-200",children:[(0,c.jsx)(W.V.Title,{className:"font-bold text-gray-900",children:"Widgets"}),(0,c.jsx)("button",{type:"button",className:"text-gray-600 hover:text-gray-400",onClick:function(){return t(!1)},children:(0,c.jsx)(M.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsxs)("div",{className:"flex gap-4 justify-between px-6",children:[(0,c.jsxs)("div",{className:"w-full md:w-60 relative",children:[(0,c.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,c.jsx)(M.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,c.jsx)(f.Z,{inputClassName:"!pl-9",value:null===C||void 0===C?void 0:C.term,onChange:function(e){return S((0,o.Z)((0,s.Z)({},C),{term:e}))},placeholder:"Search"})]}),(0,c.jsx)(V.Z,{className:"w-full md:w-40",value:se.find((function(e){return e.id===(null===C||void 0===C?void 0:C.sortBy)}))||se[0],values:se,onChange:function(e){return S((0,o.Z)((0,s.Z)({},C),{sortBy:e.id}))}})]}),(0,c.jsxs)("div",{style:{gridTemplateRows:"1fr"},className:"grid lg:grid-cols-2 md:grid-cols-1 gap-4 max-h-120 pb-6 px-6 md:pr-3 overflow-y-scroll",children:[N&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.Z,{variant:"list"}),(0,c.jsx)(w.Z,{variant:"list"}),(0,c.jsx)(w.Z,{variant:"list"})]}),!N&&0===p.length&&(0,c.jsx)("p",{className:"text-sm font-normal text-black-500",children:"No block found."}),!N&&p.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})).map((function(e){var n,t,i;return(0,c.jsxs)("div",{className:"group relative flex h-32 gap-4 border border-gray-300 p-4 rounded-md hover:bg-indigo-50 hover:border-indigo-600 cursor-pointer",onClick:function(){return function(e){var n,t,i;(null===P||void 0===P||null===(n=P.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))||"durable"===e.source?(B("/website/track-block-usage",{blockId:e._id}).catch(console.log),l(e)):r("premium_widgets")}(e)},children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("p",{className:"text-sm font-semibold group-hover:text-indigo-700",children:e.name}),!(null===P||void 0===P||null===(n=P.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))&&"durable"!==e.source&&(0,c.jsx)("span",{className:"badge yellow",children:"Premium"})]}),(0,c.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(0,c.jsx)("p",{className:"text-xs font-medium text-gray-800",children:e.source&&"durable"!==e.source?"By ".concat(e.source.replaceAll("-"," ")):"By Durable"})]}),(0,c.jsx)("div",{className:"flex-shrink-0 self-center relative w-20 h-20",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,c.jsx)(H(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,c.jsx)(H(),{unoptimized:!0,className:"rounded",src:(0,b.sd)("blocks/".concat(e.type,".svg")),layout:"fill",objectFit:"cover",alt:e.name})})]},e._id)}))]})]})]})})]})})})}var re=t(12799),de=t(78068),ce=t(72510),ue=t(74007);function me(e){var n=e.disabled,t=e.handleOpenManage,i=e.className,l=e.buttonClassName,s=e.dataTour,o=(0,m.useState)("desktop"),a=o[0],r=o[1],d=(0,b.ac)("(min-width: 1024px)"),u=(0,b.ac)("(min-width: 860px)"),v=(0,q.Z)().track;return(0,m.useEffect)((function(){r(d?"desktop":u?"tablet":"mobile")}),[d,u]),(0,c.jsx)(ue.Z,{dataTour:s,inline:!0,className:(0,b.AK)("text-center w-full",i),buttonClassName:(0,b.AK)("button light !border-0 md:!border icon gap-2 !px-3 !py-2.5 !ring-0 !ring-transparent whitespace-nowrap flex flex-col md:flex-row w-full",l),openClassName:"!bg-gray-100",button:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(M.Z,{icon:"StyleIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"block md:hidden lg:block text-body-xs md:text-label",children:"Style"}),(0,c.jsx)(M.Z,{icon:"ChevronDownSolidIcon",className:"w-4 h-4 hidden md:block","aria-hidden":"true"})]}),disabled:n,closeOnSelect:!u,children:[{tab:1,icon:"ColorPaletteIcon",label:"Color"},{tab:4,icon:"FontSizeIcon",label:"Fonts"},{tab:3,icon:"ButtonsIcon",label:"Buttons"},{tab:6,icon:"StyleIcon",label:"Other styles"}].map((function(e,n){return(0,c.jsx)(ce.v.Item,{children:(0,c.jsxs)("div",{onClick:function(n){t(n,e.tab),v("website:edit-style",{action:e.label})},className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-gray-700 cursor-pointer",children:[(0,c.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,c.jsx)(M.Z,{icon:e.icon,className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:e.label})]}),a===e.device&&(0,c.jsx)(M.Z,{icon:"CheckIcon",className:"w-5 h-5 text-gray-700","aria-hidden":"true"})]})},"view-port-device-".concat(n))}))})}function ve(e){var n=e.track,t=e.website,i=e.loading,l=e.blogMode,s=e.postMode,o=e.generating,a=e.openAssistant,r=e.setOpenAssistant,d=e.openSupport,u=e.isOpenSupport,m=e.handleOpenManage,v=e.openManageWidgets,h=e.onPreview;return(0,c.jsx)("nav",{className:"sticky left-0 bottom-0 z-50 md:hidden w-full bg-white border-t border-gray-300",children:(0,c.jsxs)("div",{className:"grid grid-cols-auto justify-between max-w-120 mx-auto",children:[l||s?(0,c.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:i||o,onClick:function(){s?window.settingsPost():window.editBlock("blog")},children:[(0,c.jsx)(M.Z,{icon:"Cog8ToothIcon",className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-body-xs",children:"Settings"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(me,{dataTour:"theme-mobile",disabled:i||o,handleOpenManage:function(e,n){return m(e,"style",n)}}),(0,c.jsxs)("button",{className:(0,b.AK)("light transparent flex-col gap-1 !rounded-none",v&&"!bg-gray-100"),disabled:i||o,onClick:function(e){return m(e,"widget")},children:[(0,c.jsx)(M.Z,{icon:"SquaresPlusIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-body-xs",children:"Widgets"})]})]}),(0,c.jsxs)("button",{className:(0,b.AK)("light transparent flex-col gap-1 !rounded-none",u&&"!bg-gray-100"),disabled:i||o,onClick:function(){return d()},children:[(0,c.jsx)(M.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-body-xs",children:"Help"})]}),(0,c.jsxs)("button",{className:"light transparent flex-col gap-1 !rounded-none",disabled:i||o,onClick:function(){return h()},"data-tour":"preview-mobile",children:[(0,c.jsx)(M.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5"}),(0,c.jsx)("span",{className:"text-body-xs",children:"public"===(null===t||void 0===t?void 0:t.status)?"View":"Preview"})]}),(0,c.jsx)(y.Z,{className:(0,b.AK)("light transparent flex-col gap-1 !rounded-none"),disabled:i||o,loading:o,onClick:function(){a||n("ai-assistant:opened",{from:"website-builder"}),r(!0)},children:(0,c.jsx)("div",{"data-tour":"assistant-mobile",children:(0,c.jsx)(de.Z,{variant:a?"active":"default"})})})]})})}var he=t(79454);function xe(e){var n,t=e.open,l=e.setOpen,s=e.block,o=e.refreshWidget,a=(0,ie.Z)(),r=a.confirm,u=a.ConfirmDialog,v=(0,m.useState)(!1),h=v[0],x=v[1],f=function(e){var n,t,i;"COMMONNINJA_EDITOR_STATE_CHANGED"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.type)&&!(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.saved)&&(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.widgetId)?x(!0):x(!1)};return(0,m.useEffect)((function(){return s&&window.addEventListener("message",f),function(){s&&window.removeEventListener("message",f)}}),[s]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{confirmText:"Discard",attention:!0}),(0,c.jsx)(L.u.Root,{show:t,as:m.Fragment,children:(0,c.jsx)("div",{className:"fixed z-100 inset-0 overflow-y-auto",children:(0,c.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"}),(0,c.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,c.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg md:my-8 w-full md:w-5/6 text-left overflow-visible shadow-xl transform transition-all",children:[(0,c.jsxs)("div",{className:"flex items-center py-6 px-6 border-b border-gray-200",children:[(0,c.jsxs)("h3",{className:"text-lg text-center leading-6 font-medium text-gray-900",children:["Configure ",(null===s||void 0===s||null===(n=s.WebsiteBlock)||void 0===n?void 0:n.name)||""]}),(0,c.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return function(){var e;h?r("Discard changes?","Are you sure you want to close without saving the ".concat(null===s||void 0===s||null===(e=s.WebsiteBlock)||void 0===e?void 0:e.name,"? Any unsaved changes will be discarded."),(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){return o(null===s||void 0===s?void 0:s.externalId),l(!1),[2]}))}))):(o(null===s||void 0===s?void 0:s.externalId),l(!1))}()},children:(0,c.jsx)(M.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsx)("div",{className:"flex flex-col gap-4 ",children:(0,c.jsx)("iframe",{className:"w-full min-h-180",src:null===s||void 0===s?void 0:s.editorUrl})})]})})]})})})]})}var fe=t(53371),pe=t(87423);function ge(e){var n=e.open,t=e.setOpen,i=e.aiCreatePageType,l=e.onCreatePage,s=e.onCreatePost,o=e.closeManagePagesModal,a=(0,b.ac)("(min-width: 1024px)"),r=(0,pe.Z)({url:"/website/get-page-templates"}),d=r.data,u=r.request,v=(0,pe.Z)({url:"/website/create-page-template",method:"post",onSuccess:function(e){l(e,a)},onError:function(e){b.Z9.error("Error saving this page, please try again. "+e,{autoClose:!0})}}),h=v.request,x=v.isLoading,f=function(e){"website-post"===e?(s(),t(!1)):(o(),h({template:e}))};return(0,m.useEffect)((function(){u()}),[]),(0,m.useEffect)((function(){i&&f(i)}),[i]),(0,c.jsx)(ee.u,{open:n,setOpen:t,title:"Add page",isLoading:x,loaderText:"Generating page...",contentClassName:"md:!pr-3",children:(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5",children:d?d.map((function(e,n){var t=e.name,i=e.description,l=e.type;return(0,c.jsxs)("div",{className:"h-full p-5 bg-white border border-gray-200 rounded-lg shadow ring-0 ring-indigo-200 cursor-pointer transition-all hover:border-indigo-600 active:ring-4",onClick:function(){return f(l)},children:[(0,c.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mb-2",children:t}),(0,c.jsx)("p",{className:"text-gray-500",children:i})]}),(0,c.jsxs)("button",{className:"link inline-flex items-center gap-0.5",children:[(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Add"})]})]}),(0,c.jsx)("div",{className:"relative w-full h-[200px] pointer-events-none",children:(0,c.jsx)(H(),{unoptimized:!0,className:"rounded-lg",src:(0,b.sd)("new-templates/".concat(l,".svg")),alt:t,layout:"fill",objectFit:"cover"})})]},"page-template-".concat(l,"-").concat(n))})):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"}),(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"!w-[360px] !h-[282px] !max-w-full mx-auto"})]})})})}var be=t(43751);function je(e){var n=e.open,t=e.onClose,i=e.onAction,l=e.scrolledDistance,s=(0,m.useState)(!1),o=s[0],a=s[1],r=(0,m.useState)(!1),d=r[0],u=r[1],v=(0,m.useState)(!1),h=v[0],x=v[1],f=(0,q.Z)().track,p=function(e){var n=e.detail;x(null===n||void 0===n?void 0:n.active)};return(0,m.useEffect)((function(){var e=setInterval((function(){var e=document.getElementsByClassName("Toastify__toast-container");u((null===e||void 0===e?void 0:e.length)>0)}),500);return window.addEventListener("website-builder-active-block-changed",p),function(){clearInterval(e),window.removeEventListener("website-builder-active-block-changed",p)}}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(L.u.Root,{show:n&&l<200&&!h&&!o,as:m.Fragment,children:(0,c.jsx)("div",{className:"absolute sm:fixed bottom-16 md:bottom-6 left-1/2 -translate-x-1/2 z-40 p-2 sm:px-0 md:py-0 mx-auto w-full sm:max-w-120",children:(0,c.jsx)(L.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,c.jsxs)("div",{className:(0,b.AK)("group flex flex-row items-center gap-2 p-2 opacity-100 transition-all duration-300 bg-white border-gray-300 rounded-xl shadow-md",d&&"!opacity-0"),children:[(0,c.jsxs)("div",{className:"flex-shrink-0 relative w-10 h-10",children:[(0,c.jsx)("div",{className:"hidden md:flex absolute inset-0 w-10 h-10 opacity-100 transition-opacity group-hover:opacity-0",children:(0,c.jsx)(H(),{src:(0,b.sd)("rocket.svg"),alt:"Upgrade",layout:"fill",objectFit:"cover"})}),(0,c.jsx)("div",{className:"relative z-10 flex justify-center items-center w-10 h-10 md:opacity-0 cursor-pointer transition-opacity md:group-hover:opacity-100",onClick:function(){a(!0),t()},children:(0,c.jsx)(be.Z,{className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col w-full sm:px-2 text-sm",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-700",children:"Upgrade to get a custom domain name"}),(0,c.jsx)("span",{className:"hidden sm:block text-gray-500",children:"Plus unlimited pages, analytics, and more."})]}),(0,c.jsx)("button",{className:"flex-shrink-0 primary",onClick:function(){f("account:paywall-click",{context:"domain_alert"}),i()},children:"Upgrade"})]})})})})})}var ye,we=t(9008),Ne=t.n(we),Ze=t(41664),ke=t.n(Ze),Ce=function(e){var n=e.block,t=e.setBlock,i=e.className;return 1===n.idx?(0,c.jsxs)("div",{className:(0,b.AK)("flex items-center justify-between gap-3",i),children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Combine with header"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Seamlessly blend banner background with page header"})]}),(0,c.jsx)(g.Z,{enabled:null===n||void 0===n?void 0:n.combineWithHeader,onChange:function(e){return t((0,o.Z)((0,s.Z)({},n),{combineWithHeader:e}))}})]}):null},Se=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],Pe=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],Ee=function(e){var n,t,i=e.className,l=e.block,a=e.setBlock;return(0,c.jsxs)("div",{className:(0,b.AK)("space-y-6",i),children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:Pe,value:Pe.find((function(e){var n,t,i;return e.id===((null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.borderless)||!(null===l||void 0===l||null===(t=l.image)||void 0===t?void 0:t.imageFit)?"cover":null===l||void 0===l||null===(i=l.image)||void 0===i?void 0:i.imageFit)})),disabled:null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.borderless,onChange:function(e){var n,t;return a((0,o.Z)((0,s.Z)({},l),{image:(0,o.Z)((0,s.Z)({},l.image),{imageFit:e.id,cornerRadius:"contain"===e.id?"no-rounded":null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.cornerRadius,aspectRatio:"contain"===e.id?"16:9":null===l||void 0===l||null===(t=l.image)||void 0===t?void 0:t.aspectRatio})}))}}),"contain"!==(null===l||void 0===l||null===(t=l.image)||void 0===t?void 0:t.imageFit)&&(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:Se,value:Se.find((function(e){var n;return e.id===(null!==(ye=null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.aspectRatio)&&void 0!==ye?ye:"16:9")})),onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{image:(0,o.Z)((0,s.Z)({},l.image),{aspectRatio:e.id})}))}})]})},Ie=t(61135),Be=t(77160),Oe=t(32336),Te=function(e){var n,t,i,l,a,r=e.className,d=e.block,u=e.setBlock;return(0,c.jsxs)("div",{className:r,children:[(0,c.jsx)(Ie.Z,{className:"mb-2",regenerate:!!(null===d||void 0===d||null===(n=d.image)||void 0===n?void 0:n.media),onChange:function(e){u((function(n){return(0,o.Z)((0,s.Z)({},n),{image:(0,o.Z)((0,s.Z)({},n.image),{media:e,altText:null===e||void 0===e?void 0:e.description})})}))},autoSuggest:(null===d||void 0===d||null===(t=d.image)||void 0===t?void 0:t.enabled)&&!(null===d||void 0===d||null===(i=d.image)||void 0===i?void 0:i.media)}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",pictures:null===d||void 0===d||null===(l=d.image)||void 0===l?void 0:l.media,onChange:function(e){e&&e.length>0&&u((0,o.Z)((0,s.Z)({},d),{image:(0,o.Z)((0,s.Z)({},d.image),{media:e[0],altText:e[0].description})}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===d||void 0===d||null===(a=d.image)||void 0===a?void 0:a.altText,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{image:(0,o.Z)((0,s.Z)({},d.image),{altText:e})}))}})]}),(0,c.jsx)(Oe.Z,{value:null===d||void 0===d?void 0:d.image,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{image:(0,o.Z)((0,s.Z)({},d.image),{imagePositionX:"".concat(e.x,"%"),imagePositionY:"".concat(e.y,"%")})}))}})]})},_e=t(45587),Ae=t(43443),Re=(0,Ae.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5 mt-6",children:null===n||void 0===n?void 0:n.map((function(e,l){return(0,c.jsx)(De,{index:l,idx:l,item:e,last:l===n.length-1,onSelect:t,onRemove:i},"list-item-".concat(l))}))})})),Fe=function(e){switch(e.type){case"page":return(0,c.jsx)(M.Z,{icon:"DocumentTextIcon",from:"heroicons",className:"w-5 h-5"});case"phone":return(0,c.jsx)(M.Z,{icon:"PhoneIcon",from:"heroicons",className:"w-5 h-5"});case"email":return(0,c.jsx)(M.Z,{icon:"EnvelopeIcon",from:"heroicons",className:"w-5 h-5"});case"section":return(0,c.jsx)(M.Z,{icon:"QueueListIcon",from:"heroicons",className:"w-5 h-5"});default:return(0,c.jsx)(M.Z,{icon:"LinkIcon",from:"heroicons",className:"w-5 h-5"})}},De=(0,Ae.W8)((function(e){var n=e.idx,t=e.item,i=e.last,l=e.onSelect,s=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!i&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(Le,{})}),(0,c.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[Fe(t),t.label]}),(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return l(n,t)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return s(n)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Le=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function We(e){var n,t,i,l=e.className,a=e.title,d=e.text,u=e.block,m=e.setBlock,v=e.setSelected,h=e.onEdit,x=null===u||void 0===u?void 0:u.buttons;!x&&(null===u||void 0===u?void 0:u.button)&&(x={enabled:!0,items:[null===u||void 0===u?void 0:u.button]});return(0,c.jsxs)("div",{className:l,children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold",children:a||"Buttons"}),d&&(0,c.jsx)("p",{className:"text-sm text-gray-500 mt-1 mr-2",children:d})]}),(0,c.jsx)(g.Z,{enabled:null===x||void 0===x?void 0:x.enabled,onChange:function(e){var n;return m((0,o.Z)((0,s.Z)({},u),{buttons:{enabled:e,items:(null===x||void 0===x||null===(n=x.items)||void 0===n?void 0:n.length)>0?x.items:[]},button:void 0}))}})]}),(null===x||void 0===x?void 0:x.enabled)&&(null===x||void 0===x||null===(n=x.items)||void 0===n?void 0:n.length)>0&&(0,c.jsx)(Re,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===x||void 0===x?void 0:x.items,onSortEnd:function(e){var n=e.oldIndex,t=e.newIndex,i=(0,b.p$)(null===x||void 0===x?void 0:x.items);i=(0,_e.Rp)(i,n,t),m((0,o.Z)((0,s.Z)({},u),{buttons:(0,o.Z)((0,s.Z)({},x),{items:i}),button:void 0}))},onRemove:function(e){var n=(0,b.p$)(null===x||void 0===x?void 0:x.items);n.splice(e,1),m((0,o.Z)((0,s.Z)({},u),{buttons:(0,o.Z)((0,s.Z)({},x),{items:n}),button:void 0}))},onSelect:function(e,n){v(e),h()}}),(null===x||void 0===x?void 0:x.enabled)&&(null===x||void 0===x||null===(t=x.items)||void 0===t?void 0:t.length)<2&&(0,c.jsx)("div",{className:"text-right mt-6",children:(0,c.jsxs)("button",{className:(0,b.AK)("link sm inline-flex items-center gap-2",0===(null===x||void 0===x||null===(i=x.items)||void 0===i?void 0:i.length)&&"mt-6"),onClick:function(){var e,n,t,i;m((0,o.Z)((0,s.Z)({},u),{button:void 0,buttons:(0,o.Z)((0,s.Z)({},x),{items:(0,r.Z)(null===x||void 0===x?void 0:x.items).concat([{label:"Button",type:"url",link:"#",style:{name:"style1"===(null===x||void 0===x||null===(e=x.items)||void 0===e||null===(n=e[0])||void 0===n||null===(t=n.style)||void 0===t?void 0:t.name)?"style2":"style1"}}])})})),v(null===x||void 0===x||null===(i=x.items)||void 0===i?void 0:i.length),h()},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add button"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})}var Me=t(29022),ze=[{id:"left",icon:"ImageLeftIcon"},{id:"right",icon:"ImageRightIcon"},{id:"top",icon:"ImageTopIcon"},{id:"bottom",icon:"ImageBottomIcon"}],He=[{id:"top",name:"Image top"},{id:"middle",name:"Image center"},{id:"bottom",name:"Image bottom"}],Ve=function(e){var n,t,i,l,a,r=e.className,d=e.block,u=e.setBlock;return(0,c.jsxs)("div",{className:(0,b.AK)("space-y-6",r),children:[(0,c.jsx)("p",{className:"font-semibold",children:"Layout"}),(0,c.jsx)(p.Z,{label:"Image position",value:(null===d||void 0===d||null===(n=d.image)||void 0===n?void 0:n.align)||"right",options:ze,onChange:function(e){var n=(0,o.Z)((0,s.Z)({},d),{image:(0,o.Z)((0,s.Z)({},d.image),{align:e})});["left","right"].includes(e)?E.J.find((function(e){return e.id===d.align}))&&(n.align="middle"):(He.find((function(e){return e.id===d.align}))&&(n.align="center"),n.image.borderless=!1),u(n)}}),["left","right"].includes(null===d||void 0===d||null===(t=d.image)||void 0===t?void 0:t.align)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Z,{label:"Align content to",placeholder:"Select",values:He,value:He.find((function(e){return e.id===d.align})),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{align:e.id}))}}),(0,c.jsx)(Me.K,{label:"Invert image and content on mobile",enabled:null===d||void 0===d||null===(i=d.mobile)||void 0===i?void 0:i.reverseOrder,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{mobile:(0,o.Z)((0,s.Z)({},null!==(a=d.mobile)&&void 0!==a?a:{}),{reverseOrder:e})}))}}),(0,c.jsx)(Me.K,{label:"Borderless image",enabled:null===d||void 0===d||null===(l=d.image)||void 0===l?void 0:l.borderless,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{image:(0,o.Z)((0,s.Z)({},d.image),{borderless:e})}))}})]})]})},Ke=t(992),qe=t(66605),$e=t(74906),Ue={"generate-team":{title:{formatResponse:function(e){return e[0].name}},content:{formatResponse:function(e){return e[0].job_role}}},"mars-generate-services":{formatResponse:function(e){var n,t,i,l;return{content:"".concat((null===(n=e[0])||void 0===n?void 0:n.heading)?'<h3 style="white-space: pre-line">'.concat(null===(t=e[0])||void 0===t?void 0:t.heading,"</h3>"):"").concat((null===(i=e[0])||void 0===i?void 0:i.description)?'<p style="white-space: pre-line">'.concat(null===(l=e[0])||void 0===l?void 0:l.description,"</p>"):"")}}},"mars-generate-about-us":{formatResponse:function(e){return'<h3 style="white-space: pre-line">About us</h3><p style="white-space: pre-line">'.concat(null!==e&&void 0!==e?e:"","</p>")}}};var Ge=function(){var e=(0,$e.Z)().post,n=function(){var n=(0,i.Z)((function(n,t,i){var l,o,a,r,c,u;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),l=n.label,o=n.subPrompt,a=n.variant,r=void 0===a?"better":a,[4,e("/ai/generate",{body:{prompt:l,data:(0,s.Z)({},t,o&&{variant:o}),variant:r,stream:!1,output_language:i||"en"}})];case 1:return c=d.sent(),[2,Ue[l]?o?Ue[l][o].hasOwnProperty("formatResponse")?null===(u=Ue[l][o])||void 0===u?void 0:u.formatResponse(c):c:Ue[l].hasOwnProperty("formatResponse")?Ue[l].formatResponse(c):c:c];case 2:throw d.sent();case 3:return[2]}}))}));return function(e,t,i){return n.apply(this,arguments)}}();return{promptSuggestion:n}};function Xe(e){var n=e.prompt,t=e.label,l=e.regenerate,o=e.onSuggestion,a=(0,m.useState)(!1),r=a[0],u=a[1],v=(0,m.useState)((0,b.tl)("business.config")),h=v[0],x=v[1],f=(0,j.Z)().get,p=Ge().promptSuggestion,g=function(){var e,n,t,i="United States";(null===h||void 0===h||null===(e=h.office)||void 0===e?void 0:e.address)&&(i=h.office.address.line1?"".concat(h.office.address.line1,", "):"",i+=h.office.address.line2?"".concat(h.office.address.line2,", "):"",i+=h.office.address.city?"".concat(h.office.address.city,", "):"",i+=h.office.address.state?"".concat(h.office.address.state,", "):"",i+=h.office.address.country?null!==(t=null===(n=b.hW.find((function(e){return e.code===h.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:"".concat(h.office.address.country," "):"",i+=h.office.address.postalCode?h.office.address.postalCode:"");return i.trim()},y=function(){var e=(0,i.Z)((function(e){var n,t,i,l,a,r,c,m,v,x,f,b,j,y,w,N,Z,k,C,S,P,E,I,B;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:u(!0),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,p(e,(0,s.Z)({business:{name:null===h||void 0===h||null===(n=h.business)||void 0===n?void 0:n.name,vertical:"Other"===(null===h||void 0===h||null===(t=h.business)||void 0===t||null===(i=t.type)||void 0===i||null===(l=i.Type)||void 0===l?void 0:l.name)?null===h||void 0===h||null===(a=h.business)||void 0===a||null===(r=a.type)||void 0===r?void 0:r.name:null===h||void 0===h||null===(c=h.business)||void 0===c||null===(m=c.type)||void 0===m||null===(v=m.Type)||void 0===v?void 0:v.name},vertical:"Other"===(null===h||void 0===h||null===(x=h.business)||void 0===x||null===(f=x.type)||void 0===f||null===(b=f.Type)||void 0===b?void 0:b.name)?null===h||void 0===h||null===(j=h.business)||void 0===j||null===(y=j.type)||void 0===y?void 0:y.name:null===h||void 0===h||null===(w=h.business)||void 0===w||null===(N=w.type)||void 0===N||null===(Z=N.Type)||void 0===Z?void 0:Z.name,tone:"professional",location:g(),quantity:1},null!==(P=e.extraProps)&&void 0!==P?P:{}),null!==(E=null===h||void 0===h||null===(k=h.business)||void 0===k||null===(C=k.settings)||void 0===C||null===(S=C.ai)||void 0===S?void 0:S.language)&&void 0!==E?E:"en")];case 2:return I=d.sent().content,o(I),[3,5];case 3:return B=d.sent(),console.error(B.message),[2,null];case 4:return u(!1),[7];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,f("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,b.Fs)("business.config",e.content),x(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){N()}),[]),(0,c.jsx)(c.Fragment,{children:h&&(0,c.jsx)(qe.Z,{alt:"Generate content using AI.",children:(0,c.jsx)("button",{disabled:r,onClick:function(){y(n)},className:"link inline-flex items-center gap-1",children:r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-sm",children:l?"Regenerating":"Generating"}),(0,c.jsx)(w.Z,{variant:"icon"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-sm",children:t||(l?"Regenerate":"Generate")}),(0,c.jsx)(M.Z,{icon:"BoltIcon",className:"w-4 h-4"})]})})})})}var Je=[{id:"default",name:"Default",blocks:["hero","text","list","service-list","team-list","banner","cta"]},{id:"about-us",name:"About us",blocks:["hero","text"]},{id:"pitch",name:"Elevator pitch",blocks:["text"]},{id:"welcome",name:"Welcome text",blocks:["text"]},{id:"service-list",name:"Services",blocks:["list"]},{id:"service",name:"Service",blocks:["hero"]},{id:"stats",name:"Statistics",blocks:["list"]},{id:"team",name:"Team",blocks:["hero"]},{id:"team-list",name:"Team members",blocks:["list"]},{id:"our-work",name:"Our work",blocks:["list","hero"]},{id:"faq",name:"FAQ",blocks:["text"]},{id:"privacy-policy",name:"Privacy policy",blocks:["text"]},{id:"terms-of-service",name:"Terms of service",blocks:["text"]},{id:"marketing-focused",name:"Marketing focused",blocks:["text","hero"]},{id:"cta",name:"Call to action",blocks:["banner"]},{id:"cta-menu",name:"Call to action menu",blocks:["banner","cta"]}],Ye=[{id:"h1",name:"Heading 1"},{id:"h2",name:"Heading 2"},{id:"h3",name:"Heading 3"},{id:"body-large",name:"Body large"},{id:"body-normal",name:"Body normal"},{id:"body-small",name:"Body small"}];function Qe(e){var n,t,i,l,a,r=e.block,d=e.setBlock,u=e.purpose,m=e.randomize,v=(0,K.useSession)().data,h=Je.filter((function(e){var n;return e.blocks.includes(null===r||void 0===r||null===(n=r.WebsiteBlock)||void 0===n?void 0:n.type)}));return(null===v||void 0===v||null===(n=v.user)||void 0===n?void 0:n.isTemplateManager)?(0,c.jsxs)("div",{className:"mt-6 pt-6 space-y-4",children:[(0,c.jsx)("p",{className:"mb-6 font-semibold",children:"Template settings"}),u&&(0,c.jsx)(V.Z,{label:"Purpose",placeholder:"Select",values:h,value:h.find((function(e){return e.id===(null===r||void 0===r?void 0:r.type)}))||h[0],onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{type:e.id}))}}),["pitch","welcome"].includes(null===r||void 0===r?void 0:r.type)&&(0,c.jsx)(V.Z,{label:"Text size",placeholder:"Select",values:Ye,value:Ye.find((function(e){var n;return e.id===(null===r||void 0===r||null===(n=r.template)||void 0===n?void 0:n.textSize)}))||Ye[2],onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{template:(0,o.Z)((0,s.Z)({},r.template),{textSize:e.id})}))}}),["cta","cta-menu"].includes(null===r||void 0===r?void 0:r.type)&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-700",children:"Content generation"}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-700",children:"Heading"}),(0,c.jsx)(g.Z,{enabled:null===r||void 0===r||null===(t=r.template)||void 0===t?void 0:t.showHeading,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{template:(0,o.Z)((0,s.Z)({},r.template),{showHeading:e})}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-700",children:"Content"}),(0,c.jsx)(g.Z,{enabled:null===r||void 0===r||null===(i=r.template)||void 0===i?void 0:i.showContent,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{template:(0,o.Z)((0,s.Z)({},r.template),{showContent:e})}))}})]})]}),m&&(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-700",children:"Randomize spacing"}),(0,c.jsx)(g.Z,{enabled:!(0,b.$K)(null===r||void 0===r||null===(l=r.randomize)||void 0===l?void 0:l.spacing)||(null===r||void 0===r||null===(a=r.randomize)||void 0===a?void 0:a.spacing),onChange:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{randomize:(0,o.Z)((0,s.Z)({},n.randomize),{spacing:e,minHeight:void 0})})}))}})]})]}):null}function en(e){var n,t,i,l,a,r,d,u,x,p,j,y,w,N,Z,E,O,T,_,A,R,F=e.open,D=e.setOpen,L=e.block,W=e.setBlock,M=e.rtl,z=e.setRtl,H=e.loading,V=e.website,K=e.onValid,q=(0,m.useState)(null),$=q[0],U=q[1],G=(0,m.useState)(null),X=G[0],J=G[1],Y=(0,m.useState)(!1),ee=Y[0],ne=Y[1],te=function(){D(!1)},ie=(null===L||void 0===L||null===(n=L.buttons)||void 0===n?void 0:n.enabled)&&(null===L||void 0===L||null===(t=L.buttons)||void 0===t||null===(i=t.items)||void 0===i?void 0:i.length)>0?null===L||void 0===L?void 0:L.buttons:(null===L||void 0===L?void 0:L.button)?{enabled:!0,items:[null===L||void 0===L?void 0:L.button]}:{enabled:!1,items:[]};return(0,c.jsxs)(v.Z,{title:"Banner",open:F,rtl:M,setRtl:z,edit:$,setEdit:U,loading:H,hiddenTabs:["Colors","Button style","Divider style","Button settings","Image settings"],onClose:te,invalid:ee,setSelectedItem:J,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===L||void 0===L?void 0:L.headline),prompt:{label:"mars-generate-heading"},onSuggestion:function(e){W((function(n){return(0,o.Z)((0,s.Z)({},n),{headline:e.headline})}))}})]}),(0,c.jsx)(f.Z,{value:null===L||void 0===L?void 0:L.headline,id:"headline",onChange:function(e){return W((0,o.Z)((0,s.Z)({},L),{headline:e}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Subtext"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===L||void 0===L?void 0:L.content),prompt:{label:"mars-generate-heading",extraProps:{headline:null===L||void 0===L?void 0:L.headline}},onSuggestion:function(e){W((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e.description})}))}})]}),(0,c.jsx)("textarea",{rows:4,id:"content",value:null===L||void 0===L?void 0:L.content,onChange:function(e){return W((0,o.Z)((0,s.Z)({},L),{content:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]})]}),(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(g.Z,{enabled:!!(null===L||void 0===L||null===(l=L.image)||void 0===l?void 0:l.enabled),onChange:function(e){var n;W((function(t){return(0,o.Z)((0,s.Z)({},t),{image:(0,o.Z)((0,s.Z)({},null!==(n=t.image)&&void 0!==n?n:{}),{align:"right",enabled:e}),align:e?"middle":"left"})}))}})]}),(null===L||void 0===L||null===(a=L.image)||void 0===a?void 0:a.enabled)&&(0,c.jsx)(Te,{block:L,setBlock:W})]}),(0,c.jsx)(We,{className:"pt-6",block:L,setBlock:W,onEdit:function(){return U("Button settings")},setSelected:J,text:"Add a button with a link to a page, phone number, email or section"}),(0,c.jsx)(Qe,{block:L,setBlock:W,purpose:!0})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:V,block:L,onEdit:function(){return U("Colors")}}),(null===ie||void 0===ie?void 0:ie.enabled)&&(null===ie||void 0===ie||null===(r=ie.items)||void 0===r?void 0:r.length)>0&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:V,block:L,onEdit:function(e){J(e),U("Button style")},onTryPalette:te}),(0,c.jsx)(Q.Xd,{className:"py-6",block:L,setBlock:W}),(null===L||void 0===L||null===(d=L.image)||void 0===d?void 0:d.enabled)&&(0,c.jsx)(Ve,{className:"py-6",block:L,setBlock:W}),(null===L||void 0===L?void 0:L.image)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ee,{className:"py-6",block:L,setBlock:W}),"contain"!==(null===L||void 0===L||null===(u=L.image)||void 0===u?void 0:u.imageFit)&&(0,c.jsx)(I.nR,{className:"py-6",value:(null===L||void 0===L||null===(x=L.image)||void 0===x?void 0:x.borderless)?"no-rounded":null===L||void 0===L||null===(p=L.image)||void 0===p?void 0:p.cornerRadius,defaultValue:null===V||void 0===V?void 0:V.cornerRadius,disabled:null===L||void 0===L||null===(j=L.image)||void 0===j?void 0:j.borderless,onChange:function(e){return W((0,o.Z)((0,s.Z)({},L),{image:(0,o.Z)((0,s.Z)({},L.image),{cornerRadius:e})}))}})]}),(0,c.jsx)(B.Z,{className:"py-6",block:L,setBlock:W,verticalAlign:!(null===L||void 0===L||null===(y=L.image)||void 0===y?void 0:y.borderless),horizontalAlign:!(null===L||void 0===L||null===(w=L.image)||void 0===w?void 0:w.enabled)||(null===L||void 0===L||null===(N=L.image)||void 0===N?void 0:N.enabled)&&("top"===(null===L||void 0===L||null===(Z=L.image)||void 0===Z?void 0:Z.align)||"bottom"===(null===L||void 0===L||null===(E=L.image)||void 0===E?void 0:E.align))}),(0,c.jsx)(P.S,{className:"py-6",block:L,setBlock:W,onEdit:function(){return U("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:L,setBlock:W}),(0,c.jsx)(k.iy,{className:"py-6",block:L,setBlock:W,website:V}),(0,c.jsx)(Ce,{className:"pt-6",block:L,setBlock:W})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:V,block:L,setBlock:W,onTryPalette:te})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:V,button:(null===(O=L.buttons)||void 0===O||null===(T=O.items)||void 0===T?void 0:T[X])||L.button,onChange:function(e){W((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[X]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t,button:void 0})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:L,setBlock:W,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.jR,{switchable:!1,button:(null===(_=L.buttons)||void 0===_||null===(A=_.items)||void 0===A?void 0:A[X])||L.button,onChange:function(e){W((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[X]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t,button:void 0})}))},onValid:function(e){K(e),ne(!e)}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(null===L||void 0===L||null===(R=L.image)||void 0===R?void 0:R.enabled)&&(0,c.jsx)(Te,{block:L,setBlock:W})})]})}var nn=t(39260);function tn(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,d=e.website,u=(0,m.useState)(0),v=u[0],x=u[1],f=(0,m.useState)(null),p=f[0],j=f[1];(0,nn.m)(p);var y=[{id:0,key:"blog",title:"Blog"},{id:1,key:"colors",title:"Colors"}],w=function(){t(!1)},N=function(e){var n=y.find((function(n){return n.key===e}));x(n.id)};return(0,c.jsx)(L.u,{show:n,appear:!0,children:(0,c.jsx)("div",{className:(0,b.AK)("builder-panel",a?"right-0":"left-0"),children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:a?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:a?"translate-x-full":"-translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,c.jsxs)("div",{className:(0,b.AK)("max-w-full sticky top-0 flex items-center justify-between bg-white z-10 py-2 pr-1 md:pr-3 md:rounded-t-lg",v>0?"pl-1 md:pl-3":"pl-4 md:pl-6"),children:[(0,c.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,c.jsx)(L.u,{as:m.Fragment,show:v>0,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,c.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 light transparent icon",onClick:function(){"color-set"===y.find((function(e){return e.id===v})).key?N("palette"):N("blog")},children:[(0,c.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,c.jsx)(M.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,c.jsx)("p",{className:(0,b.AK)("font-bold text-gray-900 ml-0 py-2.5 transition-all duration-300",v>0&&"ml-10"),children:y[v].title})]}),(0,c.jsx)(L.u,{as:m.Fragment,show:0===v,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(a?"left":"right"),children:(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return r((function(e){return!e}))},children:[(0,c.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,c.jsx)(M.Z,{icon:a?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,c.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:w,children:"Done"})]})})]}),(0,c.jsxs)(h.O.Group,{as:"div",className:"flex flex-col h-full md:h-auto border-t",selectedIndex:v,children:[(0,c.jsx)(h.O.List,{className:"hidden",children:y.map((function(e,n){return(0,c.jsx)(h.O,{className:"hidden",children:e.name},"".concat(e.name,"-").concat(n))}))}),(0,c.jsxs)(h.O.Panels,{ref:function(e){return j(e?{current:e}:null)},className:"tab-panels",style:{maxHeight:"calc(100vh - 194px)"},children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:d,block:i,onEdit:function(){return N("colors")}}),(0,c.jsx)(I.nR,{subtitle:"The default setting for rounding the corner of images within the blog",className:"py-6",value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===d||void 0===d?void 0:d.cornerRadius,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{cornerRadius:e}))}}),(0,c.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Post display style"}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Show author"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.showAuthor,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{showAuthor:e}))}})]}),(null===i||void 0===i?void 0:i.showAuthor)&&(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Show avatar"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.showAvatar,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{showAvatar:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Show date"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.showDate,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{showDate:e}))}})]})]})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:d,block:i,setBlock:l,onTryPalette:w})})]})]})]})})})})})}var ln=t(75131),sn=t(42341);function on(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,d=e.loading,u=(e.onSave,e.changeHistory,e.website),x=e.onValid;i=(0,b.p$)(i);var p=(0,m.useState)(!1),g=p[0],j=p[1],y=(0,m.useState)(null),w=y[0],N=y[1],Z=function(){t(!1)},E=function(e){"function"===typeof x&&x(e)};return(0,m.useEffect)((function(){var e=function(e){j(!1),E(!0)};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e,!1)}}),[]),(0,c.jsxs)(v.Z,{title:"Calendly scheduling",open:n,rtl:a,setRtl:r,edit:w,setEdit:N,loading:d,disabled:g,hiddenTabs:["Colors","Divider style"],onClose:Z,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===i||void 0===i?void 0:i.headline),prompt:{label:"create-scheduling-hedline"},onSuggestion:function(e){l((function(n){return(0,o.Z)((0,s.Z)({},n),{headline:e})}))}})]}),(0,c.jsx)(f.Z,{id:"headline",value:null===i||void 0===i?void 0:i.headline,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Calendly link"}),(0,c.jsx)(f.Z,{id:"content",value:null===i||void 0===i?void 0:i.accountApp,prefix:"https://calendly.com/",placeholder:"username/30min",onChange:function(e){return function(e){var n=e.replace(/(^\w+:|^)\/\//,"").split("?")[0].replace("calendly.com",""),t=n.startsWith("/")?n.substring(1):n;t!==i.accountApp&&(j(!0),E(!1)),l((0,o.Z)((0,s.Z)({},i),{accountApp:t}))}(e)},helperText:(0,c.jsxs)(c.Fragment,{children:["Add your landing page or event scheduling page. ",(0,c.jsx)(ke(),{href:"https://help.calendly.com/hc/en-us/articles/223193448-Sharing-your-scheduling-link#sharing-your-scheduling-link-0-0",children:(0,c.jsx)("a",{target:"_blank",className:"link underline",children:"Learn more"})})]}),error:g&&"This URL is invalid"}),(null===i||void 0===i?void 0:i.accountApp)?(0,c.jsx)("iframe",{className:"w-0 h-0 hidden",src:"https://calendly.com/".concat(null===i||void 0===i?void 0:i.accountApp,"?embed_domain=").concat(location.host,"&embed_type=Inline&hide_landing_page_details=1&hide_gdpr_banner=1&background_color=").concat(null===i||void 0===i?void 0:i.backgroundApp,"&text_color=").concat(null===i||void 0===i?void 0:i.textColorApp,"&primary_color=").concat(null===i||void 0===i?void 0:i.primaryColorApp)}):""]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:u,block:i,onEdit:function(){return N("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:i,setBlock:l}),(0,c.jsx)(k.iy,{className:"py-6",block:i,setBlock:l,website:u}),(0,c.jsx)(P.S,{className:"py-6",block:i,setBlock:l,onEdit:function(){return N("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:i,setBlock:l}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===i||void 0===i?void 0:i.align)||"left",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Calendar background"}),(0,c.jsx)(sn.Z,{inline:!0,color:(null===i||void 0===i?void 0:i.backgroundApp)||"#FFFFFF",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{backgroundApp:e.hex}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Color of days"}),(0,c.jsx)(sn.Z,{inline:!0,color:(null===i||void 0===i?void 0:i.primaryColorApp)||"#FFFFFF",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{primaryColorApp:e.hex}))}})]})]})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:u,block:i,setBlock:l,onTryPalette:Z})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:i,setBlock:l,isEditing:!0})})]})}var an={horizontalAlign:["logo-slider"],fullWidth:["business-hours"]};function rn(e){var n,t,i,l,a,r,d=e.open,u=e.setOpen,x=e.block,f=e.setBlock,p=e.rtl,g=e.setRtl,j=e.loading,w=(e.onSave,e.changeHistory,e.website),N=e.editWidget,Z=(0,m.useState)(null),E=Z[0],I=Z[1],O=function(){u(!1)};return(0,c.jsxs)(v.Z,{title:(null===x||void 0===x||null===(n=x.WebsiteBlock)||void 0===n?void 0:n.name)||"Edit section",open:d,rtl:p,setRtl:g,edit:E,setEdit:I,loading:j,hiddenTabs:["Colors","Divider style"],onClose:O,children:[(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"w-full h-80 relative mb-4 rounded-md overflow-hidden",children:(0,c.jsx)(H(),{layout:"fill",alt:"Widget preview",unoptimized:!0,src:null===x||void 0===x||null===(t=x.WebsiteBlock)||void 0===t?void 0:t.previewUrl})}),(0,c.jsxs)(y.Z,{onClick:function(){return N(x)},className:"primary w-full",children:["Configure ",null===x||void 0===x||null===(i=x.WebsiteBlock)||void 0===i?void 0:i.name]})]})}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:w,block:x,onEdit:function(){return I("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:x,setBlock:f}),(0,c.jsx)(k.iy,{className:"py-6",block:x,setBlock:f,website:w}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)(B.Z,{className:"pb-6",block:x,setBlock:function(e){return f((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))},horizontalAlign:!(null===an||void 0===an?void 0:an.horizontalAlign.includes(null===x||void 0===x||null===(l=x.WebsiteBlock)||void 0===l?void 0:l.type)),verticalAlign:!0}),!(null===an||void 0===an?void 0:an.fullWidth.includes(null===x||void 0===x||null===(a=x.WebsiteBlock)||void 0===a?void 0:a.type))&&(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Width"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===x||void 0===x||null===(r=x.fullWidth)||void 0===r?void 0:r.toString())||"false",onChange:function(e){return f((0,o.Z)((0,s.Z)({},x),{fullWidth:"true"===e.toLowerCase()}))},children:[(0,c.jsx)(ln.E.Option,{value:"false",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-l-lg transition-all text-label font-medium"),children:"Inset"})}}),(0,c.jsx)(ln.E.Option,{value:"true",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-r-lg transition-all text-label font-medium"),children:"Full width"})}})]})]})]}),(0,c.jsx)(P.S,{className:"py-6",block:x,setBlock:f,onEdit:function(){return I("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:x,setBlock:f})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:w,block:x,setBlock:f,onTryPalette:O})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:x,setBlock:f,isEditing:!0})})]})}var dn=t(43994),cn=t(21574);var un=t(38462),mn=t(88575),vn=t(86067),hn=t(38986),xn=function(e){var n,t,i,l;return"custom"===(null===e||void 0===e||null===(n=e.fonts)||void 0===n?void 0:n.source)?(0,hn.s4)(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.custom)||void 0===l?void 0:l.head):(0,hn.s4)(null===e||void 0===e||null===(t=e.fonts)||void 0===t?void 0:t.head)},fn=function(e){var n,t,i,l;return"custom"===(null===e||void 0===e||null===(n=e.fonts)||void 0===n?void 0:n.source)?(0,hn.s4)(null===e||void 0===e||null===(i=e.fonts)||void 0===i||null===(l=i.custom)||void 0===l?void 0:l.body):(0,hn.s4)(null===e||void 0===e||null===(t=e.fonts)||void 0===t?void 0:t.body)};function pn(e){var n=e.website,t=e.value,i=e.onChange,l=e.toolbar,s=e.className,o=(0,m.useState)(""),r=o[0],d=o[1],u=(0,a.Z)((0,vn.Z)("website:active-editor",null,!0),2),v=(u[0],u[1]),h=(0,m.useRef)();return(0,m.useEffect)((function(){if(n){var e,t,i,l,s,o,r,c,u={},m={};if("custom"===(null===n||void 0===n||null===(e=n.fonts)||void 0===e?void 0:e.source))u=null===n||void 0===n||null===(i=n.fonts)||void 0===i||null===(l=i.custom)||void 0===l?void 0:l.head,m=null===n||void 0===n||null===(s=n.fonts)||void 0===s||null===(o=s.custom)||void 0===o?void 0:o.body;else u=null===n||void 0===n||null===(r=n.fonts)||void 0===r?void 0:r.head,m=null===n||void 0===n||null===(c=n.fonts)||void 0===c?void 0:c.body;var v="\n                :root {\n                    ".concat(Object.entries((0,hn.s4)(u)).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return"--head-".concat(t,":").concat(i,";")})).join(""),"\n                    ").concat(Object.entries((0,hn.s4)(m)).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return"--body-".concat(t,":").concat(i,";")})).join(""),"\n                }\n            "),h="";if("custom"===(null===n||void 0===n||null===(t=n.fonts)||void 0===t?void 0:t.source)){var x,f=(0,hn.Vd)(null===n||void 0===n||null===(x=n.fonts)||void 0===x?void 0:x.custom);h='@import url("https://fonts.googleapis.com/css2?'.concat(f.join("&"),'&display=swap");')}else{var p=(0,hn.Vd)(null===n||void 0===n?void 0:n.fonts);h='@import url("https://fonts.googleapis.com/css2?'.concat(p.join("&"),'&display=swap");')}d(h+v)}}),[null===n||void 0===n?void 0:n.fonts]),r?(0,c.jsx)(mn.Z,{value:t,ref:h,onEditorChange:function(e){e!==t&&i(e)},contentClassName:"rich-text-block website-wysiwyg",className:s,headingStyles:xn(n),bodyStyles:fn(n),toolbar:null!==l&&void 0!==l?l:"undo redo | formatting align list | link | removeformat",quickbars_insert_toolbar:"",quickbars_selection_toolbar:"",cssFileUrl:"/wysiwyg.css",style:r,toolbar_groups:{formatting:{icon:"format",tooltip:"Formatting",items:"styleselect bold italic | forecolor"},align:{icon:"align-left",tooltip:"Aligment",items:"alignleft aligncenter alignright alignjustify"},list:{icon:"unordered-list",tooltip:"Lists",items:"bullist numlist | outdent indent"}},onLoadContent:function(e,n){return v(n)}}):(0,c.jsx)(w.Z,{variant:"skeleton",classNameChild:"h-10"})}var gn=t(40269),bn=t(51351),jn=(0,Ae.W6)((function(e){e=null!==e?e:(0,bn.Z)(new TypeError("Cannot destructure undefined"));return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5 relative text-gray-900 cursor-move"})})),yn=(0,Ae.JN)((function(e){var n=e.children;return(0,c.jsx)("div",{className:"bg-white relative z-5 w-full mt-4",children:n})})),wn=(0,Ae.W8)((function(e){var n=e.field,t=e.isLast;return(0,c.jsxs)("div",{className:(0,b.AK)("self-stretch py-2 bg-opacity-0 justify-start items-center gap-4 inline-flex w-full z-100",t?"border-b-0":"border-b"),children:[(0,c.jsx)(jn,{}),(0,c.jsx)("div",{className:"grow shrink basis-0 flex-col justify-start items-start inline-flex",children:(0,c.jsxs)("div",{className:"self-stretch justify-start items-start inline-flex",children:[(0,c.jsx)("div",{className:"text-gray-900 text-sm font-medium leading-tight",children:n.label||n.name}),n.required&&(0,c.jsx)("div",{className:"text-gray-500 text-sm font-normal leading-tight",children:"\xa0\xb7 Required"})]})})]})}));function Nn(e){var n=e.fields,t=void 0===n?[]:n,i=e.onSortUpdated;return(0,c.jsx)(yn,{onSortEnd:function(e){var n=e.oldIndex,l=e.newIndex,s=(0,Ae.Rp)(t,n,l);i(s)},distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden",lockAxis:"y",lockToContainerEdges:!0,children:t.map((function(e,n){return(0,c.jsx)(wn,{field:e,index:n,isLast:n===t.length-1},e._id)}))})}var Zn="<h3>Message sent!</h3><p>We&apos;ll get in touch with you as soon as possible.</p>";function kn(e){var n,t,i=e.open,l=e.setOpen,a=e.block,d=e.setBlock,u=e.rtl,x=e.setRtl,p=e.loading,j=e.website,y=(0,un.$G)("block_contact").t,w=(0,m.useState)(null),N=w[0],Z=w[1],E=(0,m.useState)(!1),I=E[0],O=E[1],T=(0,m.useState)(null),_=(T[0],T[1]),A=(0,m.useState)(null),R=A[0],F=A[1],D=(0,ie.Z)(),L=(D.confirm,D.ConfirmDialog),W=(null===j||void 0===j?void 0:j.completeLocation)||{},z=W.country,H=W.countryCode,V=W.currency,K=(0,m.useMemo)((function(){return!(!(null===a||void 0===a?void 0:a.fields)||!a.fields.length)&&"message"===(null===a||void 0===a?void 0:a.fields[a.fields.length-1]._id)}),[null===a||void 0===a?void 0:a.fields]),q=function(e){return["phone","company"].includes(e._id)?y("label.".concat(e._id)):e._id.includes("address:")?"address:full"===e._id?y("label.fullAddress"):y("label.".concat(e._id.replace("address:",""))):e.name},$=function(){l(!1)},U=(0,m.useMemo)((function(){var e,n,t,i,l=null!==(t=null===a||void 0===a||null===(e=a.fields)||void 0===e?void 0:e.map((function(e){return e._id})))&&void 0!==t?t:[],s=null!==(i=null===a||void 0===a||null===(n=a.customFields)||void 0===n?void 0:n.map((function(e){return e.Field._id})))&&void 0!==i?i:[];return(0,r.Z)(l).concat((0,r.Z)(s)).filter((function(e){return e}))}),[null===a||void 0===a?void 0:a.customFields,null===a||void 0===a?void 0:a.fields]);return(0,m.useEffect)((function(){i&&(a.headline&&(a.content="<h3>".concat(a.headline,"</h3><p>").concat(a.content,"</p>"),delete a.headline),a.button||(a.button={}))}),[i]),(0,m.useEffect)((function(){I||(Z(null),_(null))}),[I]),(0,m.useEffect)((function(){if(!a.version||a.version<2){var e=function(e,n){var t,i;if(e.version>=2)return e;console.log("Migrating contact form to v2");var l=(0,r.Z)(cn.he);(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.length)>0&&e.fields.forEach((function(e){e.name||(e.name=e.label.toLowerCase().replace(/ /g,"_")),e.type||(e.type="text"),l.find((function(n){return n.name===e.name}))||e._id||(e._id=e.name,l.push(e))})),(null===(i=e.customFields)||void 0===i?void 0:i.length)>0&&(l=(0,r.Z)(l).concat((0,r.Z)(e.customFields.map((function(e){return(0,o.Z)((0,s.Z)({},e.Field),{label:e.Field.name,required:e.required})})))));var a=(0,o.Z)((0,s.Z)({},e),{version:2,fields:(0,r.Z)(l).concat([(0,o.Z)((0,s.Z)({},cn.b1),{label:e.messageFieldLabel||cn.b1.label})]),successMessage:e.successMessage||n});if(a.nameFieldLabel){var d=a.fields.find((function(e){return"name"===e.name}));d&&(d.label=a.nameFieldLabel)}return delete a.customFields,delete a.messageFieldLabel,delete a.nameFieldLabel,delete a.customizeFieldsLabel,a.fields=a.fields.filter((function(e,n,t){return n===t.findIndex((function(n){return n._id===e._id}))})),a.fields=a.fields.map((function(e){return e.label||(e.label=(0,b.kC)(e.name)),e})),a}(a,Zn);d(e)}else a.successMessage||d((0,o.Z)((0,s.Z)({},a),{successMessage:Zn}))}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Contact form",open:i,rtl:u,setRtl:x,edit:R,setEdit:F,loading:p,hiddenTabs:["Colors","Button style","Divider style"],onClose:$,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("div",{className:"flex justify-end items-center mb-2",children:(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===a||void 0===a?void 0:a.content),prompt:{label:"mars-create-contact-form-text"},onSuggestion:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})}),(0,c.jsx)(pn,{website:j,value:null===a||void 0===a?void 0:a.content,onChange:function(e){return d((0,o.Z)((0,s.Z)({},a),{content:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Fields"}),(0,c.jsx)("button",{className:"link sm",onClick:function(){Z(null),O(!0)},children:(0,c.jsx)("span",{className:"text-sm",children:"Manage fields"})})]}),(0,c.jsx)(Nn,{fields:null===a||void 0===a?void 0:a.fields,onSortUpdated:function(e){var n=(0,b.p$)(a);n.fields=e,d(n)}})]}),(0,c.jsxs)("div",{className:"py-6 space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Custom input labels"}),(0,c.jsx)(g.Z,{enabled:a.customizeFieldsLabel,onChange:function(e){d(e?(0,o.Z)((0,s.Z)({},a),{customizeFieldsLabel:e}):(0,o.Z)((0,s.Z)({},a),{customizeFieldsLabel:e,nameFieldLabel:void 0,emailFieldLabel:void 0,messageFieldLabel:void 0,sendButtonLabel:void 0}))}})]}),a.customizeFieldsLabel&&(0,c.jsxs)(c.Fragment,{children:[null===a||void 0===a||null===(n=a.fields)||void 0===n?void 0:n.map((function(e,n){var t;return"address:full"===e._id?null:(0,c.jsx)(f.Z,{label:null===(t=e.name)||void 0===t?void 0:t.replace("address:",""),labelClassName:"capitalize",value:e.label,onChange:function(e){var t=(0,b.p$)(a);t.fields[n].label=e,d(t)}},e._id)})),(0,c.jsx)(f.Z,{label:"Send button",value:null!==(t=null===a||void 0===a?void 0:a.sendButtonLabel)&&void 0!==t?t:"Send",onChange:function(e){return d((0,o.Z)((0,s.Z)({},a),{sendButtonLabel:null!==e&&void 0!==e?e:"Send"}))}})]})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Form success message"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===a||void 0===a?void 0:a.successMessage),prompt:{label:"mars-create-contact-form-success-message"},onSuggestion:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{successMessage:e})}))}})]}),(0,c.jsx)(pn,{website:j,value:null===a||void 0===a?void 0:a.successMessage,onChange:function(e){return d((0,o.Z)((0,s.Z)({},a),{successMessage:e}))}})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:j,block:a,onEdit:function(){return F("Colors")}}),(0,c.jsx)(Ke.ZJ,{className:"py-6",website:j,block:a,setBlock:d,onEdit:function(){return F("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:a,setBlock:d}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Form alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===a||void 0===a?void 0:a.align)||"right",onChange:function(e){return d((0,o.Z)((0,s.Z)({},a),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-l cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-r cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(J.U,{variant:"info",text:"Alignment only affects larger screens"})})]}),(0,c.jsx)(gn.I,{className:"py-6",block:a,setBlock:d}),(0,c.jsx)(k.iy,{className:"py-6",block:a,setBlock:d,website:j}),(0,c.jsx)(B.Z,{className:"py-6",block:a,setBlock:d}),(0,c.jsx)(P.S,{className:"py-6",block:a,setBlock:d,onEdit:function(){return F("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:a,setBlock:d})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:j,block:a,setBlock:d,onTryPalette:$})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:j,button:a.button,onChange:function(e){d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:a,setBlock:d,isEditing:!0})})]}),(0,c.jsx)(dn.w,{open:I,setOpen:O,field:N,selectedFields:U,onSelectedFieldsChange:function(e,n,t){d((function(e){var i=(0,b.p$)(e);if(i.fields||(i.fields=[]),!t&&!n.required)return i.fields=i.fields.filter((function(e){return e._id!==n._id})),i;var l=(0,o.Z)((0,s.Z)({},n),{type:n.type||"text",label:q(n),name:n.fieldName||n.name});return"money"===n.type&&(l.currency=n.currency||V||"USD"),"address:full"===n._id&&(i.fields=i.fields.filter((function(e){return!e._id.startsWith("address:")}))),i.fields.find((function(e){return e._id===n._id}))||(K?i.fields.splice(i.fields.length-1,0,l):i.fields.push(l)),i}))},onUpdate:function(e){d((function(n){var t=n.fields||[];if(t.length<1)return n;var i=t.map((function(n){var t,i=e.find((function(e){return e._id===n._id}));return i?(t=n.name===n.label?i.name:n.label,(0,o.Z)((0,s.Z)({},n,i),{label:t})):n}));return(0,o.Z)((0,s.Z)({},n),{fields:i})}))},action:"select",category:"customer",info:!0,country:H||z}),(0,c.jsx)(L,{attention:!0})]})}var Cn=[{id:"xl",name:"Extra large"},{id:"lg",name:"Large"},{id:"md",name:"Medium"},{id:"sm",name:"Small"}],Sn=[{id:"lg",name:"Large"},{id:"md",name:"Medium"},{id:"sm",name:"Small"}];function Pn(e){var n,t,i,l,a,r,d,u=e.open,x=e.setOpen,p=e.block,j=e.setBlock,y=e.rtl,w=e.setRtl,N=e.loading,Z=e.website,E=e.onValid,I=(0,m.useState)(null),O=I[0],T=I[1],_=(0,m.useState)(!1),A=_[0],R=_[1],F=(0,m.useState)(null),D=F[0],L=F[1],W=function(){x(!1)},M=function(e){j((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[D]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t})}))};return(0,c.jsxs)(v.Z,{title:"Call to action",open:u,rtl:y,setRtl:w,edit:O,setEdit:T,loading:N,hiddenTabs:["Colors","Button style","Divider style","Button settings"],onClose:W,invalid:A,setSelectedItem:L,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===p||void 0===p?void 0:p.headline),prompt:{label:"mars-create-cta-headline"},onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{headline:e})}))}})]}),(0,c.jsx)(f.Z,{value:null===p||void 0===p?void 0:p.headline,id:"headline",onChange:function(e){return j((0,o.Z)((0,s.Z)({},p),{headline:e}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Subtext"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===p||void 0===p?void 0:p.content),prompt:{label:"mars-create-cta-description",extraProps:{headline:null===p||void 0===p?void 0:p.headline}},onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,c.jsx)("textarea",{rows:4,id:"content",value:null===p||void 0===p?void 0:p.content,onChange:function(e){return j((0,o.Z)((0,s.Z)({},p),{content:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]})]}),(0,c.jsx)(We,{className:"pt-6",block:p,setBlock:j,onEdit:function(){return T("Button settings")},setSelected:L,text:"Add a button with a link to a page, phone number, email or section"}),(0,c.jsx)(Qe,{block:p,setBlock:j,purpose:!0})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:Z,block:p,onEdit:function(){return T("Colors")}}),(null===p||void 0===p||null===(n=p.buttons)||void 0===n?void 0:n.enabled)&&(null===p||void 0===p||null===(t=p.buttons)||void 0===t||null===(i=t.items)||void 0===i?void 0:i.length)>0&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:Z,block:p,onEdit:function(e){L(e),T("Button style")}}),(0,c.jsxs)("div",{className:"flex flex-col gap-6 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading"}),(0,c.jsx)(V.Z,{label:"Heading",values:Cn,value:null===Cn||void 0===Cn?void 0:Cn.find((function(e){return e.id===((null===p||void 0===p?void 0:p.headingTextStyle)||"lg")})),onChange:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{headingTextStyle:e.id})}))}}),(0,c.jsx)(V.Z,{label:"Subtext",values:Sn,value:null===Sn||void 0===Sn?void 0:Sn.find((function(e){return e.id===((null===p||void 0===p?void 0:p.bodyTextStyle)||"md")})),onChange:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{bodyTextStyle:e.id})}))}})]}),(0,c.jsx)(Q.Xd,{className:"py-6",block:p,setBlock:j}),(0,c.jsx)(k.iy,{className:"py-6",block:p,setBlock:j,website:Z}),(0,c.jsx)(B.Z,{className:"py-6",block:p,setBlock:j,horizontalAlign:!0}),(0,c.jsx)(P.S,{className:"py-6",block:p,setBlock:j,onEdit:function(){return T("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:p,setBlock:j}),1===p.idx&&(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Combine with header"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Seamlessly blend banner background with page header"})]}),(0,c.jsx)(g.Z,{enabled:null===p||void 0===p?void 0:p.combineWithHeader,onChange:function(e){return j((0,o.Z)((0,s.Z)({},p),{combineWithHeader:e}))}})]})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:Z,block:p,setBlock:j,onTryPalette:W})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:Z,button:null===(l=p.buttons)||void 0===l||null===(a=l.items)||void 0===a?void 0:a[D],onChange:M})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:p,setBlock:j,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.jR,{button:null===(r=p.buttons)||void 0===r||null===(d=r.items)||void 0===d?void 0:d[D],switchable:!1,onChange:M,onValid:function(e){E(e),R(!e)}})})]})}function En(e){var n,t=e.open,i=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,d=e.setRtl,u=e.loading,x=(e.onSave,e.changeHistory,e.website),p=(0,m.useState)(null),g=p[0],j=p[1],y=function(){i(!1)};return(0,c.jsxs)(v.Z,{title:"Embed",open:t,rtl:r,setRtl:d,edit:g,setEdit:j,loading:u,hiddenTabs:["Colors","Divider style"],onClose:y,children:[(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Code"}),(0,c.jsx)(f.Z,{id:"content",type:"textarea",inputClassName:"min-h-80",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{content:e}))},value:l.content}),(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)(J.U,{variant:"info",text:"The embedded object will only appear on the live website."})})]})}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:x,block:l,onEdit:function(){return j("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:l,setBlock:a}),(0,c.jsx)(k.iy,{className:"py-6",block:l,setBlock:a,website:x}),(0,c.jsx)(B.Z,{className:"py-6",block:l,setBlock:function(e){return a((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))},verticalAlign:!1}),(0,c.jsx)(P.S,{className:"py-6",block:l,setBlock:a,onEdit:function(){return j("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:l,setBlock:a}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Width"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===l||void 0===l||null===(n=l.fullWidth)||void 0===n?void 0:n.toString())||"false",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{fullWidth:"true"===e.toLowerCase()}))},children:[(0,c.jsx)(ln.E.Option,{value:"false",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-l-lg transition-all text-label font-medium"),children:"Inset"})}}),(0,c.jsx)(ln.E.Option,{value:"true",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","py-2.5 px-4 border cursor-pointer rounded-r-lg transition-all text-label font-medium"),children:"Full width"})}})]})]})})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:x,block:l,setBlock:a,onTryPalette:y})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:l,setBlock:a,isEditing:!0})})]})}var In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:void 0,payload:void 0},n=e.action,t=e.payload,l=(0,m.useState)(!1),s=l[0],o=l[1],a=(0,m.useState)(null),r=a[0],c=a[1],u=(0,m.useState)(null),v=u[0],h=u[1],x=(0,j.Z)().post;(0,m.useEffect)((function(){n&&t?f(n,t):(c(null),o(!1))}),[n,t]);var f=function(){var e=(0,i.Z)((function(e,n){var t;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return o(!0),[4,x("/openai/ask-to-bot",{action:e,data:n}).catch(console.log)];case 1:return(t=i.sent())&&!0===t.status&&t.content?(o(!1),c(t.content),h(t.logging||null),[2,{content:t.content,logging:t.logging}]):(o(!1),c(null),h(null),[2,null])}}))}));return function(n,t){return e.apply(this,arguments)}}();return{isLoading:s,data:r,logId:v,getDataViaOpenAI:f,set:c}};function Bn(e){var n=e.prompt,t=e.includeVertical,l=e.includeLocation,o=e.includeName,a=e.includeTitle,r=e.label,u=e.regenerate,v=e.disabled,h=e.onLoading,x=e.onSuggestion,f=e.v2,p=(0,m.useState)(!1),g=p[0],y=p[1],N=(0,m.useState)((0,b.tl)("business.config")),Z=N[0],k=N[1],C=(0,j.Z)().get,S=In().suggestInputContent,P=(0,$e.Z)().post,E=function(){var e=(0,i.Z)((function(e,n,t){return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,P("/ai/generate",{body:{prompt:e,stream:!1,variant:"better",data:n,output_language:t||"en"}})];case 1:return[2,i.sent().content]}}))}));return function(n,t,i){return e.apply(this,arguments)}}(),I=function(){var e,n,t,i="United States";(null===Z||void 0===Z||null===(e=Z.office)||void 0===e?void 0:e.address)&&(i=Z.office.address.line1?"".concat(Z.office.address.line1,", "):"",i+=Z.office.address.line2?"".concat(Z.office.address.line2,", "):"",i+=Z.office.address.city?"".concat(Z.office.address.city,", "):"",i+=Z.office.address.state?"".concat(Z.office.address.state,", "):"",i+=Z.office.address.country?null!==(t=null===(n=b.hW.find((function(e){return e.code===Z.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:"".concat(Z.office.address.country," "):"",i+=Z.office.address.postalCode?Z.office.address.postalCode:"");return i.trim()},B=function(){var e=(0,i.Z)((function(e){var n,t,i,l,o,a,r,c,u,m,v,h,f,p,g,b,j,w,N,k,C,S,P,B;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:y(!0),d.label=1;case 1:return d.trys.push([1,3,4,5]),console.log("Generating Prompt: ",e),[4,E(null===e||void 0===e?void 0:e.label,(0,s.Z)({business:{name:null===Z||void 0===Z||null===(n=Z.business)||void 0===n?void 0:n.name,vertical:"Other"===(null===Z||void 0===Z||null===(t=Z.business)||void 0===t||null===(i=t.type)||void 0===i||null===(l=i.Type)||void 0===l?void 0:l.name)?null===Z||void 0===Z||null===(o=Z.business)||void 0===o||null===(a=o.type)||void 0===a?void 0:a.name:null===Z||void 0===Z||null===(r=Z.business)||void 0===r||null===(c=r.type)||void 0===c||null===(u=c.Type)||void 0===u?void 0:u.name},vertical:"Other"===(null===Z||void 0===Z||null===(m=Z.business)||void 0===m||null===(v=m.type)||void 0===v||null===(h=v.Type)||void 0===h?void 0:h.name)?null===Z||void 0===Z||null===(f=Z.business)||void 0===f||null===(p=f.type)||void 0===p?void 0:p.name:null===Z||void 0===Z||null===(g=Z.business)||void 0===g||null===(b=g.type)||void 0===b||null===(j=b.Type)||void 0===j?void 0:j.name,tone:"professional",location:I()},null!==(C=null===e||void 0===e?void 0:e.extraProps)&&void 0!==C?C:{}),null!==(S=null===Z||void 0===Z||null===(w=Z.business)||void 0===w||null===(N=w.settings)||void 0===N||null===(k=N.ai)||void 0===k?void 0:k.language)&&void 0!==S?S:"en")];case 2:return P=d.sent(),x(P),[3,5];case 3:return B=d.sent(),console.error(B.message),[2,null];case 4:return y(!1),[7];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();function O(){return(O=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return y(!0),[4,S(Z.business||Z,n,o,t,l,a,f)];case 1:if((e=i.sent())&&!0===e.status&&e.content){if("function"!==typeof x)throw y(!1),"You must inform a valid onSuggestion function";x(e.content)}else b.Z9.error(e.message);return y(!1),[2]}}))}))).apply(this,arguments)}var T=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,C("/business/get-config")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&((0,b.Fs)("business.config",e.content),k(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){"function"===typeof h&&h(g)}),[g]),(0,m.useEffect)((function(){T()}),[]),(0,c.jsx)(c.Fragment,{children:Z&&(0,c.jsx)(qe.Z,{alt:"Generate content using AI.",children:(0,c.jsx)("button",{disabled:v||g,onClick:function(){(null===n||void 0===n?void 0:n.label)?B(n):function(){O.apply(this,arguments)}()},className:"link inline-flex items-center gap-1",children:g?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-sm",children:u?"Regenerating":"Generating"}),(0,c.jsx)(w.Z,{variant:"icon"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-sm",children:r||(u?"Regenerate":"Generate")}),(0,c.jsx)(M.Z,{icon:"BoltIcon",className:"w-4 h-4"})]})})})})}function On(e){var n,t,i,l,a=e.block,d=e.setBlock,u=e.itemIdx,v=e.website,h=function(e){var n,t=b?(0,r.Z)(null===a||void 0===a?void 0:a.items).concat([e]):null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.map((function(n,t){return t===u?e:n}));d((function(e){return(0,o.Z)((0,s.Z)({},e),{items:t})}))},x=(0,m.useState)(!1),p=x[0],g=x[1],b=u===(null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.length),j=b?{question:"",answer:""}:null===a||void 0===a||null===(t=a.items)||void 0===t?void 0:t[u];return j?(0,c.jsx)("div",{className:"divide-y",children:(0,c.jsxs)("div",{className:"flex flex-col gap-6 pb-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsx)("p",{className:"text-label text-gray-700",children:"Question"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:!!(null===j||void 0===j?void 0:j.question),prompt:{label:"mars-generate-faq",extraProps:{variant:"question",questions:null!==(l=null===a||void 0===a||null===(i=a.items)||void 0===i?void 0:i.map((function(e){return e.question})))&&void 0!==l?l:[]}},includeVertical:!0,disabled:p,onLoading:g,onSuggestion:function(e){return h((0,o.Z)((0,s.Z)({},j),{question:(null===e||void 0===e?void 0:e.question)||"Your question here"}))}})]}),(0,c.jsx)(f.Z,{type:"textarea",value:null===j||void 0===j?void 0:j.question,onChange:function(e){return h((0,o.Z)((0,s.Z)({},j),{question:e}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsx)("p",{className:"text-label text-gray-700",children:"Answer"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:!!(null===j||void 0===j?void 0:j.answer),prompt:{label:"mars-generate-faq",extraProps:{variant:"answer",question:null===j||void 0===j?void 0:j.question}},includeVertical:!0,disabled:p,onLoading:g,onSuggestion:function(e){return h((0,o.Z)((0,s.Z)({},j),{answer:(null===e||void 0===e?void 0:e.answer)||"Your answer here"}))}})]}),(0,c.jsx)(pn,{website:v,value:null===j||void 0===j?void 0:j.answer,onChange:function(e){return h((0,o.Z)((0,s.Z)({},j),{answer:e}))}})]})]})}):null}var Tn=t(62748);function _n(e){var n=e.open,t=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,u=e.setRtl,x=e.loading,p=(e.onSave,e.changeHistory,e.website),g=(e.onChange,(0,m.useState)(null)),j=g[0],y=g[1],w=(0,m.useState)(null),N=w[0],Z=w[1],E=(0,ie.Z)(),I=E.confirm,O=E.ConfirmDialog,T=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(s){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(l)).items=(0,Tn.q)(i.items,n,t),a(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),_=function(){t(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"FAQ",open:n,rtl:r,setRtl:u,edit:N,setEdit:Z,loading:x,hiddenTabs:["Colors","Button style","Divider style","Question"],onClose:_,setSelectedItem:y,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Header"}),(0,c.jsx)(f.Z,{id:"headline",value:null===l||void 0===l?void 0:l.headline,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Questions"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(An,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===l||void 0===l?void 0:l.items,onSortEnd:T,onSelect:function(e){y(e),Z("Question")},onRemove:function(e,n){I("Delete question?",(0,c.jsxs)("p",{children:["Are you sure you want to delete the tier ",(0,c.jsxs)("span",{className:"font-semibold",children:['"',null===n||void 0===n?void 0:n.question,'"']}),"?"]}),(function(){var n=(0,b.p$)(l);n.items.splice(e,1),a(n)}))}})}),(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;y((null===l||void 0===l||null===(e=l.items)||void 0===e?void 0:e.length)||0),Z("Question")},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add item"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:p,block:l,onEdit:function(){return Z("Colors")}}),(null===l||void 0===l?void 0:l.showButton)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:p,block:l,setBlock:a,onEdit:function(){return Z("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:l,setBlock:a}),(0,c.jsx)(B.Z,{className:"py-6",block:l,setBlock:a}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===l||void 0===l?void 0:l.align)||"left",onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsx)(k.iy,{className:"py-6",block:l,setBlock:a,website:p}),(0,c.jsx)(P.S,{className:"py-6",block:l,setBlock:a,onEdit:function(){return Z("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:l,setBlock:a})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:p,block:l,setBlock:a,onTryPalette:_})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:p,block:l,setBlock:a})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:l,setBlock:a,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(On,{block:l,setBlock:a,website:p,itemIdx:j})})]}),(0,c.jsx)(O,{attention:!0})]})}var An=(0,Ae.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,c.jsx)(Rn,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"faq-manage-item-".concat(s))}))})})),Rn=(0,Ae.W8)((function(e){var n,t=e.idx,i=e.item,l=(e.block,e.last),s=e.onSelect,o=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!l&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(Fn,{})}),(0,c.jsx)("div",{className:"flex-1 flex items-center gap-2",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-semibold mb-1",children:i.question}),(0,c.jsx)("p",{className:"text-xs mb-1",children:null===(n=i.answer)||void 0===n?void 0:n.replace(/<[^>]*>/g,"")})]})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return s(t,i)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return o(t,i)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Fn=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})})),Dn=t(93860),Ln=t(21739),Wn=t(20335),Mn=(0,m.forwardRef)((function(e,n){var t=e.className,i=e.block,l=e.website,s=e.onEdit;return(null===i||void 0===i?void 0:i.logo)||(i=(0,Ln.i)(i,l)),(0,c.jsxs)("div",{ref:n,className:t,children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Logo"}),(0,c.jsx)("button",{className:"link text-sm",onClick:s,children:"Edit"})]}),(0,c.jsx)("div",{className:"cursor-pointer",onClick:s,children:(0,c.jsx)(Wn.Z,{block:i,website:l})})]})}));Mn.displayName="LogoBlockPreview";var zn=Mn;function Hn(e){var n,t,i,l=e.open,a=e.setOpen,r=e.block,d=e.setBlock,u=e.updateSocial,x=e.rtl,p=e.setRtl,j=e.loading,y=e.website,w=e.onValid,N=e.onPaywall,Z=e.onRedirect,k=(0,m.useState)((0,b.tl)("business.config")),C=k[0],P=(k[1],(0,m.useState)(null)),E=P[0],I=P[1],O=(0,K.useSession)().data,T=[{id:"header",name:"Same as header"},{id:"footer",name:"Custom"}],_=[{id:"split-right",name:"Split details right"},{id:"split-left",name:"Split details left"},{id:"stacked-right",name:"Stacked details right"},{id:"stacked-center",name:"Stacked details center"},{id:"stacked-left",name:"Stacked details left"},{id:"simple-right",name:"Simple details right"},{id:"simple-center",name:"Simple details center"}];r&&((0,b.$K)(r.siteName)||(r.siteName=r.businessName||(null===C||void 0===C||null===(i=C.business)||void 0===i?void 0:i.name)));var A,R=function(e){"function"===typeof u&&u(e)},F=function(){a(!1)};return(0,c.jsxs)(v.Z,{title:"Footer",open:l,rtl:x,setRtl:p,edit:E,setEdit:I,loading:j,hiddenTabs:["Colors","Button style","Logo","Button","Social"],onClose:F,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y space-y-6 outline-none",unmount:!1,children:[(0,c.jsx)(J.U,{variant:"info",text:"Changes will affect any page using the website footer"}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Site name and logo"}),(0,c.jsx)(V.Z,{inputId:"logo-type",placeholder:"Select",values:T,value:T.find((function(e){return e.id===((null===r||void 0===r?void 0:r.logoFrom)||"footer")})),onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{logoFrom:e.id}))}})]}),"header"!==(null===r||void 0===r?void 0:r.logoFrom)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Site name"}),(0,c.jsx)(f.Z,{size:30,value:null===r||void 0===r?void 0:r.siteName,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{siteName:e}))}})]}),!E&&(0,c.jsx)(zn,{className:"py-6",block:r,website:y,onEdit:function(){return I("Logo")}})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Additional details"}),(0,c.jsx)("textarea",{rows:4,id:"content",placeholder:"You can add your business address or any other relevant details.",value:null!==(A=null===r||void 0===r?void 0:r.additionalDetails)&&void 0!==A?A:"",onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{additionalDetails:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]}),(0,c.jsx)(Ke.jR,{className:"pt-6",button:r.button,onChange:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))},isFooter:!0,onValid:w}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsx)(Dn.ZP,{className:"mt-4",updateSocial:R,block:r,setBlock:d})}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-6",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Made with Durable"}),"free"===(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)&&(0,c.jsx)("span",{className:"badge yellow",children:"Premium"})]}),(0,c.jsx)(g.Z,{enabled:!(0,b.$K)(r.madeWithDurable)||r.madeWithDurable,onChange:function(e){var n,t;"free"===(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)?N("made_with_durable"):d((0,o.Z)((0,s.Z)({},r),{madeWithDurable:e}))}})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:y,block:r,onEdit:function(){return I("Colors")}}),(null===r||void 0===r?void 0:r.button)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:y,block:r,setBlock:d,onEdit:function(){return I("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:r,setBlock:d}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Type"}),(0,c.jsx)(V.Z,{placeholder:"Select",values:_,value:(null===r||void 0===r?void 0:r.style)&&_.find((function(e){return e.id===(null===r||void 0===r?void 0:r.style)}))||_.find((function(e){return"split-right"===e.id})),onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{style:e.id}))}})]}),(null===r||void 0===r?void 0:r.showSocial)&&(0,c.jsx)(Dn.eG,{updateSocial:R}),(0,c.jsx)(B.Z,{className:"pt-6",block:r,setBlock:d,minHeight:!1})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:y,block:r,setBlock:d,onTryPalette:F})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:y,button:r.button,onChange:function(e){d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:"Logo"===E&&(0,c.jsx)(Ln.L,{website:y,block:r,setBlock:d,onRedirect:Z})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.jR,{button:r.button,onChange:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))},isFooter:!0,onValid:w})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Dn.ZP,{updateSocial:R,block:r,setBlock:d})})]})}function Vn(e){var n=e.item,t=e.onChange,i=(0,m.useState)(null),l=i[0],a=i[1];return(0,m.useEffect)((function(){l&&JSON.stringify(l)!==JSON.stringify(n)&&t(l)}),[l]),(0,m.useEffect)((function(){if(n){var e=(0,b.p$)(n);a(e)}}),[n]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"flex items-center justify-end mb-2",children:(0,c.jsx)(Ie.Z,{regenerate:!!(null===l||void 0===l?void 0:l.media),onChange:function(e){a((0,o.Z)((0,s.Z)({},l),{media:e,altText:null===e||void 0===e?void 0:e.description}))}})}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",allowDeletion:!1,pictures:null===l||void 0===l?void 0:l.media,onChange:function(e){e&&e.length>0&&a((0,o.Z)((0,s.Z)({},l),{media:e[0],altText:e[0].description}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===l||void 0===l?void 0:l.altText,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{altText:e}))}})]}),(0,c.jsx)(Oe.Z,{value:l,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{positionX:"".concat(e.x,"%"),positionY:"".concat(e.y,"%")}))}})]})}function Kn(e){var n,t,l,a,r,u,x=e.open,j=e.setOpen,y=e.block,w=e.setBlock,N=e.rtl,Z=e.setRtl,E=e.loading,O=e.website,T=(0,m.useState)(null),_=T[0],A=T[1],R=(0,m.useState)(null),F=R[0],D=R[1],L=(0,ie.Z)(),W=L.confirm,z=L.ConfirmDialog,H="gallery"!==(null===y||void 0===y||null===(n=y.WebsiteBlock)||void 0===n?void 0:n.type)?null===y||void 0===y||null===(t=y.WebsiteBlock)||void 0===t?void 0:t.type:"image-".concat((null===y||void 0===y?void 0:y.style)||"grid"),K=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],q=function(){j(!1)},$=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(y)).pictures=(0,Tn.q)(i.pictures,n,t),w(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){var e,n;x&&((null===y||void 0===y||null===(e=y.pictures)||void 0===e?void 0:e.length)>0&&!(null===(n=null===y||void 0===y?void 0:y.pictures[0])||void 0===n?void 0:n.media)&&(y.pictures=y.pictures.map((function(e){return{media:e}}))))}),[x]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"image-carousel"===H?"Image carousel":"Image grid",open:x,rtl:N,setRtl:Z,edit:_,setEdit:A,loading:E,hiddenTabs:["Colors","Divider style","Image"],onClose:q,setSelectedItem:D,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===y||void 0===y?void 0:y.headline,onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Images"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Select up to 12 images"})]}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(qn,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===y||void 0===y?void 0:y.pictures,onSortEnd:$,onSelect:function(e,n){D(e),A("Image")},onRemove:function(e,n){W("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,b.p$)(y);n.pictures.splice(e,1),w(n)}))}})}),(null===y||void 0===y||null===(l=y.pictures)||void 0===l?void 0:l.length)<12&&(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;D({idx:null===y||void 0===y||null===(e=y.pictures)||void 0===e?void 0:e.length}),A("Image")},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add image"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[!((null===y||void 0===y?void 0:y.fullWidth)&&(null===y||void 0===y?void 0:y.fullHeight)&&(null===y||void 0===y?void 0:y.noGutters))&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S._u,{className:"pb-6",website:O,block:y,onEdit:function(){return A("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:y,setBlock:w})]}),(0,c.jsx)(p.Z,{className:"py-6",label:"Heading alignment",labelClassName:"text-body font-semibold",value:(null===y||void 0===y?void 0:y.align)||"left",options:[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"},{id:"right",icon:"ObjectAlignRightSolidIcon"}],onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{align:e}))}}),"image-grid"===H&&(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Click for fullscreen"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Click on an image to open a fullscreen carousel"})]}),(0,c.jsx)(g.Z,{enabled:null===y||void 0===y?void 0:y.allowFullscreen,onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{allowFullscreen:e}))}})]}),(0,c.jsx)("div",{className:"my-4",children:(0,c.jsx)(J.U,{variant:"info",text:"The fullscreen option will only be available on larger screens"})}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6 my-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Remove gaps"}),(0,c.jsx)(g.Z,{enabled:null===y||void 0===y?void 0:y.noGutters,onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{noGutters:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Full width"}),(0,c.jsx)(g.Z,{enabled:null===y||void 0===y?void 0:y.fullWidth,onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{fullWidth:e}))}})]})]}),(null===y||void 0===y||null===(a=y.pictures)||void 0===a?void 0:a.length)>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:K,value:K.find((function(e){return e.id===(null!==(u=null===y||void 0===y?void 0:y.aspectRatio)&&void 0!==u?u:"16:9")})),onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{aspectRatio:e.id}))}})]}),(0,c.jsx)(I.nR,{className:"py-6",value:null===y||void 0===y?void 0:y.cornerRadius,defaultValue:null===O||void 0===O?void 0:O.cornerRadius,onChange:function(e){return w((0,o.Z)((0,s.Z)({},y),{cornerRadius:e}))}})]}),(0,c.jsx)(k.iy,{className:"py-6",block:y,setBlock:w,website:O}),(0,c.jsx)(B.Z,{className:"py-6",block:y,setBlock:function(e){return w((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))}}),(0,c.jsx)(P.S,{className:"py-6",block:y,setBlock:w,onEdit:function(){return A("Divider style")}}),(0,c.jsx)(C.x,{className:"pt-6",block:y,setBlock:w})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:O,block:y,setBlock:w,onTryPalette:q})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:y,setBlock:w,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Vn,{item:null===y||void 0===y||null===(r=y.pictures)||void 0===r?void 0:r[F],onChange:function(e){var n=(0,b.p$)(y);n.pictures||(n.pictures=[]),void 0!==F&&null!==F&&F>=0?n.pictures[F]=e:(n.pictures.push(e),D(n.pictures.length-1)),w(n)}})})]}),(0,c.jsx)(z,{attention:!0})]})}var qn=(0,Ae.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,l){return(0,c.jsx)($n,{index:l,idx:l,item:e,last:l===n.length-1,onSelect:t,onRemove:i},"pricing-table-item-".concat(l))}))})})),$n=(0,Ae.W8)((function(e){var n,t,i,l,s=e.idx,o=e.item,a=e.last,r=e.onSelect,d=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!a&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(Un,{})}),(0,c.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[o.media?(0,c.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,c.jsx)(H(),{unoptimized:!0,src:(null===(n=o.media)||void 0===n?void 0:n.preview)||(null===(t=o.media)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:o.altText||(null===(i=o.media)||void 0===i?void 0:i.alt)||(null===(l=o.media)||void 0===l?void 0:l.author),className:"w-full h-full object-center object-cover"})}):(0,c.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"}),(0,c.jsx)("div",{children:(0,c.jsx)("p",{className:"truncate max-w-[180px] text-sm font-medium text-gray-700 mb-1",children:o.altText})})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return r(s)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return d(s,o)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Un=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})})),Gn=t(4490);function Xn(e){var n,t,i=e.block,l=e.setBlock,a=[{id:"default",name:"Tab"},{id:"round-subtle",name:"Round subtle"},{id:"round-bold",name:"Round bold"},{id:"square-subtle",name:"Square subtle"},{id:"square-bold",name:"Square bold"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"pb-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Show home link"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Show a link to the home page in the main navigation"})]}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.showHomeInNav,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{showHomeInNav:e}))}})]})}),(0,c.jsxs)("div",{className:"flex flex-col gap-6 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Menu"}),(0,c.jsxs)("div",{children:[(0,c.jsx)(p.Z,{className:"flex-col !items-start !gap-2",label:"Menu icon type",labelClassName:"text-sm text-gray-700",value:(null===i||void 0===i||null===(n=i.menu)||void 0===n?void 0:n.icon)||"default",options:[{id:"default",icon:"Bars3Icon"},{id:"bars-3-bottom-left",icon:"Bars3BottomLeftIcon"},{id:"bars-3-bottom-right",icon:"Bars3BottomRightIcon"},{id:"bars-3-center-left",icon:"Bars3CenterLeftIcon"},{id:"bars-2",icon:"Bars2Icon"}],onChange:function(e){l((0,o.Z)((0,s.Z)({},i),{menu:(0,o.Z)((0,s.Z)({},null===i||void 0===i?void 0:i.menu),{icon:e})}))}}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Visible on mobile and when menu is collapsed on larger screens"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Collapsed menu on larger screens"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i||null===(t=i.menu)||void 0===t?void 0:t.collapse,onChange:function(e){l((0,o.Z)((0,s.Z)({},i),{menu:(0,o.Z)((0,s.Z)({},null===i||void 0===i?void 0:i.menu),{collapse:e,placement:"left"===i.style?"right":"left"})}))}})]})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"font-semibold mb-2",children:"Navigation style"}),(0,c.jsx)(V.Z,{placeholder:"Select",values:a,value:a.find((function(e){return e.id===((null===i||void 0===i?void 0:i.navStyle)||"default")})),onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{navStyle:e.id})}))}})]})]})}function Jn(e){var n,t,i,l,a,r,d,u,x=e.open,p=e.setOpen,j=e.block,y=e.setBlock,w=e.updateSocial,N=e.website,Z=e.rtl,k=e.setRtl,C=e.loading,E=(e.onSave,e.changeHistory,e.onValid),I=e.onChangeIcon,O=e.onRedirect,T=e.scrollToLocation,_=void 0===T?null:T,A=e.setScrollToLocation,R=void 0===A?null:A,F=(0,m.useState)((0,b.tl)("business.config")),D=F[0],L=(F[1],(0,m.useState)(!1)),W=L[0],M=L[1],z=(0,m.useState)(null),H=z[0],K=z[1],q=(0,m.useState)(null),$=q[0],U=q[1],G=[{id:"left",name:"Logo left + menu right"},{id:"center",name:"Logo center + menu left"},{id:"full-center",name:"Logo center + menu center"}],X=(0,b.tl)("pages"),Y=(0,m.useRef)(null),Q=(0,m.useRef)(null),ee=function(e){"function"===typeof w&&w(e)},ne=function(){p(!1)};(0,m.useEffect)((function(){if(x){var e,n=j;if(null===(null===j||void 0===j?void 0:j.siteName)||void 0===(null===j||void 0===j?void 0:j.siteName))n.siteName=null===D||void 0===D||null===(e=D.business)||void 0===e?void 0:e.name;(null===j||void 0===j?void 0:j.style)||(n.style="left"),y((function(e){return(0,s.Z)({},e,n)}))}}),[x]),(0,m.useEffect)((function(){if(_&&R){switch(_){case"social":Y.current.scrollIntoView({behavior:"smooth",block:"center"});break;case"logo":Q.current.scrollIntoView({behavior:"smooth",block:"center"})}R(null)}}));var te=(null===j||void 0===j||null===(n=j.buttons)||void 0===n?void 0:n.enabled)&&(null===j||void 0===j||null===(t=j.buttons)||void 0===t||null===(i=t.items)||void 0===i?void 0:i.length)>0?null===j||void 0===j?void 0:j.buttons:(null===j||void 0===j?void 0:j.button)?{enabled:!0,items:[null===j||void 0===j?void 0:j.button]}:{enabled:!1,items:[]};return(0,c.jsxs)(v.Z,{title:"Header",open:x,rtl:Z,setRtl:k,edit:H,setEdit:K,loading:C,hiddenTabs:["Colors","Button style","Divider","Button settings","Logo","Menu settings","Social"],onClose:ne,invalid:W,setSelectedItem:U,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)("div",{className:"pb-6",children:(0,c.jsx)(J.U,{variant:"info",text:"Changes made here will update all pages using the header"})}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Site name"}),(0,c.jsx)(f.Z,{size:30,value:null===j||void 0===j?void 0:j.siteName,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{siteName:e}))}})]}),!H&&(0,c.jsx)(zn,{ref:Q,className:"py-6",block:j,website:N,onEdit:function(){return K("Logo")}}),(0,c.jsx)(We,{className:"py-6",block:j,setBlock:y,onEdit:function(){return K("Button settings")},setSelected:U,text:"Add a button with a link to a page, phone number, email or section"}),(0,c.jsx)("div",{className:"pt-6",ref:Y,children:(0,c.jsx)(Dn.ZP,{block:j,setBlock:y,className:"mt-6",updateSocial:ee})})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:N,block:j,onEdit:function(){return K("Colors")}}),(null===te||void 0===te?void 0:te.enabled)&&(null===te||void 0===te||null===(l=te.items)||void 0===l?void 0:l.length)>0&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:N,block:j,onEdit:function(e){U(e),K("Button style")}}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"mb-2",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Positioning"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"The position of the elements within the header"})]}),(0,c.jsx)(V.Z,{placeholder:"Select",values:G,value:(null===j||void 0===j?void 0:j.style)&&G.find((function(e){return e.id===(null===j||void 0===j?void 0:j.style)})),onChange:function(e){return y((function(n){return(0,o.Z)((0,s.Z)({},n),{style:e.id,menu:(0,o.Z)((0,s.Z)({},n.menu),{placement:"left"===e.id?"right":"left"})})}))}})]}),(null===X||void 0===X?void 0:X.length)>1&&(0,c.jsx)("div",{className:"divide-y pt-6",children:(0,c.jsx)(Xn,{block:j,setBlock:y})}),(null===j||void 0===j?void 0:j.showSocial)&&(0,c.jsx)(Dn.eG,{updateSocial:ee}),(0,c.jsx)("div",{className:"py-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Full width"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Use the full width when viewing on desktop"})]}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.fullWidth,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{fullWidth:e}))}})]})}),(0,c.jsx)("div",{className:"py-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Sticky"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Keep the header at the top on scroll"})]}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.sticky,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{sticky:e}))}})]})}),(0,c.jsx)(B.Z,{className:"pt-6",block:j,setBlock:y,minHeight:!1})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:N,block:j,setBlock:y,noSelectType:!0,onTryPalette:ne})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:N,button:(null===(a=j.buttons)||void 0===a||null===(r=a.items)||void 0===r?void 0:r[$])||j.button,onChange:function(e){y((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[$]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t,button:void 0})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:j,setBlock:y,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.jR,{button:(null===(d=j.buttons)||void 0===d||null===(u=d.items)||void 0===u?void 0:u[$])||j.button,switchable:!1,isHeader:!0,onChange:function(e){y((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[$]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t,button:void 0})}))},onValid:function(e){E(e),M(!e)}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:"Logo"===H&&(0,c.jsx)(Ln.L,{website:N,block:j,setBlock:y,onChangeIcon:I,onRedirect:O})}),(0,c.jsx)(h.O.Panel,{unmount:!1,className:"divide-y outline-none",children:(0,c.jsx)(Xn,{block:j,setBlock:y})}),(0,c.jsx)(h.O.Panel,{unmount:!1,className:"divide-y outline-none",children:(0,c.jsx)(Dn.ZP,{block:j,setBlock:y,updateSocial:ee})})]})}function Yn(e){var n,t,i,l=e.block,a=e.setBlock;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(Ie.Z,{regenerate:!!(null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.media),onChange:function(e){a((function(n){return(0,o.Z)((0,s.Z)({},n),{image:(0,o.Z)((0,s.Z)({},n.image),{media:e,altText:null===e||void 0===e?void 0:e.description})})}))}})]}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",pictures:null===l||void 0===l||null===(t=l.image)||void 0===t?void 0:t.media,onChange:function(e){e&&e.length>0&&a((0,o.Z)((0,s.Z)({},l),{image:(0,o.Z)((0,s.Z)({},l.image),{media:e[0],altText:e[0].description})}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===l||void 0===l||null===(i=l.image)||void 0===i?void 0:i.altText,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{image:(0,o.Z)((0,s.Z)({},l.image),{altText:e})}))}})]}),(0,c.jsx)(Oe.Z,{value:null===l||void 0===l?void 0:l.image,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{image:(0,o.Z)((0,s.Z)({},l.image),{imagePositionX:"".concat(e.x,"%"),imagePositionY:"".concat(e.y,"%")})}))}})]})}function Qn(e){var n,t,i,l,a,r,d,u,x,f,p=e.open,g=e.setOpen,b=e.block,j=e.setBlock,y=e.rtl,w=e.setRtl,N=e.loading,Z=e.website,E=e.onValid,O=(0,m.useState)(!1),T=O[0],_=O[1],A=(0,m.useState)(null),R=A[0],F=A[1],D=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],L=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],W=function(){g(!1)};return(0,c.jsxs)(v.Z,{title:"Text + Image",open:p,rtl:y,setRtl:w,edit:R,setEdit:F,loading:N,hiddenTabs:["Colors","Button style","Divider style","Image settings"],onClose:W,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Content"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===b||void 0===b?void 0:b.content),prompt:{label:(null===b||void 0===b?void 0:b.prompt)||"mars-create-hero-text"},onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,c.jsx)(pn,{id:"content-hero",website:Z,value:null===b||void 0===b?void 0:b.content,onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{content:e}))}})]}),(0,c.jsx)("div",{className:"py-6",children:(0,c.jsx)(Yn,{block:b,setBlock:j,reloadMediaPicker:T,setReloadMediaPicker:_})}),(0,c.jsx)(Ke.jR,{className:"pt-6",button:b.button,onChange:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))},onValid:E}),(0,c.jsx)(Qe,{block:b,setBlock:j,purpose:!0})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:Z,block:b,onEdit:function(){return F("Colors")}}),(null===b||void 0===b?void 0:b.button)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:Z,block:b,onEdit:function(){return F("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:b,setBlock:j}),(0,c.jsx)(Ve,{className:"py-6",block:b,setBlock:j}),(null===b||void 0===b?void 0:b.image)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:L,value:L.find((function(e){var n,t,i;return e.id===((null===b||void 0===b||null===(n=b.image)||void 0===n?void 0:n.borderless)||!(null===b||void 0===b||null===(t=b.image)||void 0===t?void 0:t.imageFit)?"cover":null===b||void 0===b||null===(i=b.image)||void 0===i?void 0:i.imageFit)})),disabled:null===b||void 0===b||null===(n=b.image)||void 0===n?void 0:n.borderless,onChange:function(e){var n,t;return j((0,o.Z)((0,s.Z)({},b),{image:(0,o.Z)((0,s.Z)({},b.image),{imageFit:e.id,cornerRadius:"contain"===e.id?"no-rounded":null===b||void 0===b||null===(n=b.image)||void 0===n?void 0:n.cornerRadius,aspectRatio:"contain"===e.id?"16:9":null===b||void 0===b||null===(t=b.image)||void 0===t?void 0:t.aspectRatio})}))}}),"contain"!==(null===b||void 0===b||null===(t=b.image)||void 0===t?void 0:t.imageFit)&&(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:D,value:D.find((function(e){var n;return e.id===(null!==(f=null===b||void 0===b||null===(n=b.image)||void 0===n?void 0:n.aspectRatio)&&void 0!==f?f:"16:9")})),onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{image:(0,o.Z)((0,s.Z)({},b.image),{aspectRatio:e.id})}))}})]}),"contain"!==(null===b||void 0===b||null===(i=b.image)||void 0===i?void 0:i.imageFit)&&(0,c.jsx)(I.nR,{className:"py-6",value:(null===b||void 0===b||null===(l=b.image)||void 0===l?void 0:l.borderless)?"no-rounded":null===b||void 0===b||null===(a=b.image)||void 0===a?void 0:a.cornerRadius,defaultValue:null===Z||void 0===Z?void 0:Z.cornerRadius,disabled:null===b||void 0===b||null===(r=b.image)||void 0===r?void 0:r.borderless,onChange:function(e){return j((0,o.Z)((0,s.Z)({},b),{image:(0,o.Z)((0,s.Z)({},b.image),{cornerRadius:e})}))}})]}),(0,c.jsx)(k.iy,{className:"py-6",block:b,setBlock:j,website:Z}),(0,c.jsx)(B.Z,{className:"py-6",block:b,setBlock:j,verticalAlign:!(null===b||void 0===b||null===(d=b.image)||void 0===d?void 0:d.borderless),horizontalAlign:"top"===(null===b||void 0===b||null===(u=b.image)||void 0===u?void 0:u.align)||"bottom"===(null===b||void 0===b||null===(x=b.image)||void 0===x?void 0:x.align)}),(0,c.jsx)(P.S,{className:"py-6",block:b,setBlock:j,onEdit:function(){return F("Divider style")}}),(0,c.jsx)(C.x,{className:"pt-6",block:b,setBlock:j})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:Z,block:b,setBlock:j,onTryPalette:W})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:Z,button:b.button,onChange:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:b,setBlock:j,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Yn,{block:b,setBlock:j,reloadMediaPicker:T,setReloadMediaPicker:_})})]})}function et(e){var n,t,i=e.open,l=e.setOpen,a=e.block,r=e.setBlock,d=e.rtl,u=e.setRtl,x=e.loading,p=e.website,j=(0,m.useState)(null),y=j[0],w=j[1],N=[{id:"1:1",name:"1:1 \xb7 square"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],Z=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],E=function(){l(!1)};return(0,c.jsxs)(v.Z,{title:"Image",open:i,rtl:d,setRtl:u,edit:y,setEdit:w,loading:x,hiddenTabs:["Colors","Divider style"],onClose:E,children:[(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(Ie.Z,{regenerate:!!(null===a||void 0===a?void 0:a.media),onChange:function(e){r((0,o.Z)((0,s.Z)({},a),{media:e,altText:null===e||void 0===e?void 0:e.description}))}})]}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",allowDeletion:!1,pictures:null===a||void 0===a?void 0:a.media,onChange:function(e){e&&e.length>0&&r((0,o.Z)((0,s.Z)({},a),{media:e[0],altText:e[0].description}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===a||void 0===a?void 0:a.altText,onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{altText:e}))}})]}),(0,c.jsx)(Oe.Z,{value:a,onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{imagePositionX:"".concat(e.x,"%"),imagePositionY:"".concat(e.y,"%")}))}})]})}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[!(null===a||void 0===a?void 0:a.fullWidth)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(S._u,{className:"pb-6",website:p,block:a,onEdit:function(){return w("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:a,setBlock:r})]}),(0,c.jsx)("div",{className:(0,b.AK)((null===a||void 0===a?void 0:a.fullWidth)?"pb-6":"py-6"),children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:" font-semibold text-h6 text-gray-900",children:"Full width"}),(0,c.jsx)(g.Z,{enabled:null===a||void 0===a?void 0:a.fullWidth,onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{fullWidth:e,imageFit:"cover"}))}})]})}),!(null===a||void 0===a?void 0:a.fullWidth)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:Z,value:Z.find((function(e){return e.id===(null!==(n=null===a||void 0===a?void 0:a.imageFit)&&void 0!==n?n:"cover")})),onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===a||void 0===a?void 0:a.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===a||void 0===a?void 0:a.cornerRadius}))}}),"contain"!==(null===a||void 0===a?void 0:a.imageFit)&&(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:N,value:N.find((function(e){return e.id===(null!==(t=null===a||void 0===a?void 0:a.aspectRatio)&&void 0!==t?t:"16:9")})),onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{aspectRatio:e.id}))}})]}),"contain"!==(null===a||void 0===a?void 0:a.imageFit)&&(0,c.jsx)(I.nR,{className:"py-6",value:null===a||void 0===a?void 0:a.cornerRadius,defaultValue:null===p||void 0===p?void 0:p.cornerRadius,onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{cornerRadius:e}))}})]}),(0,c.jsx)(k.iy,{className:"py-6",block:a,setBlock:r,website:p}),(0,c.jsx)(B.Z,{className:"py-6",block:a,setBlock:r,minHeight:!0,spacing:!(null===a||void 0===a?void 0:a.fullWidth),verticalAlign:!(null===a||void 0===a?void 0:a.fullWidth)}),(0,c.jsx)(P.S,{className:"py-6",block:a,setBlock:r,onEdit:function(){return w("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:a,setBlock:r})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:p,block:a,setBlock:r,onTryPalette:E})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:a,setBlock:r,isEditing:!0})})]})}function nt(e){var n,t,i,l,a,d=e.website,u=e.block,m=e.setBlock,v=e.itemIdx,h=e.showImage,x=e.showIcon,p=e.showHeading,g=e.showContent,b=e.showButton,j=e.fullContentLink,y=e.onValid,w=function(e){var n,t=N?(0,r.Z)(null===u||void 0===u?void 0:u.items).concat([e]):null===u||void 0===u||null===(n=u.items)||void 0===n?void 0:n.map((function(n,t){return t===v?e:n}));m((function(e){return(0,o.Z)((0,s.Z)({},e),{items:t})}))},N=v===(null===u||void 0===u||null===(n=u.items)||void 0===n?void 0:n.length),Z=N?{image:null,imageAltText:"",title:"",content:"",icon:null,button:null}:null===u||void 0===u||null===(t=u.items)||void 0===t?void 0:t[v];return(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[h&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mb-1",children:"Image"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Select the image you would like to display"})]}),(0,c.jsx)(Ie.Z,{regenerate:!!(null===Z||void 0===Z?void 0:Z.image),onChange:function(e){w((0,o.Z)((0,s.Z)({},Z),{image:e,imageAltText:null===e||void 0===e?void 0:e.description}))}})]}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",pictures:null===Z||void 0===Z?void 0:Z.image,onChange:function(e){var n;w((0,o.Z)((0,s.Z)({},Z),{image:e[0],imageAltText:null===(n=e[0])||void 0===n?void 0:n.description}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===Z||void 0===Z?void 0:Z.imageAltText,onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{imageAltText:e}))}})]}),(0,c.jsx)(Oe.Z,{value:Z,onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{imagePositionX:"".concat(e.x,"%"),imagePositionY:"".concat(e.y,"%")}))}})]}),x&&(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Icon"}),(0,c.jsx)(Be.Z,{icons:!0,library:!0,location:"blocks",pictures:null===Z||void 0===Z||null===(i=Z.icon)||void 0===i?void 0:i.media,iconColor:(null===Z||void 0===Z||null===(l=Z.icon)||void 0===l?void 0:l.color)||"#1F2937",onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{icon:(0,o.Z)((0,s.Z)({},null===Z||void 0===Z?void 0:Z.icon),{media:e&&e.length>0?e[0]:void 0})}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Icon color"}),(0,c.jsx)(sn.Z,{inline:!0,color:(null===Z||void 0===Z||null===(a=Z.icon)||void 0===a?void 0:a.color)||"#1F2937",onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{icon:(0,o.Z)((0,s.Z)({},null===Z||void 0===Z?void 0:Z.icon),{color:e.hex})}))}})]})]}),p&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Title"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===Z||void 0===Z?void 0:Z.title),prompt:{label:(null===u||void 0===u?void 0:u.prompt)||"mars-create-service-title"},onSuggestion:function(e){return w((0,o.Z)((0,s.Z)({},Z),{title:e}))}})]}),(0,c.jsx)(f.Z,{value:null===Z||void 0===Z?void 0:Z.title,onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{title:e}))}})]}),g&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Content"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===Z||void 0===Z?void 0:Z.content),prompt:{label:(null===u||void 0===u?void 0:u.prompt)||"mars-create-service-description"},onSuggestion:function(e){return w((0,o.Z)((0,s.Z)({},Z),{content:e}))}})]}),(0,c.jsx)(pn,{website:d,value:null===Z||void 0===Z?void 0:Z.content,onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{content:e}))}})]}),(b||j)&&(0,c.jsxs)("div",{children:[j?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Link"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"The entire list item will be clickable"})]}):(0,c.jsx)("p",{className:"mb-4 font-semibold",children:"Button"}),(0,c.jsx)(Ke.jR,{switchable:!1,hasLabel:!j,button:null===Z||void 0===Z?void 0:Z.button,onChange:function(e){return w((0,o.Z)((0,s.Z)({},Z),{button:e}))},onValid:y})]})]})}var tt=t(47904),it=t(70149);function lt(e){var n,t,l,a,r,u=e.open,x=e.setOpen,j=e.block,y=e.setBlock,w=e.rtl,N=e.setRtl,Z=e.loading,E=e.website,O=e.onValid,T=(0,m.useState)(!1),_=T[0],A=T[1],R=(0,m.useState)(null),F=R[0],D=R[1],L=(0,m.useState)(null),W=L[0],z=L[1],H=(0,ie.Z)(),K=H.confirm,q=H.ConfirmDialog,$="list"===(null===j||void 0===j||null===(n=j.WebsiteBlock)||void 0===n?void 0:n.type)?(null===j||void 0===j?void 0:j.type)||(null===j||void 0===j||null===(t=j.WebsiteBlock)||void 0===t?void 0:t.type):null===j||void 0===j||null===(l=j.WebsiteBlock)||void 0===l?void 0:l.type,U=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],G=[{id:"w-12 h-12",name:"Small"},{id:"w-24 h-24",name:"Medium"},{id:"w-36 h-36",name:"Large"},{id:"w-48 h-48",name:"X-Large"}],X=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],J=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(j)).items=(0,Tn.q)(i.items,n,t),y(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),Y=function(){x(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:$.includes("service")?"Services":$.includes("team")?"Team members":"List",open:u,rtl:w,setRtl:N,edit:W,setEdit:z,loading:Z,hiddenTabs:["Colors","Button style","Divider style","Item"],onClose:Y,setSelectedItem:D,invalid:_,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===j||void 0===j?void 0:j.headline,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Display"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Choose what will be displayed for each list item"}),(0,c.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Image"}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.showImage,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{showImage:e,showIcon:!e&&(null===j||void 0===j?void 0:j.showIcon)}))}})]}),!$.includes("team")&&(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Icon"}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.showIcon,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{showIcon:e,showImage:!e&&(null===j||void 0===j?void 0:j.showImage)}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:$.includes("team")?"Name":"Heading"}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.showHeading,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{showHeading:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:$.includes("team")?"About":"Content"}),(0,c.jsx)(g.Z,{enabled:null===j||void 0===j?void 0:j.showContent,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{showContent:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Link"}),(0,c.jsx)(g.Z,{enabled:(null===j||void 0===j?void 0:j.showButton)||(null===j||void 0===j?void 0:j.fullContentLink),onChange:function(e){e&&(j.button||(j.button={label:"Button",type:"url",link:"#",style:{name:"style1"}}),j.items=j.items.map((function(e){return e.button||(e.button=j.button),e}))),y((0,o.Z)((0,s.Z)({},j),{showButton:e,fullContentLink:!1}))}})]})]})]}),((null===j||void 0===j?void 0:j.showButton)||(null===j||void 0===j?void 0:j.fullContentLink))&&(0,c.jsx)(p.Z,{className:"py-6",label:"Link type",labelClassName:"text-body font-semibold",value:(null===j||void 0===j?void 0:j.fullContentLink)?"full-content-link":"button",options:[{id:"button",name:"Button"},{id:"full-content-link",name:"List Item"}],onChange:function(e){var n=(0,o.Z)((0,s.Z)({},j),{fullContentLink:"full-content-link"===e,showButton:"button"===e});"full-content-link"===e&&(n.button=(0,o.Z)((0,s.Z)({},null===j||void 0===j?void 0:j.button),{label:"",type:"url",link:"#"})),n.items=n.items.map((function(e){return e.button||(e.button=n.button),e})),y(n)}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"mb-4 font-semibold",children:$.includes("service")?"Services":$.includes("team")?"Team members":"List items"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(st,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===j||void 0===j?void 0:j.items,block:j,onSortEnd:J,onSelect:function(e){D(e),z("Item")},onRemove:function(e){K("Delete item?","Are you sure you want to delete this item?",(function(){var n=(0,b.p$)(j);n.items.splice(e,1),y(n)}))}})}),(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;D((null===j||void 0===j||null===(e=j.items)||void 0===e?void 0:e.length)||0),z("Item")},children:[(0,c.jsxs)("span",{className:"text-sm",children:["Add ",$.includes("service")?"a service":$.includes("team")?"a team member":"list item"]}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]}),(0,c.jsx)(Qe,{block:j,setBlock:y,purpose:!0})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:E,block:j,onEdit:function(){return z("Colors")}}),(null===j||void 0===j?void 0:j.showButton)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:E,block:j,setBlock:y,onEdit:function(){return z("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:j,setBlock:y}),(0,c.jsx)(p.Z,{className:"py-6",label:"Alignment",labelClassName:"text-body font-semibold",value:(null===j||void 0===j?void 0:j.align)||"left",options:[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"},{id:"right",icon:"ObjectAlignRightSolidIcon"}],onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{align:e}))}}),(null===j||void 0===j?void 0:j.showImage)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:X,value:X.find((function(e){return e.id===(null!==(a=null===j||void 0===j?void 0:j.imageFit)&&void 0!==a?a:"cover")})),onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===j||void 0===j?void 0:j.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===j||void 0===j?void 0:j.cornerRadius}))}}),"contain"!==(null===j||void 0===j?void 0:j.imageFit)&&(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:U,value:U.find((function(e){return e.id===(null!==(r=null===j||void 0===j?void 0:j.aspectRatio)&&void 0!==r?r:"16:9")})),onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{aspectRatio:e.id}))}})]}),"contain"!==(null===j||void 0===j?void 0:j.imageFit)&&(0,c.jsx)(I.nR,{className:"py-6",value:null===j||void 0===j?void 0:j.cornerRadius,defaultValue:null===E||void 0===E?void 0:E.cornerRadius,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{cornerRadius:e}))}})]}),(null===j||void 0===j?void 0:j.showIcon)&&(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Icon size"}),(0,c.jsx)(V.Z,{className:"mt-4",placeholder:"Select",values:G,value:G.find((function(e){return e.id===(null===j||void 0===j?void 0:j.iconSize)}))||G[0],onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{iconSize:e.id}))}})]}),(0,c.jsx)(it.lX,{label:"Item size",className:"py-6",block:j,setBlock:y}),!(!(null===j||void 0===j?void 0:j.showImage)||(null===j||void 0===j?void 0:j.imageFit)&&"cover"!==(null===j||void 0===j?void 0:j.imageFit)||!(null===j||void 0===j?void 0:j.showButton)&&!(null===j||void 0===j?void 0:j.showHeading)&&!(null===j||void 0===j?void 0:j.showContent))&&(0,c.jsx)(tt.f3,{className:"py-6 space-y-6",textSettings:null===j||void 0===j?void 0:j.textSettings,onChange:function(e){return y((0,o.Z)((0,s.Z)({},j),{textSettings:e}))}}),(0,c.jsx)(k.iy,{className:"py-6",block:j,setBlock:y,website:E}),(0,c.jsx)(B.Z,{className:"py-6",block:j,setBlock:y}),(0,c.jsx)(P.S,{className:"py-6",block:j,setBlock:y,onEdit:function(){return z("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:j,setBlock:y})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:E,block:j,setBlock:y,onTryPalette:Y})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:E,button:j.button,onChange:function(e){return y((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:j,setBlock:y,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(nt,{block:j,website:E,itemIdx:F,setBlock:y,showImage:null===j||void 0===j?void 0:j.showImage,showIcon:null===j||void 0===j?void 0:j.showIcon,showHeading:null===j||void 0===j?void 0:j.showHeading,showContent:null===j||void 0===j?void 0:j.showContent,showButton:null===j||void 0===j?void 0:j.showButton,fullContentLink:null===j||void 0===j?void 0:j.fullContentLink,onValid:function(e){A(!e),O(e)}})})]}),(0,c.jsx)(q,{attention:!0})]})}var st=(0,Ae.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,c.jsx)(ot,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"list-item-".concat(s))}))})})),ot=(0,Ae.W8)((function(e){var n,t,i,l,s,o,a,r,d,u,m,v=e.idx,h=e.item,x=e.block,f=e.last,p=e.onSelect,g=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!f&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(at,{})}),(0,c.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(null===x||void 0===x?void 0:x.showImage)&&(h.image?(0,c.jsx)("div",{className:"relative overflow-hidden w-9 h-9 rounded",children:(0,c.jsx)(H(),{unoptimized:!0,src:(null===(n=h.image)||void 0===n?void 0:n.preview)||(null===(t=h.image)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:null===(i=h.image)||void 0===i?void 0:i.alt,className:"w-full h-full object-center object-cover"})}):(0,c.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(null===x||void 0===x?void 0:x.showIcon)&&((null===(l=h.icon)||void 0===l||null===(s=l.media)||void 0===s?void 0:s.url)?(0,c.jsx)("div",{className:"relative rounded w-9 h-9",style:{backgroundColor:(null===(o=h.icon)||void 0===o?void 0:o.color)||"#1F2937",WebkitMaskImage:'url("'.concat(null===h||void 0===h||null===(a=h.icon)||void 0===a||null===(r=a.media)||void 0===r?void 0:r.url,'")'),maskImage:'url("'.concat(null===h||void 0===h||null===(d=h.icon)||void 0===d||null===(u=d.media)||void 0===u?void 0:u.url,'")'),WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"contain",maskSize:"contain"}}):(0,c.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(0,c.jsxs)("div",{children:[(null===x||void 0===x?void 0:x.showHeading)&&(0,c.jsx)("p",{className:"truncate max-w-[180px] text-sm font-medium",children:h.title}),(null===x||void 0===x?void 0:x.showContent)&&(0,c.jsx)("p",{className:"truncate max-w-[180px] text-xs text-gray-500",children:null===(m=h.content)||void 0===m?void 0:m.replace(/<[^>]*>/g,"")})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return p(v,h)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return g(v)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),at=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function rt(e){var n=e.item,t=e.open,i=e.setOpen,l=e.onSave,a=e.website,r=(0,m.useState)({type:null,link:""}),d=r[0],u=r[1],v=(0,m.useState)(!1),h=v[0],x=v[1],p=(0,m.useState)(null),g=p[0],j=p[1],y=function(){j((0,b.p$)(d))};return(0,m.useEffect)((function(){t?n&&(u((0,b.p$)(n)),j(n)):y()}),[t,n]),(0,m.useEffect)((function(){g&&d&&(JSON.stringify(d)===JSON.stringify(g)?x(!1):x(!0))}),[g,d]),(0,c.jsx)(L.u.Root,{show:t,as:m.Fragment,children:(0,c.jsx)(W.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return i(!1)},children:(0,c.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)(W.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,c.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,c.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all",children:[(0,c.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,c.jsx)(W.V.Title,{className:"font-bold text-gray-900",children:"Additional text field"}),(0,c.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return i(!1)},children:(0,c.jsx)(M.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[(0,c.jsx)(f.Z,{label:"Title",value:null===g||void 0===g?void 0:g.title,onChange:function(e){return j((0,o.Z)((0,s.Z)({},g),{title:e}))}}),(0,c.jsx)(pn,{website:a,value:null===g||void 0===g?void 0:g.content,onChange:function(e){return j((0,o.Z)((0,s.Z)({},g),{content:e}))}})]}),(0,c.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,c.jsx)("button",{className:"secondary",onClick:function(){return y()},children:"Discard"}),(0,c.jsx)("button",{className:"primary",onClick:function(){return"function"===typeof l&&l(g),void i(!1)},disabled:!h,children:"Save"})]})]})})]})})})}var dt=t(24999);function ct(e){var n=e.item,t=e.setItem,i=e.website;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.Z,{label:"Title",value:null===n||void 0===n?void 0:n.title,onChange:function(e){return t((0,o.Z)((0,s.Z)({},n),{title:e}))}}),(0,c.jsx)(pn,{website:i,value:null===n||void 0===n?void 0:n.content,onChange:function(e){return t((0,o.Z)((0,s.Z)({},n),{content:e}))}})]})}function ut(e){var n,t,l,a,r,u=e.open,x=e.setOpen,p=e.block,g=e.setBlock,j=e.rtl,y=e.setRtl,w=e.loading,N=(e.onSave,e.changeHistory,e.website),Z=function(e){var n;return(null===(n=function(e){return null===e||void 0===e?void 0:e.replace(/<[^>]*>/g,"")}(e))||void 0===n?void 0:n.length)>30},E=(0,m.useState)((0,b.tl)("business.config")),O=E[0],T=(E[1],(0,m.useState)(null)),_=(T[0],T[1],(0,m.useState)(!1)),A=(_[0],_[1],(0,m.useState)(!1)),R=A[0],F=A[1],D=(0,m.useState)(null),L=D[0],W=D[1],z=(0,m.useState)(""),H=z[0],K=z[1],q=(0,m.useState)(null),$=q[0],U=q[1],G=(0,m.useState)(null),X=G[0],Y=G[1],ee=(0,ie.Z)(),ne=ee.confirm,te=ee.ConfirmDialog,le=[{id:"background",name:"Background map"},{id:"inline",name:"Inline map"}],se=[{id:"streets",name:"Streets"},{id:"outdoors",name:"Outdoors"},{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"satellite",name:"Satellite"}],oe=function(){var e,n,t,i="";(null===O||void 0===O||null===(e=O.office)||void 0===e?void 0:e.address)&&(i+=O.office.address.line1?O.office.address.line1+", ":"",i+=O.office.address.line2?O.office.address.line2+", ":"",i+=O.office.address.city?O.office.address.city+", ":"",i+=O.office.address.state?O.office.address.state+", ":"",i+=O.office.address.country?null!==(t=null===(n=b.hW.find((function(e){return e.code===O.office.address.country.toUpperCase()})))||void 0===n?void 0:n.name)&&void 0!==t?t:O.office.address.country+" ":"",i+=O.office.address.postalCode?O.office.address.postalCode:"");return i.trim()},ae=function(e){var n=(0,b.p$)(p);n.additional||(n.additional=[]),void 0!==L&&null!==L&&L>=0?n.additional[L]=e:n.additional.push(e),g(n),F(!1)},re=function(){x(!1)};return(0,m.useEffect)((function(){$&&g((0,o.Z)((0,s.Z)({},p),{address:$.address,latLng:$.latLng}))}),[$]),(0,m.useEffect)((function(){function e(){return(e=(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){return u&&K((null===p||void 0===p?void 0:p.address)||oe()),[2]}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),(0,m.useEffect)((function(){console.log("selectedItem",L)}),[L]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Location",open:u,rtl:j,setRtl:y,edit:X,setEdit:Y,loading:w,hiddenTabs:["Colors","Divider style","Item"],onClose:re,setSelectedItem:W,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:(null===p||void 0===p?void 0:p.headline)||"Location",onChange:function(e){return g((0,o.Z)((0,s.Z)({},p),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Address"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Business address"}),dt.Z&&(0,c.jsx)(dt.Z,{inlineAddress:H,onChange:K,onSelect:U})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Additional text fields"}),(0,c.jsx)("ul",{className:"divide-y mt-4",children:null===p||void 0===p||null===(n=p.additional)||void 0===n?void 0:n.map((function(e,n){return(0,c.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.title}),(0,c.jsxs)("div",{className:(0,b.AK)("flex text-gray-500 text-sm"),children:[(0,c.jsx)("div",{className:"truncate max-w-[230px]",dangerouslySetInnerHTML:{__html:e.content}}),Z(e.content)&&"..."]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){W(n),F(!0)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return function(e){ne("Delete additional text?","Are you sure you want to delete this additional text?",(function(){var n=(0,b.p$)(p);n.additional.splice(e,1),g(n)}))}(n)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]},n)}))}),(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){W(null),F(!0)},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add text field"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:N,block:p,onEdit:function(){return Y("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:p,setBlock:g}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Type"}),(0,c.jsx)(V.Z,{inputId:"map",placeholder:"Select",values:le,value:le.find((function(e){return e.id===(null!==(a=null===p||void 0===p?void 0:p.style)&&void 0!==a?a:"inline")})),onChange:function(e){return g((0,o.Z)((0,s.Z)({},p),{style:e.id}))}})]}),(0,c.jsxs)("div",{className:"my-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Theme"}),(0,c.jsx)(V.Z,{placeholder:"Select",values:se,value:se.find((function(e){return e.id===(null!==(r=null===p||void 0===p?void 0:p.theme)&&void 0!==r?r:"light")})),onChange:function(e){return g((0,o.Z)((0,s.Z)({},p),{theme:e.id}))}})]}),(0,c.jsx)(I.nR,{value:null===p||void 0===p?void 0:p.cornerRadius,defaultValue:null===N||void 0===N?void 0:N.cornerRadius,onChange:function(e){return g((0,o.Z)((0,s.Z)({},p),{cornerRadius:e}))}})]}),(0,c.jsxs)("div",{className:"py-6 flex flex-col gap-3",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Align map"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===p||void 0===p?void 0:p.align)||"left",onChange:function(e){return g((0,o.Z)((0,s.Z)({},p),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-l cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b border-r cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsx)(J.U,{variant:"info",text:"Alignment only affects larger screens"})]}),(0,c.jsx)(k.iy,{className:"py-6",block:p,setBlock:g,website:N}),(0,c.jsx)(B.Z,{className:"py-6",block:p,setBlock:g,spacing:"background"!==(null===p||void 0===p?void 0:p.style)}),(0,c.jsx)(P.S,{className:"py-6",block:p,setBlock:g,onEdit:function(){return Y("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:p,setBlock:g})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:N,block:p,setBlock:g,onTryPalette:re})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:p,setBlock:g,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)("div",{className:"flex flex-col gap-4",children:(0,c.jsx)(ct,{setItem:ae,item:null===p||void 0===p||null===(t=p.additional)||void 0===t?void 0:t[L],website:N})})})]}),(0,c.jsx)(rt,{item:null===p||void 0===p||null===(l=p.additional)||void 0===l?void 0:l[L],open:R,setOpen:F,onSave:ae,website:N}),(0,c.jsx)(te,{attention:!0})]})}function mt(e){var n=e.name,t=e.slug;return(0,c.jsx)(ln.E.Option,{value:t,className:function(e){var n=e.active,t=e.checked;return"".concat(n?"ring-2 ring-white ring-opacity-60 ring-offset-2 ring-offset-sky-300":"","\n    ").concat(t?"bg-sky-900 bg-opacity-75 bg-indigo-600 text-white":"bg-white","\n      relative flex cursor-pointer rounded-lg px-5 py-4 shadow-md focus:outline-none ")},children:(0,c.jsx)("span",{children:n})})}var vt={dirty:!1,disabled:!1,loading:!1,edit:null,open:!1,pages:[],selectedPage:null,headline:""};function ht(e,n){var t;switch(null===n||void 0===n||null===(t=n.type)||void 0===t?void 0:t.toUpperCase()){case"LOADING":return(0,o.Z)((0,s.Z)({},e),{loading:!0});case"DISCARD":case"CLOSE":return(0,o.Z)((0,s.Z)({},e),{open:!1});case"SET_EDIT":return(0,o.Z)((0,s.Z)({},e),{edit:(null===n||void 0===n?void 0:n.edit)||null});case"SET_PAGES":return(0,o.Z)((0,s.Z)({},e),{loading:!1,pages:n.pages||[]});case"SET_SELECTED":return(0,o.Z)((0,s.Z)({},e),{selectedPage:n.slug,dirty:!0});case"CHANGE_HEADLINE":return(0,o.Z)((0,s.Z)({},e),{headline:n.value||"",dirty:!0});default:throw new Error("Unknown action ".concat(type))}}function xt(e){var n=e.open,t=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,u=void 0!==r&&r,x=e.setRtl,p=e.loading,g=e.onSave,b=(0,j.Z)().get,y=(0,m.useReducer)(ht,(0,o.Z)((0,s.Z)({},vt),{open:n,rtl:u,loading:p,selectedPage:null===l||void 0===l?void 0:l.nylasSlug,headline:null===l||void 0===l?void 0:l.headline})),N=y[0],Z=y[1],k=(0,m.useCallback)((0,i.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:Z({type:"LOADING"}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,b("/scheduler/schedule-pages")];case 2:return e=t.sent().content,Z({type:"SET_PAGES",pages:e.pages}),[3,4];case 3:return n=t.sent(),console.error(n),Z({type:"SET_PAGES",pages:[]}),[3,4];case 4:return[2]}}))})),[b]);return(0,m.useEffect)((function(){k()}),[]),(0,m.useEffect)((function(){t(N.open)}),[N.open,t]),(0,m.useEffect)((function(){a((0,o.Z)((0,s.Z)({},l),{nylasSlug:N.selectedPage,headline:N.headline}))}),[N.selectedPage,a,N.headline]),(0,c.jsxs)(v.Z,{dirty:N.dirty,disabled:N.disabled,edit:N.edit,hiddenTabs:[],loading:N.loading,onClose:function(){return Z({type:"CLOSE"})},onDiscard:function(){return Z({type:"DISCARD"})},onSave:function(){g()},open:N.open,setEdit:function(e){return Z({type:"SET_EDIT",edit:e})},setRtl:x,rtl:u,title:"Durable Scheduling",children:[(0,c.jsx)(h.O.Panel,{unmount:!1,className:"divide-y outline-none",children:(0,c.jsx)("div",{className:"w-full px-2 py-2",children:(0,c.jsx)("div",{className:"mx-auto w-full max-w-md",children:N.pages.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.Z,{label:"Headline (optional)",placeholder:"e.g. Schedule",value:N.headline,onChange:function(e){return Z({type:"CHANGE_HEADLINE",value:e})}}),(0,c.jsx)("br",{}),(0,c.jsx)(ln.E,{value:N.selectedPage,onChange:function(e){return Z({type:"SET_SELECTED",slug:e})},children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(ln.E.Label,{children:"Select a Scheulder"}),N.loading&&(0,c.jsx)(w.Z,{text:"Loading available schedulders"}),!N.loading&&N.pages.map((function(e){return(0,c.jsx)(mt,{name:e.name,slug:e.slug},e.id)}))]})})]}):!N.loading&&(0,c.jsxs)("div",{children:["You haven't connected your calendar to Durable yet.",(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),"Please visit the\xa0",(0,c.jsx)("span",{className:"text-indigo-600 hover:underline link",children:(0,c.jsx)(ke(),{href:"/scheduler/settings",prefetch:!1,children:"Scheduler settings page"})}),"\xa0to link and create your first scheduler. Then return here to continue setup."]})})})}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsxs)("div",{className:"w-full px-2 py-2",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Heading"}),(0,c.jsx)(B.Z,{block:l,setBlock:function(e){return a((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))},horizontalAlign:!0,verticalAlign:!1,spacing:!1,minHeight:!1}),(0,c.jsxs)("div",{className:"w-full pt-2",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Scheduler"}),(0,c.jsxs)("div",{className:"mx-auto w-full max-w-md",children:["Please visit the\xa0",(0,c.jsx)("span",{className:"text-indigo-600 hover:underline link",children:(0,c.jsx)(ke(),{href:"/scheduler/settings",prefetch:!1,children:"Scheduler settings page"})}),"\xa0to create and customize your scheduler. We're working hard to enable more customization here."]})]})]})})]})}t(39828);var ft={seo:{title:"",description:"",headCode:"",footerCode:"",Image:null},slug:"",label:"",showOnHeader:!0,showOnFooter:!1};function pt(e){var n,t,l,a,r,v,h,x,p,w,N,Z,k,C=e.open,S=e.loading,P=e.save,E=e.setOpen,I=e.page,B=e.setPage,O=e.pages,T=(0,m.useState)(!0),_=T[0],A=T[1],R=(0,m.useState)(!1),F=R[0],D=R[1],W=(0,m.useState)((0,b.tl)("business.config"))[0],z=(0,m.useState)(!1),H=z[0],q=z[1],$=(0,m.useState)(null),U=$[0],G=$[1],X=(0,m.useState)(!1),J=X[0],Y=X[1],Q=(0,m.useState)(!1),ee=Q[0],ne=Q[1],te=(0,m.useState)([]),ie=te[0],le=te[1],se=(0,j.Z)().post,oe=(0,K.useSession)().data;I||(I=ft);var ae=function(){var e=(0,i.Z)((function(){var e,n,t,i,l;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return(null===W||void 0===W?void 0:W.business)||b.Z9.error("Error while generating your suggestion! Try again later."),D(!0),[4,se("/website/generate-content-aware-seo",{businessID:null===W||void 0===W||null===(e=W.business)||void 0===e?void 0:e._id,pageBlocks:null===I||void 0===I?void 0:I.blocks})];case 1:return(n=a.sent())&&n.status&&n.content||b.Z9.error("Error while generating your suggestion! Try again later."),t=n.content,i=t.description,l=t.Image,B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{description:i,Image:l})})),D(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){I&&U&&(JSON.stringify(U)===JSON.stringify(I)?q(!1):q(!0),I&&"parent"!==I.type&&I.seo&&(""!==I.seo.description||null!=I.seo.Image)?(Y(""!==I.seo.description||null!=I.seo.Image),ne(!0)):(Y(!1),ne(!1)))}),[I,U]),(0,m.useEffect)((function(){C&&le(null===O||void 0===O?void 0:O.filter((function(e){return"parent"===e.type})).map((function(e){return{id:e._id,name:e.label}})))}),[C,O]),(0,m.useEffect)((function(){G(C?(0,b.p$)(I):null)}),[C]),(0,c.jsxs)(L.u,{show:C,appear:!0,children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"z-50 fixed inset-0"})}),(0,c.jsx)("div",{className:"fixed inset-y-0 right-0 h-full z-50",children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-4",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col items-stretch h-full w-screen max-w-full bg-white shadow-xl overflow-y-auto overflow-x-hidden md:rounded-lg",children:[(0,c.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,c.jsx)("p",{className:"font-bold text-gray-900",children:I&&I._id?I.label:"parent"===I.type?"Create folder":"Create page"}),(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return E(!1),void setTimeout((function(){return B(null)}),500)},children:[(0,c.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,c.jsx)(M.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})]}),(0,c.jsxs)("div",{className:"flex-1 p-4 lg:p-6",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:["parent"!==(null===I||void 0===I?void 0:I.type)&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("label",{className:"mb-1",children:"Title"}),(0,c.jsx)(Xe,{prompt:{label:"generate-content-aware-seo",extraProps:{page:{type:I.label,content:I.blocks}}},regenerate:!!(null===I||void 0===I||null===(n=I.seo)||void 0===n?void 0:n.title),onSuggestion:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{title:e.title})})}))}})]}),(0,c.jsx)(f.Z,{className:"w-full col-span-full",helperText:"The title tag is displayed as the title in search results. We recommend between 50 and 60 characters.",error:_||I&&(null===I||void 0===I||null===(t=I.seo)||void 0===t?void 0:t.title)?"":"You must provide a valid title",name:"title",value:I?null===I||void 0===I||null===(l=I.seo)||void 0===l?void 0:l.title:"",onChange:function(e){B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{title:e})})}))},type:"text"})]}),(0,c.jsx)(f.Z,{className:"w-full",helperText:"This is the word shown in the navigation.",error:_||I&&I.label?"":"You must provide a valid label",name:"label",value:I?I.label:"",onChange:function(e){"parent"===(null===I||void 0===I?void 0:I.type)?B((0,o.Z)((0,s.Z)({},I),{label:e,slug:(0,u.S6)(e)})):B((0,o.Z)((0,s.Z)({},I),{label:e}))},type:"text",label:"Label"}),!(null===I||void 0===I?void 0:I.default)&&(0,c.jsx)(f.Z,{className:"w-full",helperText:"A unique URL identifier for this page.",error:_||I&&I.slug&&"blog"!==I.slug||(null===I||void 0===I?void 0:I.default)?"":"blog"===I.slug?"This slug is reserved to your blog":"You must provide a valid slug",name:"slug",value:I?I.slug:"",onChange:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{slug:e.replace(/[^0-9a-z]/gi,"-").toLowerCase()})}))},readOnly:null===I||void 0===I?void 0:I.default,type:"text",label:"Slug"}),"nested"!==(null===I||void 0===I?void 0:I.type)&&(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsx)("label",{className:"mb-1",children:"Show link"}),(0,c.jsxs)("div",{className:"flex space-x-8 mt-2",children:[(0,c.jsxs)("label",{className:"flex items-center",children:[(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.showOnHeader,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{showOnHeader:e}))},className:"mr-1.5"}),"Header"]}),(0,c.jsxs)("label",{className:"flex items-center",children:[(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.showOnFooter,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{showOnFooter:e}))},className:"mr-1.5"}),"Footer"]})]})]})]}),"parent"!==(null===I||void 0===I?void 0:I.type)&&(0,c.jsxs)(c.Fragment,{children:[!(null===I||void 0===I?void 0:I.default)&&(null===ie||void 0===ie?void 0:ie.length)>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("hr",{className:"!my-4"}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-medium",children:"Add to folder"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Add this page to an existing folder"})]}),(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.type,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{type:e?"nested":null,Parent:e&&1===(null===ie||void 0===ie?void 0:ie.length)?ie[0].id:null}))}})]}),"nested"===(null===I||void 0===I?void 0:I.type)&&(0,c.jsx)(V.Z,{className:"my-4",placeholder:"Select",values:ie,value:(null===I||void 0===I?void 0:I.Parent)&&ie.find((function(e){return e.id===(null===I||void 0===I?void 0:I.Parent)})),onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{Parent:e.id}))}})]})]}),(0,c.jsx)("hr",{className:"!my-4"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900 mb-3",children:"SEO"}),(0,c.jsxs)("p",{className:"font-normal text-gray-900 mb-4",children:["Improve your website","'","s rank on search engines like Google with SEO."]}),J||ee?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,c.jsx)("label",{className:"",children:"Image"}),(0,c.jsx)("div",{className:"relative -mt-3",children:(0,c.jsx)("div",{children:(0,c.jsx)(Ie.Z,{regenerate:!!(null===I||void 0===I||null===(a=I.seo)||void 0===a?void 0:a.Image),onChange:function(e){B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{Image:e})}))}})})})]}),I&&(0,c.jsx)(Be.Z,{unsplash:!0,upload:!0,library:!0,location:"services",pictures:null===I||void 0===I||null===(r=I.seo)||void 0===r?void 0:r.Image,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{Image:e[0]})}))}}),(0,c.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"The image that is displayed when shared on social medias"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("label",{children:"Description"}),(0,c.jsx)(Xe,{regenerate:!!(null===I||void 0===I||null===(v=I.seo)||void 0===v?void 0:v.description),prompt:{label:"generate-content-aware-seo",extraProps:{page:{type:I.label,content:I.blocks}}},onSuggestion:function(e){return B((function(n){return(0,o.Z)((0,s.Z)({},n),{seo:(0,o.Z)((0,s.Z)({},null===n||void 0===n?void 0:n.seo),{description:e.description})})}))}})]}),(0,c.jsx)("textarea",{rows:4,value:null===(h=I.seo)||void 0===h?void 0:h.description,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{description:e.target.value})}))},maxLength:"320"}),(0,c.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"A meta description is a short, relevant summary of this page. Search engines will sometimes use this in search results. We recommend between 110 and 160 characters."})]})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"bg-gray-50 p-6",style:{minHeight:"128px"},children:[(0,c.jsx)("p",{className:"text-xs font-normal text-center text-gray-400 mb-6",children:(0,c.jsxs)(y.Z,{className:"light text-gray-700 w-full",onClick:function(){return ae()},loading:F,children:["Generate SEO ",(0,c.jsx)(M.Z,{icon:"BoltIcon",className:"w-4 h-4 ml-1"})]})}),(0,c.jsx)("p",{className:"text-xs font-normal text-center text-gray-400",children:(0,c.jsx)(y.Z,{className:"text-sm text-indigo-700 font-medium link items-center w-full",onClick:function(){return ne(!0)},loading:S,children:"Add SEO manually"})})]})}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 text-sm text-gray-700",children:"Mark this page as canonical"}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Enable this option to mark this page as the most representative from a set of duplicate pages."})]}),(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.isCanonical,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{isCanonical:e}))}})]})}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-700",children:"Remove from sitemap"}),(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.hideFromSitemap,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{hideFromSitemap:e}))}})]})})]}),(0,c.jsx)("hr",{className:"!my-4"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900 mb-3",children:"Code"}),(0,c.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-md mb-4",children:[(0,c.jsx)(M.Z,{icon:"BellIcon",className:"w-4 h-4 text-yellow-500 mt-1 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-yellow-800 text-sm",children:"Durable doesn't validate custom code, be sure to check code before saving."})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"mb-2",children:"Head Code"}),(0,c.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:["Add code at the end of the ","<","head",">"," tag:"]}),(0,c.jsx)("textarea",{rows:6,value:null===I||void 0===I||null===(x=I.seo)||void 0===x?void 0:x.headCode,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{headCode:e.target.value})}))},placeholder:"active"!==(null===oe||void 0===oe||null===(p=oe.user)||void 0===p?void 0:p.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===oe||void 0===oe||null===(w=oe.user)||void 0===w?void 0:w.subscriptionStatus)})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{className:"mb-2",children:"Footer Code"}),(0,c.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:["Add code before ","<","body",">"," tag:"]}),(0,c.jsx)("textarea",{rows:6,value:null===I||void 0===I||null===(N=I.seo)||void 0===N?void 0:N.footerCode,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{seo:(0,o.Z)((0,s.Z)({},I.seo),{footerCode:e.target.value})}))},placeholder:"active"!==(null===oe||void 0===oe||null===(Z=oe.user)||void 0===Z?void 0:Z.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===oe||void 0===oe||null===(k=oe.user)||void 0===k?void 0:k.subscriptionStatus)})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 text-sm text-gray-700",children:"Force custom code render"}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Enable this option if your custom code or embed block is not being properly rendered."})]}),(0,c.jsx)(g.Z,{enabled:null===I||void 0===I?void 0:I.forceRender,onChange:function(e){return B((0,o.Z)((0,s.Z)({},I),{forceRender:e}))}})]})})]})]})]}),(0,c.jsxs)("div",{className:(0,b.AK)("sticky left-0 right-0 z-50 flex items-center justify-between gap-3 p-4 lg:px-6 bg-white border-t border-gray-100 rounded-b-md transition-all duration-300",H?"bottom-0 opacity-100":"-bottom-20 opacity-0"),children:[(0,c.jsx)("p",{className:"text-sm font-medium",children:"Unsaved"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("button",{className:"secondary",disabled:S,onClick:function(){return B((0,b.p$)(U)),q(!1),ne(!1),void Y(!1)},children:"Discard"}),(0,c.jsx)(y.Z,{className:"primary",onClick:function(){return function(){var e;I&&("parent"===(null===I||void 0===I?void 0:I.type)||(null===I||void 0===I||null===(e=I.seo)||void 0===e?void 0:e.title))&&((null===I||void 0===I?void 0:I.default)||/[0-9a-z]/gi.test(I.slug)&&I.slug&&"blog"!==I.slug)&&I.label?(A(!0),I.slug&&(I.slug=I.slug.replace(/-+$/g,"")),P()):A(!1)}()},loading:S,children:"Save"})]})]})]})})})})]})}var gt=t(83441),bt=function(e){return e.replace("+1","").replace(/^(\d{3})(\d{3})(\d{4})$/,"($1) $2-$3")},jt=function(e){var n=e.label,t=e.informationProvidedCallback,i=e.showPrefix,l=void 0===i||i,s=e.existingInformation,o=[{id:"us",name:"+1",icon:(0,c.jsx)(gt.Z,{countryCode:"US","aria-label":"United States",svg:!0})},{id:"ca",name:"+1",icon:(0,c.jsx)(gt.Z,{countryCode:"CA","aria-label":"Canada",svg:!0})}],r=(0,a.Z)(m.useState(""),2),d=r[0],u=r[1],v=(0,a.Z)(m.useState(o[0]),2),h=v[0],x=v[1];return(0,m.useEffect)((function(){s&&u(s.notFormatted)}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(f.Z,{label:n,value:d,prefix:l&&(0,c.jsx)(V.Z,{className:"w-full",values:o,value:h,icon:h.icon,showOptionIcon:!0,onChange:x,buttonBorder:!1}),addPrefixPadding:!1,onChange:function(e){if(!(e.length>15)){var n=e.replace(/\D/g,"");n.length<=3?u(n):n.length<=6?u("(".concat(n.substring(0,3),") ").concat(n.substring(3))):n.length<=10&&u("(".concat(n.substring(0,3),") ").concat(n.substring(3,6),"-").concat(n.substring(6)));var i=n.trim().replace(/[\s\(\)-]+/g,"");t({notFormatted:bt(i),formatted:"".concat(h.name).concat(i),isNumberValid:10===i.length})}}})})},yt=t(58386),wt=t(63944),Nt=function(e){var n=e.children,t=e.isModalOpen,i=e.setIsModalOpen;return(0,c.jsx)(ee.u,{open:t,fixedHeight:!0,hasCustomBody:!0,children:(0,c.jsxs)("div",{className:"flex flex-col text-center md:max-w-sm",children:[(0,c.jsx)("img",{src:"https://cdn.durable.co/assets/auto-post/auto-post-on-modal-header.svg",alt:"Auto-post on modal header image.",className:"h-40 md:w-96"}),(0,c.jsxs)("div",{className:"flex flex-col gap-8 p-8",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsx)("p",{className:"text-gray-900 text-xl font-semibold leading-6",children:"You\u2019re all set up for auto-post!"}),(0,c.jsx)("p",{className:"text-gray-900 text-base font-normal leading-6",children:n})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"py-3.5 px-4 border-1 border-gray-300 rounded-md",onClick:function(){return i(!1)},children:"Close"})})]})]})})},Zt=function(e){var n=e.showModal,t=e.showModalHandler,l=e.scheduleData,a=e.setScheduleData,r=null===l||void 0===l?void 0:l.existingScheduleData,u=(0,m.useState)(!1),v=u[0],h=u[1],x=(0,m.useState)(!0),f=x[0],p=x[1],N=(0,m.useState)(!0),Z=N[0],k=N[1],C=(0,m.useState)({notFormatted:"",formatted:"",isNumberValid:!1}),S=C[0],P=C[1],E=(0,m.useState)(""),I=E[0],B=E[1],O=(0,m.useState)(!0),T=O[0],_=O[1],A=(0,m.useState)(!1),R=A[0],F=A[1],D=(0,m.useState)(!1),L=D[0],W=D[1],M=(0,m.useState)({id:"",name:""}),z=M[0],H=M[1],K=(0,m.useState)(!1),q=K[0],$=K[1],U=(0,m.useState)(!1),G=U[0],X=U[1],J="DISABLED",Y=(0,m.useState)({phoneNumber:null,isEnabled:null,isNotificationEnabled:null,name:null}),Q=Y[0],ne=Y[1],te=(0,j.Z)(),ie=te.post,le=te.get,se=function(e){var n,t,i,s,o,a,d,c=null!==(s=null===e||void 0===e?void 0:e.existingScheduleData)&&void 0!==s?s:r,u=(null===c||void 0===c?void 0:c.name)&&(null===c||void 0===c?void 0:c.name)!==J?null===c||void 0===c?void 0:c.name:null,m=(null===c||void 0===c||null===(n=c.BusinessPhoneNumber)||void 0===n?void 0:n.verified)&&(null===c||void 0===c?void 0:c.isNotificationEnabled);ne({phoneNumber:null!==(o=null===c||void 0===c||null===(t=c.BusinessPhoneNumber)||void 0===t?void 0:t.phoneNumber)&&void 0!==o?o:"",isEnabled:null!==(a=null===c||void 0===c?void 0:c.isEnabled)&&void 0!==a&&a,isNotificationEnabled:null===m||void 0===m||m,name:null!==u&&void 0!==u?u:oe()[0].id});var v,x=(null!==(d=null===c||void 0===c?void 0:c.BusinessPhoneNumber)&&void 0!==d?d:{phoneNumber:"",verified:!0}).phoneNumber;H(u?{id:u,name:null===(i=null===l||void 0===l?void 0:l.schedules[u])||void 0===i?void 0:i.displayText}:oe()[0]),h(null===(v=null===c||void 0===c?void 0:c.isEnabled)||void 0===v||v),p(null===m||void 0===m||m),P(x?{notFormatted:x?bt(x):"",formatted:x||"",isNumberValid:!0}:{notFormatted:"",formatted:"",isNumberValid:!1}),k(!0),B(""),_(!0),F(!1),W(!1),$(!1)},oe=function(){return(null===l||void 0===l?void 0:l.schedules)?Object.values(null===l||void 0===l?void 0:l.schedules).map((function(e){return{id:e.name,name:e.displayText}})):{schedules:[],selectedSchedule:{}}},ae=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,wt.Q5)(le,!0)];case 1:return e=n.sent(),a(e),se(e),[2]}}))}));return function(){return e.apply(this,arguments)}}(),re=function(e){P(e)},de=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,wt.ld)(ie,v,z.id,f,S.formatted,null===l||void 0===l?void 0:l.countryCode,null!==(e=null===r||void 0===r?void 0:r._id)&&void 0!==e?e:null)];case 1:return[2,n.sent()]}}))}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return F(!0),[4,(0,wt.Wt)(ie,I)];case 1:switch(e.sent()){case"VERIFIED":return[3,2];case"EXPIRED":return[3,4]}return[3,5];case 2:return t(!1),X(!0),[4,ae()];case 3:return e.sent(),[3,6];case 4:return b.Z9.error("OTP verification code expired. Please request a new code.",{autoClose:!0}),[3,6];case 5:return b.Z9.error("OTP verification failed.",{autoClose:!0}),[3,6];case 6:return F(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return!v||!f||S.formatted&&S.isNumberValid?(W(!0),[4,de()]):(b.Z9.error("Please enter a valid phone number.",{autoClose:!0}),[2]);case 1:return"FAILED"===(e=n.sent())?(W(!1),b.Z9.error("Failed to save schedule.",{autoClose:!0}),[2]):[4,ae()];case 2:return n.sent(),$(!1),"NEEDS_VERIFICATION"!==e?(t(!1),v?X(!0):b.Z9.success(v?"Auto-post on":"Auto-post off",{autoClose:!0})):k(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),me=function(){var e;r&&(null===r||void 0===r||null===(e=r.BusinessPhoneNumber)||void 0===e?void 0:e.verified)?(P({notFormatted:"",formatted:"",isNumberValid:!1}),W(!1),k(!0)):(se(),t(!1))},ve=function(){p(!f)},he=function(){var e=(0,i.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return e=null===l||void 0===l?void 0:l.countryCode,n=S.formatted,e&&n?[4,(0,wt.ZU)(ie,e,n)]:(b.Z9.error("Unable to request a new code right now, please try again later",{autoClose:!0}),[2]);case 1:return t.sent()?(B(""),b.Z9.success("OTP code sent.",{autoClose:!0}),[2]):(b.Z9.error("Failed to resend OTP code. Please try again later.",{autoClose:!0}),[2])}}))}));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){6===I.length&&_(!1)}),[I]),(0,m.useEffect)((function(){se()}),[]),(0,m.useEffect)((function(){$(Q.phoneNumber!==S.formatted&&S.isNumberValid||Q.isEnabled!==v||Q.isNotificationEnabled!==f||Q.name!==z.id)}),[z,v,f,S,$,Q]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ee.u,{title:Z?"Automate posts":null,buttons:Z&&(0,c.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,c.jsx)(y.Z,{onClick:t,disabled:L,className:"secondary",children:"Cancel"}),(0,c.jsx)("button",{onClick:ue,className:"relative primary w-full",disabled:!q||L,children:L?(0,c.jsx)(w.Z,{text:""}):"Save"})]}),open:n,setOpen:function(){se(),t(!1)},fixedHeight:!1,footerHasMarginTop:v,children:Z?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"flex gap-6",children:[(0,c.jsx)("p",{children:"Draft blog posts automatically using AI"}),(0,c.jsx)("span",{className:"flex-grow"}),(0,c.jsx)(g.Z,{enabled:v,onChange:h})]})}),v&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("hr",{className:"mt-1 mb-1"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"h6 font-semibold text-gray-900 mb-3",children:"Schedule"}),(0,c.jsx)(V.Z,{className:"w-full mb-2",values:oe(),value:z,onChange:H}),(0,c.jsx)("p",{className:"label font-normal text-gray-500",children:(null===r||void 0===r?void 0:r.isEnabled)&&(null===r||void 0===r?void 0:r.name)!==J?"Ongoing":"Starting today"})]}),(0,c.jsx)("hr",{className:"mt-1 mb-1"}),(0,c.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,c.jsxs)("div",{className:"flex gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"h6 font-semibold text-gray-900 mb-1",children:"Notifications"}),(0,c.jsx)("p",{className:"label font-normal text-gray-500 mb-6",children:"Send a text message when drafts are ready"})]}),(0,c.jsx)("span",{className:"flex-grow"}),(0,c.jsx)(g.Z,{enabled:f,onChange:ve})]}),f&&(0,c.jsx)(jt,{label:"Phone",informationProvidedCallback:re,showPrefix:!1,existingInformation:S})]})]})]}):(0,c.jsx)("div",{className:"p-4",children:(0,c.jsxs)("div",{className:"flex flex-col text-center gap-8",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"h6",children:"Please verify your phone number"}),(0,c.jsx)("p",{className:"h6",children:"by entering the 6 digit code sent to"})]}),(0,c.jsx)("div",{children:(0,c.jsx)("span",{className:"text-sm pl-1 pr-1 pt-2 pb-2 rounded-md bg-gray-100",children:S.notFormatted})}),(0,c.jsx)("p",{className:"label font-normal text-gray-500",children:"You'll only have to do this once."})]}),(0,c.jsx)("div",{children:(0,c.jsx)(yt.Z,{value:I,onChange:B,numInputs:6,renderInput:function(e){return(0,c.jsx)("input",(0,o.Z)((0,s.Z)({},e),{className:""}))},inputStyle:{width:"2.69rem",height:"2.5rem"},containerStyle:{display:"flex",gap:"0.5rem"},shouldAutoFocus:!0})}),(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsx)("button",{onClick:ce,className:"relative primary w-full",disabled:R||T,children:R?(0,c.jsx)(w.Z,{text:""}):"Verify"}),(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)(y.Z,{onClick:me,loading:!1,disabled:!1,className:"light",children:"Cancel"}),(0,c.jsx)("span",{className:"flex-grow"}),(0,c.jsx)(y.Z,{onClick:he,loading:!1,disabled:!1,className:"light",children:"Resend code"})]})]})]})})}),(0,c.jsx)(Nt,{isModalOpen:G,setIsModalOpen:X,children:f?"We've sent a confirmation text message, and you\u2019ll get another one when your first post is ready for review.":"You'll see new draft posts appear on the schedule you chose."})]})};function kt(e){var n=e.count,t=e.limit,i=e.setOpenPaywall,l=(0,q.Z)().track;return(0,c.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mx-3 my-4 space-y-3",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"relative w-14 h-14 -mb-3 -mx-0.5",children:(0,c.jsx)(H(),{src:(0,b.sd)("website-builder/page-mock.png"),layout:"fill",objectFit:"cover",alt:"Page mock"})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-1.5",children:["You have used ",n,"/",t," pages."]}),(0,c.jsx)("p",{className:"link text-sm font-medium",onClick:function(){l("account:paywall-click",{context:"page_counter"}),i("page_counter")},children:"Get unlimited pages & more"})]})]}),(0,c.jsxs)("div",{className:"relative py-1.5",children:[(0,c.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-xl"}),t<4?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"absolute top-1.5 left-0 h-2 bg-indigo-600 rounded-xl",style:{width:(n<=1?0:2===n?50:100)+"%"}}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-between",children:Array(t).fill({}).map((function(e,t){return(0,c.jsx)("div",{className:(0,b.AK)("flex items-center justify-center w-5 h-5 rounded-xl transition-all duration-300",n===t+1?"bg-indigo-600 text-white ring-4 ring-indigo-200 ring-opacity-80":n>t+1?"bg-indigo-600 text-indigo-200":"bg-gray-200 text-gray-500"),children:(0,c.jsx)(M.Z,{icon:t+1===n?"FlagSolidIcon":t+1<n?"CheckCircleSolidIcon":"StarSolidIcon",className:"w-3 h-3"})},"page-limit-progress-".concat(t+1))}))})]}):(0,c.jsx)("div",{className:"absolute top-1.5 left-0 h-2 bg-indigo-600 rounded-xl",style:{width:Math.min(100*n/t,100)+"%"}})]})]})}var Ct={seo:{title:"",description:"",headCode:"",footerCode:"",Image:null},slug:"",label:"",showOnHeader:!0,showOnFooter:!1},St=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})})),Pt=(0,Ae.W8)((function(e){var n,t=e.page,i=e.last,l=e.deletePage,a=e.loading,r=e.currentPage,d=e.setCurrentPage,u=e.setOpenManagePage,m=e.onSelectPage,v=e.onDuplicate,h=e.onNestSortEnd,x=e.handleScheduleSMSModalOpen,f=e.scheduleData,p=function(){var e;return f&&(null===f||void 0===f?void 0:f.existingScheduleData)&&(null===f||void 0===f||null===(e=f.existingScheduleData)||void 0===e?void 0:e.isEnabled)};return(0,c.jsxs)("li",{className:(0,b.AK)("relative z-100",(null===r||void 0===r?void 0:r.id)===t._id?"bg-indigo-50":"bg-white",!i&&"after:absolute after:left-6 after:right-6 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:[(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3 px-6",children:["nested"===t.type&&(0,c.jsx)("span",{className:"w-3 h-3 border-l border-b border-gray-300 ml-2"}),(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(St,{})}),(0,c.jsx)("div",{className:"flex-1",onClick:function(){return"parent"!==t.type&&m(t._id)},children:(0,c.jsx)("div",{className:(0,b.AK)("text-sm text-gray-700 font-medium","parent"!==t.type&&"cursor-pointer"),children:t.label})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:["blog"===t.type&&f&&(0,c.jsx)("button",{className:p()?"text-blue-800":"text-gray-700 hover:text-gray-900",onClick:x,children:(0,c.jsx)(M.Z,{icon:"AutoPost".concat(p()?"Solid":"","Icon"),className:"w-4 h-4","aria-hidden":"true"})}),(0,c.jsx)("button",{className:"text-gray-700 hover:text-gray-900",disabled:a,onClick:function(){d((0,b.p$)(t)),u(!0)},children:(0,c.jsx)(M.Z,{icon:"CogSolidIcon",className:"w-5 h-5","aria-hidden":"true"})}),"blog"===t.type&&(0,c.jsx)("button",{className:"text-gray-700 hover:text-gray-900",disabled:a,onClick:function(){return m(t._id)},children:(0,c.jsx)(M.Z,{icon:"ChevronRightSolidIcon",className:"w-5 h-5","aria-hidden":"true"})}),(!["blog","parent"].includes(t.type)||!t.default)&&(0,c.jsxs)(ue.Z,{className:"!inline-flex items-center",iconClassName:"text-gray-700 hover:text-gray-900",children:[!["blog","parent"].includes(t.type)&&(0,c.jsxs)(ce.v.Item,{as:"button",className:"flex items-center gap-2 w-full py-2.5 px-4 text-gray-700 hover:bg-gray-100",disabled:a,onClick:function(){return v(t._id)},children:[(0,c.jsx)(M.Z,{icon:"DocumentDuplicateSolidIcon",className:"w-4 h-4","aria-hidden":"true"}),(0,c.jsx)("span",{children:"Duplicate"})]}),!t.default&&(0,c.jsxs)(ce.v.Item,{as:"button",className:"flex items-center gap-2 w-full py-2.5 px-4 text-red-600 hover:bg-red-50",disabled:a,onClick:function(){return l(t)},children:[(0,c.jsx)(M.Z,{icon:"TrashSolidIcon",className:"w-4 h-4","aria-hidden":"true"}),(0,c.jsx)("span",{children:"Delete"})]})]})]})]}),(null===(n=t.nests)||void 0===n?void 0:n.length)>0&&(0,c.jsx)("div",{className:"relative before:absolute before:left-6 before:right-6 before:top-0 before:border-b before:border-gray-200 before:z-100",children:(0,c.jsx)(Et,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",pages:t.nests,loading:a,onSortEnd:function(e){return h((0,o.Z)((0,s.Z)({},e),{idParent:t._id}))},deletePage:l,setOpenManagePage:u,currentPage:r,setCurrentPage:d,onSelectPage:m,onDuplicate:v})})]},t._id)})),Et=(0,Ae.JN)((function(e){var n=e.pages,t=e.deletePage,i=e.loading,l=e.currentPage,s=e.setCurrentPage,o=e.setOpenManagePage,a=e.onSelectPage,r=e.onDuplicate,d=e.onNestSortEnd,u=e.handleScheduleSMSModalOpen,m=e.scheduleData;return(0,c.jsxs)("ul",{className:"bg-white relative z-5",children:[0===(null===n||void 0===n?void 0:n.length)&&(0,c.jsx)("li",{children:(0,c.jsx)("p",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"No page found"})}),null===n||void 0===n?void 0:n.map((function(e,v){return(0,c.jsx)(Pt,{last:v===n.length-1,loading:i,index:v,page:e,deletePage:t,currentPage:l,setCurrentPage:s,setOpenManagePage:o,onSelectPage:a,onDuplicate:r,onNestSortEnd:d,handleScheduleSMSModalOpen:u,scheduleData:m},"item-".concat(e._id))}))]})}));function It(e){var n,t,l,a,u,v,h,x=e.postsCount,f=e.open,p=e.setOpen,g=e.currentPage,y=(e.isOpenCreatePage,e.setIsOpenCreatePage),N=e.isOpenManagePage,Z=e.setIsOpenManagePage,k=e.setOpenPaywall,C=e.onSortEnd,S=e.onSelectPage,P=e.onCreatePage,E=e.onDuplicatePage,I=e.onUpdatePage,B=e.onCreatePost,O=(0,m.useState)(!1),T=O[0],_=O[1],A=(0,m.useState)(null),R=A[0],F=A[1],D=(0,m.useState)(g),W=D[0],z=D[1],H=(0,m.useState)(!1),V=H[0],q=H[1],$=(0,m.useState)(null),U=$[0],G=$[1],X=(0,te.useRouter)(),J=(0,K.useSession)().data,Y=(0,j.Z)(),Q=Y.get,ee=Y.post,ne=Y.remove,le=(0,ie.Z)(),se=le.confirm,oe=le.ConfirmDialog,ae=(null===J||void 0===J||null===(n=J.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(l=t.limits)||void 0===l?void 0:l.pages)>=0?null===J||void 0===J||null===(a=J.user)||void 0===a||null===(u=a.plan)||void 0===u||null===(v=u.limits)||void 0===v?void 0:v.pages:-1,re=(null===(h=null===R||void 0===R?void 0:R.filter((function(e){return"blog"!==e.type&&"parent"!==e.type})))||void 0===h?void 0:h.length)||0,de=function(){var e=(0,i.Z)((function(){var e,n,t;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return _(!0),[4,Q("/website/get-pages").catch(console.log)];case 1:return(e=i.sent())&&!0===e.status&&e.content&&(n=e.content.map((function(n){return"parent"===n.type&&(n.nests=e.content.filter((function(e){return e.Parent===n._id}))),n})),F(n),(t=e.content.find((function(e){return"blog"===e.type})))&&(0,b.Fs)("website.blog",{id:t._id,hasPosts:t.hasPosts,block:t.blocks.find((function(e){return"blog"===e.WebsiteBlock.type}))})),_(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.Z)((function(e){var n,t,i,l;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return n=e.oldIndex,t=e.newIndex,i=(0,Tn.q)(R.filter((function(e){return"nested"!==e.type})),n,t),l=(0,r.Z)(i).concat((0,r.Z)(R.filter((function(e){return"nested"===e.type})))),_(!0),F(l),[4,ee("/website/save-pages-order",{pages:i.map((function(e,n){return{index:n,page:e._id}}))}).catch(console.log)];case 1:return s.sent(),C(W._id),_(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return n=e.idParent,t=e.oldIndex,i=e.newIndex,s=null===(l=R.find((function(e){return e._id===n})))||void 0===l?void 0:l.nests,o=(0,Tn.q)(s,t,i),_(!0),a=R.map((function(e){return e._id===n&&(e.nests=o),e})),F(a),[4,ee("/website/save-pages-order",{pages:o.map((function(e,n){return{index:n,page:e._id}}))}).catch(console.log)];case 1:return r.sent(),C(W._id),_(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),me=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return xe()?(_(!0),[4,ee("/website/duplicate-page",{idPage:e}).catch(console.log)]):[3,2];case 1:(n=t.sent())&&!0===n.status&&n.content?(de(),E(n.content._id)):(b.Z9.error(n.message),_(!1)),t.label=2;case 2:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return _(!0),[4,ee(W._id?"/website/edit-page":"/website/create-page",W).catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content?(W._id||"parent"===W.type?I({page:{_id:W._id},pageTemplate:null}):P({page:{_id:e.content._id},pageTemplate:null}),Z(!1),setTimeout((function(){return z(null)}),500),b.Z9.success("".concat("parent"!==W.type?"Page":"Folder"," saved!")),de()):(b.Z9.error("Error saving this page, please try again. "+e.message),_(!1)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),he=function(){q(!V)},xe=function(){return!(-1!==ae&&re>=ae)||(k("manage_pages"),!1)},fe=function(e){z((0,o.Z)((0,s.Z)({},Ct),{type:e})),"parent"===e?Z(!0):xe()&&y(!0)};return(0,m.useEffect)((function(){f&&(R||de())}),[f,R]),(0,m.useEffect)((function(){var e,n,t=!1;if("page"===(null===X||void 0===X||null===(e=X.query)||void 0===e?void 0:e.edit)&&(null===X||void 0===X||null===(n=X.query)||void 0===n?void 0:n.id)&&R){var i=null===R||void 0===R?void 0:R.find((function(e){var n;return e._id===(null===X||void 0===X||null===(n=X.query)||void 0===n?void 0:n.id)}));z(i),Z(!0),t=!0,S(null===i||void 0===i?void 0:i._id,!0)}t&&X.replace("/website/builder",null,{shallow:!1})}),[X,R,W]),(0,m.useEffect)((function(){return(0,wt.Q5)(Q).then((function(e){G(e)})),window.parent.addEventListener("website-builder-page-created",de),function(){window.parent.removeEventListener("website-builder-page-created",de)}}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(L.u,{show:f,appear:!0,children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"z-50 fixed inset-0"})}),(0,c.jsx)("div",{className:"fixed inset-y-0 right-0 h-full z-50",children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-4",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col items-stretch h-full w-screen max-w-full bg-white shadow-xl overflow-hidden md:rounded-lg",children:[(0,c.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,c.jsx)("p",{className:"font-bold text-gray-900",children:"Pages"}),(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return p(!1)},children:[(0,c.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,c.jsx)(M.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[R?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(Et,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",pages:R.filter((function(e){return"nested"!==e.type})),loading:T,onSortEnd:ce,onNestSortEnd:ue,deletePage:function(e){se("Delete ".concat("parent"===(null===e||void 0===e?void 0:e.type)?"folder":"page"),(0,c.jsxs)("p",{children:['Are you sure you want to delete "',(0,c.jsx)("b",{children:null===e||void 0===e?void 0:e.label}),'"?']}),(0,i.Z)((function(){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return _(!0),[4,ne("/website/delete-page",{idPage:null===e||void 0===e?void 0:e._id}).catch(console.log)];case 1:return(n=t.sent())&&!0===n.status?(de(),S()):(b.Z9.error(n.message),_(!1)),[2]}}))})))},setOpenManagePage:Z,currentPage:g,setCurrentPage:z,onSelectPage:S,onDuplicate:me,handleScheduleSMSModalOpen:he,scheduleData:U}),T&&(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-50",children:(0,c.jsx)(w.Z,{text:""})})]}):(0,c.jsx)("div",{className:"px-6",children:(0,c.jsx)(w.Z,{variant:"table",cols:1,rows:6})}),-1!==ae&&!T&&(0,c.jsx)(kt,{limit:ae,count:re,setOpenPaywall:k})]}),(0,c.jsxs)("div",{className:"max-w-full sticky top-0 flex flex-col justify-between bg-white border-t z-10 py-1",children:[(0,c.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",disabled:T,onClick:function(){return fe()},children:[(0,c.jsx)(M.Z,{icon:"DocumentPlusIcon",className:"w-4 h-4 text-gray-700"}),(0,c.jsx)("span",{className:"text-sm text-gray-700",children:"Create page"})]}),(0,c.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",disabled:T,onClick:function(){return fe("parent")},children:[(0,c.jsx)(M.Z,{icon:"FolderPlusIcon",className:"w-4 h-4 text-gray-700"}),(0,c.jsx)("span",{className:"text-sm text-gray-700",children:"Create folder"})]}),(0,c.jsxs)("button",{className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50",disabled:T,onClick:function(){return function(){var e,n,t,i,l,s,o=(null===J||void 0===J||null===(e=J.user)||void 0===e||null===(n=e.plan)||void 0===n||null===(t=n.limits)||void 0===t?void 0:t.blogPosts)>=0?null===J||void 0===J||null===(i=J.user)||void 0===i||null===(l=i.plan)||void 0===l||null===(s=l.limits)||void 0===s?void 0:s.blogPosts:-1;-1!==o&&x>=o?k("manage_posts"):(B(),Z(!1),p(!1))}()},children:[(0,c.jsx)(M.Z,{icon:"DocumentTextSolidIcon",className:"w-4 h-4 text-gray-700"}),(0,c.jsx)("span",{className:"text-sm text-gray-700",children:"Create blog post"})]})]})]})})})}),(0,c.jsx)(pt,{page:W,pages:R,save:ve,loading:T,setPage:z,open:N,setOpen:Z}),(0,c.jsx)(oe,{attention:!0})]}),U&&(0,c.jsx)(Zt,{showModal:V,showModalHandler:he,scheduleData:U,setScheduleData:G})]})}var Bt=t(9198),Ot=t.n(Bt),Tt=t(14441),_t=t(6074);function At(e){var n=e.open,t=e.setOpen,i=e.post,l=e.setPost,a=e.rtl,r=e.setRtl,d=e.website,x=e.onValid,j=(0,m.useState)({}),y=j[0],w=j[1],N=(0,m.useState)(!0),Z=N[0],k=N[1],C=(0,m.useState)(null),P=C[0],E=C[1],I=function(){t(!1)};return(0,m.useEffect)((function(){y&&l((function(e){var n,t;return(0,o.Z)((0,s.Z)({},e),{Image:null===y||void 0===y||null===(n=y.layers)||void 0===n||null===(t=n.image)||void 0===t?void 0:t.media,banner:y})}))}),[y]),(0,m.useEffect)((function(){if(n){var e=(0,u.Oc)((0,b.p$)(i));w((0,b.p$)(e.banner))}}),[n]),(0,m.useEffect)((function(){i.title&&i.slug?(k(!1),x(!0)):(k(!0),x(!1))}),[i]),(0,c.jsxs)(v.Z,{title:"Post",open:n,rtl:a,setRtl:r,edit:P,setEdit:E,invalid:Z,hiddenTabs:["Colors","Author"],onClose:I,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Title"}),(0,c.jsx)(f.Z,{className:"w-full",helperText:"60 characters recommended",error:Z&&!(null===i||void 0===i?void 0:i.title)?"You must provide a valid title":"",name:"title",value:null===i||void 0===i?void 0:i.title,onChange:function(e){l((0,o.Z)((0,s.Z)({},i),{title:e,slug:(0,u.S6)(e)}))},type:"text"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm mb-2",children:"Slug"}),(0,c.jsx)(f.Z,{className:"w-full",helperText:"A unique URL identifier for this blog post.",error:Z&&!(null===i||void 0===i?void 0:i.slug)?"You must provide a valid slug":"",name:"slug",value:null===i||void 0===i?void 0:i.slug,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{slug:e.replace(/[^0-9a-z]/gi,"-").toLowerCase()}))}})]})]}),(0,c.jsx)(_t.to,{author:null===i||void 0===i?void 0:i.Author,onEdit:function(){return E("Author")}}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"font-semibold mb-2",children:"Date"}),(0,c.jsx)(Ot(),{selected:(null===i||void 0===i?void 0:i.publishedAt)||(null===i||void 0===i?void 0:i.createdAt),onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{publishedAt:e}))},dateFormat:"LLL dd, yyyy",calendarClassName:"tailwind-calendar",customInput:(0,c.jsx)(Tt.Z,{className:"!py-3"})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-6 pt-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Published"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.published,onChange:function(e){e&&!(null===i||void 0===i?void 0:i.publishedAt)?l((0,o.Z)((0,s.Z)({},i),{published:!0,publishedAt:new Date})):l((0,o.Z)((0,s.Z)({},i),{published:e}))}})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:d,block:y,onEdit:function(){return E("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:y,setBlock:w}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsx)(p.Z,{label:"Title alignment",labelClassName:"text-body font-semibold",value:(null===y||void 0===y?void 0:y.align)||"center",options:[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"}],onChange:function(e){return w((function(n){return(0,o.Z)((0,s.Z)({},n),{align:e})}))}})})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:d,block:y,setBlock:w,onTryPalette:I})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(_t.sK,{value:null===i||void 0===i?void 0:i.Author,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{Author:e,authorModel:null===e||void 0===e?void 0:e.type}))}})})]})}function Rt(e){var n=e.open,t=e.setOpen,i=e.rtl,l=e.setRtl,a=e.website,r=(0,m.useState)(null),d=r[0],u=r[1],v=(0,m.useState)(null),h=v[0],x=v[1],p=(0,m.useRef)(null);(0,nn.m)(p);var j=[{id:"1:1",name:"1:1 \xb7 square"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],y=function(){u((0,b.p$)(h)),t(!1)},w=function(e){window.selectedPostImage=e,window.dispatchEvent(new CustomEvent("website-builder-post-image-changed",{detail:e}))};return(0,m.useEffect)((function(){if(n){var e=window.selectedPostImage||{};x((0,b.p$)(e)),u(e)}else x(null)}),[n]),(0,m.useEffect)((function(){d&&h&&(JSON.stringify(h)===JSON.stringify(d)?w((0,o.Z)((0,s.Z)({},d),{dirty:!1})):w((0,o.Z)((0,s.Z)({},d),{dirty:!0})))}),[d,h]),(0,c.jsxs)(L.u,{show:n,appear:!0,children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"z-50 fixed inset-0",onClick:y})}),(0,c.jsx)("div",{className:(0,b.AK)("builder-panel",i?"right-0":"left-0"),children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:i?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:i?"translate-x-full":"-translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,c.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,c.jsx)("p",{className:"font-bold text-gray-900 py-2.5",children:"Image"}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(i?"left":"right"),children:(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return l((function(e){return!e}))},children:[(0,c.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,c.jsx)(M.Z,{icon:i?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,c.jsx)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:y,children:(0,c.jsx)(M.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]})]}),(0,c.jsx)("div",{ref:p,className:"tab-panels",style:{maxHeight:"calc(100vh - 142px)"},children:(0,c.jsxs)("div",{className:"divide-y",children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Image"}),(0,c.jsx)(Ie.Z,{queryText:null===d||void 0===d?void 0:d.alt,regenerate:!!(null===d||void 0===d?void 0:d.media),autoSuggest:d&&(!(null===d||void 0===d?void 0:d.media)||!(null===d||void 0===d?void 0:d.src)),onChange:function(e){setTimeout((function(){u((0,o.Z)((0,s.Z)({},d),{media:e,src:(null===e||void 0===e?void 0:e.preview)||(null===e||void 0===e?void 0:e.url)||(null===d||void 0===d?void 0:d.src),alt:(null===e||void 0===e?void 0:e.description)||(null===d||void 0===d?void 0:d.alt)}))}),300)}})]}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",allowDeletion:!1,pictures:null===d||void 0===d?void 0:d.media,onChange:function(e){e&&e.length>0&&u((0,o.Z)((0,s.Z)({},d),{media:e[0],src:e[0].preview||e[0].url||(null===d||void 0===d?void 0:d.src),alt:e[0].description||(null===d||void 0===d?void 0:d.alt)}))}}),(0,c.jsx)(Oe.Z,{title:"Position",value:d,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{positionX:"".concat(e.x,"%"),positionY:"".concat(e.y,"%")}))}})]}),(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Style"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm",children:"Aspect ratio"}),(0,c.jsx)(V.Z,{className:"mt-2",placeholder:"Select",values:j,value:(null===d||void 0===d?void 0:d.aspectRatio)&&j.find((function(e){return e.id===(null===d||void 0===d?void 0:d.aspectRatio)})),disabled:!(null===d||void 0===d?void 0:d.media),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{aspectRatio:e.id}))}})]}),(0,c.jsx)(I.nR,{labelClassName:"text-sm",value:null===d||void 0===d?void 0:d.cornerRadius,defaultValue:null===a||void 0===a?void 0:a.cornerRadius,disabled:!(null===d||void 0===d?void 0:d.media),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{cornerRadius:e}))}}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Full width"}),(0,c.jsx)(g.Z,{enabled:null===d||void 0===d?void 0:d.fullWidth,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{fullWidth:e}))}})]})]}),(0,c.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Description"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 text-sm",children:"Caption"}),(0,c.jsx)(f.Z,{helperText:"Supplementary text to add context to the image",value:null===d||void 0===d?void 0:d.caption,disabled:!(null===d||void 0===d?void 0:d.media),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{caption:e}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 text-sm",children:"Alt text"}),(0,c.jsx)(f.Z,{helperText:"Describe the image for people with visual impairment and to improve search engine ranking",value:null===d||void 0===d?void 0:d.alt,disabled:!(null===d||void 0===d?void 0:d.media),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{alt:e}))}})]})]})]})})]})})})})]})}function Ft(e){var n=e.open,t=e.setOpen,i=e.rtl,l=e.setRtl,a=e.website,r=(0,m.useState)(null),d=r[0],u=r[1],v=(0,m.useState)(null),h=v[0],x=v[1],p=(0,m.useState)(!1),j=p[0],y=p[1],w=(0,m.useRef)(null);(0,nn.m)(w);var N=function(){u((0,b.p$)(h)),t(!1)},Z=function(e){var n,t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(live\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==(null===(n=t[9])||void 0===n?void 0:n.length))&&"https://www.youtube.com/embed/"+t[9]},k=function(e){var n=/vimeo.*\/(\d+)/i.exec(e);return!(!n||!n[1])&&"https://player.vimeo.com/video/"+n[1]},C=function(e){window.selectedPostVideo=e,window.dispatchEvent(new CustomEvent("website-builder-post-video-changed",{detail:e}))};return(0,m.useEffect)((function(){if(n){var e=window.selectedPostVideo||{};x((0,b.p$)(e)),u(e)}else x(null)}),[n]),(0,m.useEffect)((function(){d&&h&&(JSON.stringify(h)===JSON.stringify(d)?C((0,o.Z)((0,s.Z)({},d),{dirty:!1})):C((0,o.Z)((0,s.Z)({},d),{dirty:!0})))}),[d,h]),(0,m.useEffect)((function(){(null===d||void 0===d?void 0:d.url)&&y(!Z(d.url)&&!k(d.url))}),[d]),(0,c.jsxs)(L.u,{show:n,appear:!0,children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"z-50 fixed inset-0",onClick:N})}),(0,c.jsx)("div",{className:(0,b.AK)("builder-panel",i?"right-0":"left-0"),children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-100 md:p-2",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:i?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:i?"translate-x-full":"-translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,c.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,c.jsx)("p",{className:"font-bold text-gray-900 py-2.5",children:"Video"}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(i?"left":"right"),children:(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return l((function(e){return!e}))},children:[(0,c.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,c.jsx)(M.Z,{icon:i?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,c.jsx)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:N,children:(0,c.jsx)(M.Z,{icon:"XSolidIcon",className:"h-5 w-5","aria-hidden":"true"})})]})]}),(0,c.jsx)("div",{ref:w,className:"tab-panels",style:{maxHeight:"calc(100vh - 142px)"},children:(0,c.jsxs)("div",{className:"divide-y",children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-4 font-semibold",children:"Youtube or Vimeo link"}),(0,c.jsx)(f.Z,{helperText:"E.g. https://youtu.be/4H13-uKsxoQ",value:null===d||void 0===d?void 0:d.url,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{url:e,src:Z(e)||k(e)||""}))},error:(null===d||void 0===d?void 0:d.src)&&j?"This url isn't a valid Youtube or Vimeo video!":""}),(null===d||void 0===d?void 0:d.src)&&!j&&(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)("iframe",{className:"rounded-md",width:"100%",height:"184",src:Z(d.src)||k(d.src),allow:"autoplay; encrypted-media",allowFullScreen:""})})]}),(0,c.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Style"}),(0,c.jsx)(I.nR,{labelClassName:"text-sm",value:null===d||void 0===d?void 0:d.cornerRadius,defaultValue:null===a||void 0===a?void 0:a.cornerRadius,disabled:!(null===d||void 0===d?void 0:d.src),onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{cornerRadius:e}))}}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"font-medium text-gray-700",children:"Full width"}),(0,c.jsx)(g.Z,{enabled:null===d||void 0===d?void 0:d.fullWidth,onChange:function(e){return u((0,o.Z)((0,s.Z)({},d),{fullWidth:e}))}})]})]})]})})]})})})})]})}var Dt=t(95350);function Lt(e){var n,t=e.item,i=e.tier,l=e.open,a=e.setOpen,r=e.onSave,d=(0,m.useState)(t),u=d[0],v=d[1],h=(0,m.useState)(!1),x=h[0],f=h[1],p=(0,m.useState)(t),g=p[0],j=p[1],y=function(){j((0,b.p$)(u))};return(0,m.useEffect)((function(){if(l){var e=(0,b.p$)(t);v(e),j(e)}else y()}),[l,t]),(0,m.useEffect)((function(){g&&(JSON.stringify(u)===JSON.stringify(g)?f(!1):f(!0))}),[g,u]),(0,c.jsx)(L.u.Root,{show:l,as:m.Fragment,children:(0,c.jsx)(W.V,{as:"div",className:"fixed z-120 inset-0 overflow-y-auto",onClose:function(){return a(!1)},children:(0,c.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)(W.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,c.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,c.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg pb-6 my-8 max-w-md w-full text-left overflow-visible shadow-xl transform transition-all",children:[(0,c.jsxs)("div",{className:"flex items-center mb-6 py-6 px-6 border-b border-gray-200",children:[(0,c.jsx)(W.V.Title,{className:"font-bold text-gray-900",children:"Tier item"}),(0,c.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return a(!1)},children:(0,c.jsx)(M.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-4 px-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsx)("p",{className:"text-label text-gray-700",children:"Content"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:!!(null===g||void 0===g?void 0:g.content),prompt:{label:"mars-generate-tier-subitems",extraProps:{quantity:1,tier:(null===i||void 0===i?void 0:i.title)||"premium",context:(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.join(", "))||""}},includeVertical:!0,onSuggestion:function(e){return j((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))}})]}),(0,c.jsx)("textarea",{rows:4,value:(null===g||void 0===g?void 0:g.content)||"",onChange:function(e){return j((0,o.Z)((0,s.Z)({},g),{content:e.target.value}))},className:"input"})]}),x&&(0,c.jsxs)("div",{className:"flex justify-end gap-4 px-6 pt-4 mt-6 border-t border-gray-200",children:[(0,c.jsx)("button",{className:"secondary",onClick:y,children:"Discard"}),(0,c.jsx)("button",{className:"primary",onClick:function(){"function"===typeof r&&r(g),a(!1)},disabled:!x,children:"Save"})]})]})})]})})})}function Wt(e){var n,t=e.block,l=e.item,a=e.onValid,r=e.onChange,u=(0,m.useState)(null),v=u[0],h=u[1],x=(0,m.useState)(null),p=x[0],j=x[1],y=(0,m.useState)(!1),w=y[0],N=y[1],Z=(0,ie.Z)(),k=Z.confirm,C=Z.ConfirmDialog,S=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(v)).items=(0,Tn.q)(i.items,n,t),h(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){v&&JSON.stringify(v)!==JSON.stringify(l)&&r(v)}),[v]),(0,m.useEffect)((function(){if(l){var e,n=(0,b.p$)(l);if(n)h(n);else h({idx:(null===t||void 0===t||null===(e=t.items)||void 0===e?void 0:e.length)||0})}}),[l]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"divide-y",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-6 pb-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsx)("p",{className:"text-label text-gray-700",children:"Title"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:!!(null===v||void 0===v?void 0:v.content),prompt:{label:"mars-generate-tier-title"},includeVertical:!0,onSuggestion:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{title:(null===e||void 0===e?void 0:e.title)||"New tier"})}))}})]}),(0,c.jsx)(f.Z,{value:null===v||void 0===v?void 0:v.title,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{title:e})}))}})]}),(null===t||void 0===t?void 0:t.showContent)&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,c.jsx)("p",{className:"text-label text-gray-700",children:"Description"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:!!(null===v||void 0===v?void 0:v.content),prompt:{label:"mars-generate-tier-description",extraProps:{quantity:3,tier:(null===v||void 0===v?void 0:v.title)||"premium"}},includeVertical:!0,onSuggestion:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{content:(null===e||void 0===e?void 0:e.description)||""})}))}})]}),(0,c.jsx)("textarea",{rows:4,value:null===v||void 0===v?void 0:v.content,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e.target.value})}))},className:"input"})]}),(0,c.jsx)(f.Z,{label:"Price",value:null===v||void 0===v?void 0:v.price,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{price:e})}))}}),(0,c.jsx)(f.Z,{label:"Per",value:null===v||void 0===v?void 0:v.unit,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{unit:e})}))}})]}),(null===t||void 0===t?void 0:t.showImage)&&(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mb-1",children:"Image"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Select the image you would like to display"})]}),(0,c.jsx)(Ie.Z,{regenerate:!!(null===v||void 0===v?void 0:v.image),onChange:function(e){h((function(n){return(0,o.Z)((0,s.Z)({},n),{image:e,imageAltText:null===e||void 0===e?void 0:e.description})}))}})]}),(0,c.jsx)(Be.Z,{shutterstock:!0,unsplash:!0,upload:!0,library:!0,location:"blocks",pictures:null===v||void 0===v?void 0:v.image,onChange:function(e){e&&e.length>0&&h((0,o.Z)((0,s.Z)({},v),{image:e[0],imageAltText:e[0].description}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===v||void 0===v?void 0:v.imageAltText,onChange:function(e){return h((0,o.Z)((0,s.Z)({},v),{imageAltText:e}))}})]}),(0,c.jsx)(Oe.Z,{value:v,onChange:function(e){return h((0,o.Z)((0,s.Z)({},v),{imagePositionX:"".concat(e.x,"%"),imagePositionY:"".concat(e.y,"%")}))}})]}),(null===t||void 0===t?void 0:t.showButton)&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mt-6",children:"Button"}),(0,c.jsx)(Ke.jR,{className:"py-6",button:null===v||void 0===v?void 0:v.button,switchable:!1,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))},onValid:a})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Highlight"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Make this tier stand out to encourage customers to select it."})]}),(0,c.jsx)(g.Z,{enabled:null===v||void 0===v?void 0:v.highlighted,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{highlighted:e,highlightLabel:e?"Popular":""})}))}})]}),(null===v||void 0===v?void 0:v.highlighted)&&(0,c.jsx)(f.Z,{className:"mt-6",label:"Label",value:null===v||void 0===v?void 0:v.highlightLabel,onChange:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{highlightLabel:e})}))}})]}),(null===t||void 0===t?void 0:t.showSubItems)&&(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,c.jsx)("p",{className:"font-semibold",children:"What's included"}),(0,c.jsx)(Bn,{className:"!text-sm",regenerate:(null===v||void 0===v||null===(n=v.items)||void 0===n?void 0:n.length)>0,prompt:{label:"mars-generate-tier-subitems",extraProps:{quantity:3,tier:(null===v||void 0===v?void 0:v.title)||"premium"}},includeVertical:!0,onSuggestion:function(e){return h((function(n){return(0,o.Z)((0,s.Z)({},n),{items:e})}))}})]}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(Mt,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===v||void 0===v?void 0:v.items,onSortEnd:S,onSelect:function(e,n){j({idx:e,content:n,items:null===v||void 0===v?void 0:v.items}),N(!0)},onRemove:function(e){k("Delete item?","Are you sure you want to delete this item?",(function(){var n=(0,b.p$)(v);n.items.splice(e,1),h(n)}))}})}),(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){j(""),N(!0)},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add item"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]})}),(0,c.jsx)(C,{attention:!0}),(0,c.jsx)(Lt,{item:p,tier:v,open:w,setOpen:N,onSave:function(e){var n=(0,b.p$)(v);n.items||(n.items=[]),void 0!==e.idx?n.items[e.idx]=e.content:n.items.push(e.content),h(n),N(!1)}})]})}var Mt=(0,Ae.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,l){return(0,c.jsx)(zt,{index:l,idx:l,item:e,last:l===n.length-1,onSelect:t,onRemove:i},"pricing-table-subitem-".concat(l))}))})})),zt=(0,Ae.W8)((function(e){var n=e.idx,t=e.item,i=e.last,l=e.onSelect,s=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!i&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(Ht,{})}),(0,c.jsx)("div",{className:"flex-1 flex items-center gap-2",children:(0,c.jsx)("p",{className:"truncate max-w-[180px] text-sm font-semibold text-gray-700",children:t})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return l(n,t)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return s(n,t)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Ht=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function Vt(e){var n,t,l,a,r=e.open,u=e.setOpen,x=e.block,p=e.setBlock,j=e.rtl,y=e.setRtl,w=e.loading,N=(e.onSave,e.changeHistory,e.website),Z=e.onValid,E=(e.onChange,e.generateContent,(0,m.useState)(null)),O=E[0],T=E[1],_=(0,m.useState)(null),A=_[0],R=_[1],F=(0,ie.Z)(),D=F.confirm,L=F.ConfirmDialog,W=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],z=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],H=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(x)).items=(0,Tn.q)(i.items,n,t),p(i),[2]}))}));return function(n){return e.apply(this,arguments)}}(),K=function(){u(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Pricing table",open:r,rtl:j,setRtl:y,edit:A,setEdit:R,loading:w,hiddenTabs:["Colors","Button style","Divider style","Tier"],onClose:K,setSelectedItem:T,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===x||void 0===x?void 0:x.headline,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Display"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Choose what will be displayed for each tier"}),(0,c.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Image"}),(0,c.jsx)(g.Z,{enabled:null===x||void 0===x?void 0:x.showImage,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{showImage:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Description"}),(0,c.jsx)(g.Z,{enabled:null===x||void 0===x?void 0:x.showContent,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{showContent:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Button"}),(0,c.jsx)(g.Z,{enabled:null===x||void 0===x?void 0:x.showButton,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{showButton:e}))}})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsx)("p",{className:"text-gray-700",children:"Included items"}),(0,c.jsx)(g.Z,{enabled:null===x||void 0===x?void 0:x.showSubItems,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{showSubItems:e}))}})]})]})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Tiers"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Add up to 4 tiers"})]}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(Kt,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===x||void 0===x?void 0:x.items,block:x,onSortEnd:H,onSelect:function(e,n){T(e),R("Tier")},onRemove:function(e,n){D("Delete tier?",(0,c.jsxs)("p",{children:["Are you sure you want to delete the tier ",(0,c.jsxs)("span",{className:"font-semibold",children:['"',n.title,'"']}),"?"]}),(function(){var n=(0,b.p$)(x);n.items.length>1?(n.items.splice(e,1),p(n)):Dt.Z.warn("Pricing table must have at least 1 item")}))}})}),(null===x||void 0===x||null===(n=x.items)||void 0===n?void 0:n.length)<4&&(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e=null===x||void 0===x?void 0:x.items;e&&e.length>0&&e.length<4&&function(e){var n=0;x.items.map((function(e){return e.idx>n&&(n=e.idx+1),!0})),e.idx=n;var t=(0,b.p$)(x);t.items||(t.items=[]),t.items.push(e),p(t)}((0,o.Z)((0,s.Z)({},e[0]),{idx:-1}))},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add tier"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:N,block:x,onEdit:function(){return R("Colors")}}),(null===x||void 0===x?void 0:x.showButton)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:N,block:x,setBlock:p,onEdit:function(){return R("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:x,setBlock:p}),(0,c.jsx)(B.Z,{className:"py-6",block:x,setBlock:p}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===x||void 0===x?void 0:x.align)||"left",onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(null===x||void 0===x?void 0:x.showImage)&&(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:z,value:z.find((function(e){return e.id===(null!==(l=null===x||void 0===x?void 0:x.imageFit)&&void 0!==l?l:"cover")})),onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===x||void 0===x?void 0:x.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===x||void 0===x?void 0:x.cornerRadius}))}}),"contain"!==(null===x||void 0===x?void 0:x.imageFit)&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:W,value:W.find((function(e){return e.id===(null!==(a=null===x||void 0===x?void 0:x.aspectRatio)&&void 0!==a?a:"16:9")})),onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{aspectRatio:e.id}))}})})]}),(0,c.jsx)(I.nR,{className:"py-6",value:null===x||void 0===x?void 0:x.cornerRadius,defaultValue:null===N||void 0===N?void 0:N.cornerRadius,onChange:function(e){return p((0,o.Z)((0,s.Z)({},x),{cornerRadius:e}))}}),(0,c.jsx)(k.iy,{className:"py-6",block:x,setBlock:p,website:N}),(0,c.jsx)(P.S,{className:"py-6",block:x,setBlock:p,onEdit:function(){return R("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:x,setBlock:p})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:N,block:x,setBlock:p,onTryPalette:K})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:N,button:x.button,onChange:function(e){p((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:x,setBlock:p,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Wt,{block:x,website:N,item:null===x||void 0===x||null===(t=x.items)||void 0===t?void 0:t[O],onValid:Z,onChange:function(e){var n=(0,b.p$)(x);n.items||(n.items=[]),void 0!==O&&null!==O&&O>=0?n.items[O]=e:(n.items.push(e),T(n.pictures.length-1)),p(n)}})})]}),(0,c.jsx)(L,{attention:!0})]})}var Kt=(0,Ae.JN)((function(e){var n=e.items,t=e.block,i=e.onSelect,l=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,s){return(0,c.jsx)(qt,{index:s,idx:s,item:e,block:t,last:s===n.length-1,onSelect:i,onRemove:l},"pricing-table-item-".concat(s))}))})})),qt=(0,Ae.W8)((function(e){var n,t,i,l,s=e.idx,o=e.item,a=e.block,r=e.last,d=e.onSelect,u=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!r&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-2 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)($t,{})}),(0,c.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(null===a||void 0===a?void 0:a.showImage)&&(o.image?(0,c.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,c.jsx)(H(),{unoptimized:!0,src:(null===(n=o.image)||void 0===n?void 0:n.preview)||(null===(t=o.image)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:null===(i=o.image)||void 0===i?void 0:i.alt,className:"w-full h-full object-center object-cover"})}):(0,c.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"})),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"truncate max-w-[180px] text-sm font-semibold mb-1",children:o.title}),(null===a||void 0===a?void 0:a.showContent)&&(0,c.jsx)("p",{className:"truncate max-w-[180px] text-xs text-gray-500 mb-1",children:null===(l=o.content)||void 0===l?void 0:l.replace(/<[^>]*>/g,"")}),(!!o.price||!!o.unit)&&(0,c.jsxs)("p",{className:"truncate max-w-[180px] text-xs font-semibold text-gray-500",children:[o.price," ",o.unit?o.unit:""]})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return d(s,o)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return u(s,o)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),$t=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})}));function Ut(e){var n,t,i=e.block,l=e.setBlock,a=e.itemIdx,d=function(e){var n,t=u?(0,r.Z)(null===i||void 0===i?void 0:i.items).concat([e]):null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.map((function(n,t){return t===a?e:n}));l((function(e){return(0,o.Z)((0,s.Z)({},e),{items:t})}))},u=a===(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.length),m=u?{content:"",by:"",image:null}:null===i||void 0===i||null===(t=i.items)||void 0===t?void 0:t[a];return m?(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Quote"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===m||void 0===m?void 0:m.content),prompt:{label:"mars-create-testimonial-without-name"},onSuggestion:function(e){return d((0,o.Z)((0,s.Z)({},m),{content:e}))}})]}),(0,c.jsx)("textarea",{rows:4,value:null===m||void 0===m?void 0:m.content,onChange:function(e){return d((0,o.Z)((0,s.Z)({},m),{content:e.target.value}))},className:"block w-full focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-md"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between items-center gap-4 mb-2",children:[(0,c.jsx)("p",{className:"font-semibold",children:"By"}),(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===m||void 0===m?void 0:m.by),prompt:{label:"mars-create-testimonial-user-fake-name"},onSuggestion:function(e){return d((0,o.Z)((0,s.Z)({},m),{by:"- ".concat(e)}))}})]}),(0,c.jsx)(f.Z,{value:null===m||void 0===m?void 0:m.by,onChange:function(e){return d((0,o.Z)((0,s.Z)({},m),{by:e}))}})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mb-2",children:"Image"}),(0,c.jsx)(Be.Z,{shutterstock:!0,library:!0,unsplash:!0,upload:!0,pictures:null===m||void 0===m?void 0:m.image,onChange:function(e){return d((0,o.Z)((0,s.Z)({},m),{image:e[0]}))}})]})]}):null}function Gt(e){var n,t=e.open,i=e.setOpen,l=e.block,a=e.setBlock,r=e.rtl,d=e.setRtl,u=e.loading,x=e.website;Array.isArray(l.items)||(l.items=[{content:l.content,by:l.by}]);var p=(0,m.useState)(null),g=p[0],j=p[1],y=(0,m.useState)(null),w=y[0],N=y[1],Z=(0,ie.Z)(),E=Z.confirm,I=Z.ConfirmDialog,O=function(){i(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Testimonials",open:t,rtl:r,setRtl:d,edit:w,setEdit:N,loading:u,hiddenTabs:["Colors","Divider style","Testimonial"],onClose:O,setSelectedItem:j,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"font-semibold mb-2",children:"Heading"}),(0,c.jsx)(f.Z,{value:null===l||void 0===l?void 0:l.headline,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("p",{className:"font-semibold mb-6",children:"Testimonials"}),(0,c.jsx)("ul",{className:"divide-y",children:null===l||void 0===l||null===(n=l.items)||void 0===n?void 0:n.map((function(e,n){var t,i,s;return(0,c.jsxs)("li",{className:"flex items-center justify-between gap-2 py-3",children:[(0,c.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[e.image?(0,c.jsx)("div",{className:"relative overflow-hidden w-9 h-9 rounded-full",children:(0,c.jsx)(H(),{unoptimized:!0,src:(null===(t=e.image)||void 0===t?void 0:t.preview)||(null===(i=e.image)||void 0===i?void 0:i.url),layout:"fill",objectFit:"cover",alt:null===(s=e.image)||void 0===s?void 0:s.alt,className:"w-full h-full object-center object-cover"})}):(0,c.jsx)("div",{className:"w-9 h-9 rounded-full bg-gray-200"}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("p",{className:"truncate max-w-[230px] text-sm font-medium",children:e.content}),(0,c.jsx)("p",{className:"truncate max-w-[230px] text-xs text-gray-500",children:e.by})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){j(n),N("Testimonial")},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return function(e){E("Delete testimonial?","Are you sure you want to delete this testimonial?",(function(){var n=(0,b.p$)(l);n.items.splice(e,1),a(n)}))}(n)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]},"media-list-".concat(n))}))}),(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;j((null===l||void 0===l||null===(e=l.items)||void 0===e?void 0:e.length)||0),N("Testimonial")},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add testimonial"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:x,block:l,onEdit:function(){return N("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:l,setBlock:a}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:null===l||void 0===l?void 0:l.align,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"TextAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsx)(k.iy,{className:"py-6",block:l,setBlock:a,website:x}),(0,c.jsx)(B.Z,{className:"py-6",block:l,setBlock:a}),(0,c.jsx)(P.S,{className:"py-6",block:l,setBlock:a,onEdit:function(){return N("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:l,setBlock:a})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:x,block:l,setBlock:a,onTryPalette:O})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:l,setBlock:a,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ut,{block:l,itemIdx:g,setBlock:a})})]}),(0,c.jsx)(I,{attention:!0})]})}function Xt(e){var n,t,i,l,a,r,d,u=e.open,x=e.setOpen,f=e.block,p=e.setBlock,g=e.rtl,j=e.setRtl,y=e.loading,w=e.website,N=e.onValid,Z=(0,m.useState)(null),E=Z[0],I=Z[1],O=(0,m.useState)(null),T=O[0],_=O[1],A=(0,m.useState)(!1),R=A[0],F=A[1],D=function(){x(!1)};return(0,c.jsxs)(v.Z,{title:"Text",open:u,rtl:g,setRtl:j,edit:E,setEdit:I,loading:y,hiddenTabs:["Colors","Button style","Button settings","Divider style"],onClose:D,invalid:R,setSelectedItem:_,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("div",{className:"flex justify-end items-center mb-2",children:(0,c.jsx)(Xe,{className:"!text-sm",regenerate:!!(null===f||void 0===f?void 0:f.content),prompt:{label:(null===f||void 0===f?void 0:f.prompt)||"mars-create-text"},includeName:!0,includeVertical:!0,includeLocation:!0,onSuggestion:function(e){return p((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))},maxTokens:2048})}),(0,c.jsx)(pn,{id:"content-text",website:w,value:null===f||void 0===f?void 0:f.content,onChange:function(e){return p((0,o.Z)((0,s.Z)({},f),{content:e}))}})]}),(0,c.jsx)(We,{className:"pt-6",block:f,setBlock:p,onEdit:function(){return I("Button settings")},setSelected:_,text:"Add a button with a link to a page, phone number, email or section"}),(0,c.jsx)(Qe,{block:f,setBlock:p,purpose:!0})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:w,block:f,onEdit:function(){return I("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:f,setBlock:p}),(null===f||void 0===f||null===(n=f.buttons)||void 0===n?void 0:n.enabled)&&(null===f||void 0===f||null===(t=f.buttons)||void 0===t||null===(i=t.items)||void 0===i?void 0:i.length)>0&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:w,block:f,onEdit:function(e){_(e),I("Button style")}}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===f||void 0===f?void 0:f.align)||"left",onChange:function(e){return p((0,o.Z)((0,s.Z)({},f),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsx)(k.iy,{className:"py-6",block:f,setBlock:p,website:w}),(0,c.jsx)(B.Z,{className:"py-6",block:f,setBlock:p}),(0,c.jsx)(P.S,{className:"py-6",block:f,setBlock:p,onEdit:function(){return I("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:f,setBlock:p})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:w,block:f,setBlock:p,onTryPalette:D})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:w,button:null===(l=f.buttons)||void 0===l||null===(a=l.items)||void 0===a?void 0:a[T],onChange:function(e){p((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[T]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.jR,{className:"pb-6",button:null===(r=f.buttons)||void 0===r||null===(d=r.items)||void 0===d?void 0:d[T],onChange:function(e){p((function(n){var t=n.buttons?(0,b.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[T]=e,(0,o.Z)((0,s.Z)({},n),{buttons:t})}))},switchable:!1,onValid:function(e){N(e),F(!e)}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:f,setBlock:p,isEditing:!0})})]})}function Jt(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,d=e.loading,u=(e.onSave,e.changeHistory,e.website),x=e.onValid,p=(0,m.useState)(!1),j=p[0],y=p[1],w=(0,m.useState)(null),N=w[0],Z=w[1],E=function(e){var n,t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(live\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==(null===(n=t[9])||void 0===n?void 0:n.length))&&"https://www.youtube.com/embed/"+t[9]},I=function(e){var n=/vimeo.*\/(\d+)/i.exec(e);return!(!n||!n[1])&&"https://player.vimeo.com/video/"+n[1]},O=function(){t(!1)};return(0,m.useEffect)((function(){if(null===i||void 0===i?void 0:i.url){var e=E(i.url)||I(i.url);y(!e),"function"===typeof x&&x(e)}}),[i]),(0,c.jsxs)(v.Z,{title:"Video",open:n,rtl:a,setRtl:r,edit:N,setEdit:Z,loading:d,hiddenTabs:["Colors","Divider style"],onClose:O,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===i||void 0===i?void 0:i.headline,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Video link"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Add a YouTube or Vimeo link"}),(0,c.jsx)(f.Z,{id:"content",label:"Link address",placeholder:"E.g. https://youtu.be/4H13-uKsxoQ",value:null===i||void 0===i?void 0:i.url,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{url:e}))},error:(null===i||void 0===i?void 0:i.url)&&j?"This url isn't a valid Youtube or Vimeo video!":""}),(null===i||void 0===i?void 0:i.url)&&!j&&(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)("iframe",{className:"rounded-md",width:"100%",height:"184",src:E(i.url)||I(i.url),frameBorder:"0",allow:"autoplay; encrypted-media",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:""})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:u,block:i,onEdit:function(){return Z("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:i,setBlock:l}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Heading alignment"}),(0,c.jsxs)(ln.E,{className:"flex items-center",value:(null===i||void 0===i?void 0:i.align)||"left",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{align:e}))},children:[(0,c.jsx)(ln.E.Option,{value:"left",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-l-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignLeftSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"center",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border-t border-b cursor-pointer transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignHCenterSolidIcon",className:"w-5 h-5"})})}}),(0,c.jsx)(ln.E.Option,{value:"right",children:function(e){var n=e.checked;return(0,c.jsx)("div",{className:(0,b.AK)(n?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-500","p-2.5 border cursor-pointer rounded-r-lg transition-all"),children:(0,c.jsx)(M.Z,{icon:"ObjectAlignRightSolidIcon",className:"w-5 h-5"})})}})]})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold text-h6 text-gray-900",children:"Fullscreen"}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.fullScreen,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{fullScreen:e}))}})]}),(0,c.jsx)(k.iy,{className:"py-6",block:i,setBlock:l,website:u}),(0,c.jsx)(B.Z,{className:"py-6",block:i,setBlock:l,spacing:!(null===i||void 0===i?void 0:i.fullScreen),verticalAlign:!1}),(0,c.jsx)(P.S,{className:"py-6",block:i,setBlock:l,onEdit:function(){return Z("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:i,setBlock:l})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:u,block:i,setBlock:l,onTryPalette:O})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:i,setBlock:l,isEditing:!0})})]})}var Yt=[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"},{id:"right",icon:"ObjectAlignRightSolidIcon"}];function Qt(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,d=e.loading,u=e.website,x=e.onClose,b=(0,m.useState)(null),j=b[0],y=b[1],w=(0,ie.Z)().ConfirmDialog,N=null===i||void 0===i?void 0:i.position,Z=i.button||{},C=function(e){t(!1),x&&"dropdown-open"!==e.type&&x()};return(0,m.useEffect)((function(){return window.top.addEventListener("dropdown-open",C),function(){window.top.removeEventListener("dropdown-open",C)}}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Widget",open:n,rtl:a,setRtl:r,edit:j,setEdit:y,loading:d,hiddenTabs:["Colors","Button style"],onClose:C,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Message"}),(0,c.jsx)(pn,{website:u,value:null===i||void 0===i?void 0:i.content,onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{content:e})}))},toolbar:"bold italic link | removeformat",className:"minimal"})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Button text"}),(0,c.jsx)(f.Z,{value:Z.label,onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{label:e})})}))}})]}),(0,c.jsx)("div",{className:"pt-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Show in editor"}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Show or hide the cookie notice while working in the website editor"})]}),(0,c.jsx)(g.Z,{enabled:null===i||void 0===i?void 0:i.showInEditor,onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{showInEditor:e})}))}})]})})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:u,block:i,onEdit:function(){return y("Colors")}}),(0,c.jsx)(Ke.ZJ,{className:"py-6",website:u,block:i,setBlock:l,onEdit:function(){return y("Button style")}}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3 py-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Position"}),(0,c.jsx)(p.Z,{options:Yt,value:N,onChange:function(e){return l((function(n){return(0,o.Z)((0,s.Z)({},n),{position:e})}))}})]}),(0,c.jsx)(k.iy,{className:"pt-6",block:i,setBlock:l,website:u})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:u,block:i,setBlock:l,onTryPalette:C})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:u,button:i.button,onChange:function(e){l((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})})]}),(0,c.jsx)(w,{attention:!0})]})}var ei=t(24285),ni=t(60887);function ti(e){var n,t=e.open,i=e.setOpen,l=e.rtl,a=e.setRtl,r=e.widgets,d=e.editWidget,u=e.addWidget,v=e.deleteWidget,h=e.sortWidgets,x=(0,ni.Dy)((0,ni.VT)(ni.we),(0,ni.VT)(ni.Lg,{coordinateGetter:_e.is})),f=function(){i(!1)};return(0,m.useEffect)((function(){0===(null===r||void 0===r?void 0:r.length)&&i(!1)}),[r]),(0,m.useEffect)((function(){return window.top.addEventListener("dropdown-open",f),function(){window.top.removeEventListener("dropdown-open",f)}}),[]),(0,c.jsx)(L.u,{show:t,appear:!0,children:(0,c.jsx)("div",{className:(0,b.AK)("builder-panel",l?"right-0":"left-0"),children:(0,c.jsx)("div",{className:"relative h-full md:max-w-100 md:p-2",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:l?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:l?"translate-x-full":"-translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,c.jsxs)("div",{className:"max-w-full sticky top-0 z-10 flex items-center justify-between bg-white border-b py-2 pr-1 md:pr-3 pl-4 md:pl-6 md:rounded-t-lg",children:[(0,c.jsx)("p",{className:"font-bold text-gray-900",children:"Widgets"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[a&&(0,c.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(l?"left":"right"),children:(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return a((function(e){return!e}))},children:[(0,c.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,c.jsx)(M.Z,{icon:l?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,c.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:f,children:"Done"})]})]}),(0,c.jsxs)("div",{className:"w-full px-4 md:px-6 py-6",children:[(0,c.jsx)(ni.LB,{sensors:x,collisionDetection:ni.pE,onDragEnd:function(e){if(r){var n=e.active,t=e.over;if(n.id!==t.id){var i=r.findIndex((function(e){return e.type===n.id})),l=r.findIndex((function(e){return e.type===t.id})),s=(0,_e.Rp)((0,b.p$)(r),i,l);h(s)}}},children:(0,c.jsx)(_e.Fo,{items:(null===r||void 0===r?void 0:r.map((function(e){return(0,o.Z)((0,s.Z)({},e),{id:e.type})})))||[],strategy:_e.qw,children:null===r||void 0===r?void 0:r.map((function(e,t){var i,l,s,o;return(0,c.jsxs)(ii,{id:e.type,last:r.length-1===t,children:[(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("div",{className:"flex-shrink-0 self-center relative w-10 h-10",children:(0,c.jsx)(H(),{unoptimized:!0,className:"rounded",src:null!==(n=null===e||void 0===e||null===(i=e.WebsiteBlock)||void 0===i?void 0:i.previewUrl)&&void 0!==n?n:(0,b.sd)("blocks/".concat(e.type,".svg")),layout:"fill",alt:null===e||void 0===e||null===(l=e.WebsiteBlock)||void 0===l?void 0:l.name})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("p",{className:"text-gray-700 text-sm font-medium",children:null===e||void 0===e||null===(s=e.WebsiteBlock)||void 0===s?void 0:s.name}),(0,c.jsx)("p",{className:"text-gray-500 text-xs capitalize",children:"By ".concat(null===e||void 0===e||null===(o=e.WebsiteBlock)||void 0===o?void 0:o.source.replaceAll("-"," "))})]})]}),(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsx)(M.Z,{onClick:function(){return d(e)},icon:"PencilIcon",from:"heroicons",className:"h-5 w-5 text-indigo-700 cursor-pointer transition-all hover:text-indigo-500","aria-hidden":"true"}),(0,c.jsx)(M.Z,{onClick:function(){return function(e){v(e)}(null===e||void 0===e?void 0:e.type)},icon:"TrashIcon",from:"heroicons",className:"h-5 w-5 text-red-700 cursor-pointer transition-all hover:text-red-500","aria-hidden":"true"})]})]},e.type)}))})}),(0,c.jsx)("div",{className:"w-full flex justify-end pt-2",children:(0,c.jsxs)("button",{className:"link inline-flex items-center gap-2 py-2",onClick:function(){u(),i(!1)},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add widget"}),(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"h-5 w-5","aria-hidden":"true"})]})})]})]})})})})})}var ii=function(e){var n=(0,_e.nB)({id:e.id}),t=n.attributes,i=n.listeners,l=n.setNodeRef,a=n.transform,r=n.transition,d={transform:ei.ux.Transform.toString(a),transition:r};return(0,c.jsx)("div",{ref:l,style:d,children:(0,c.jsxs)("div",{className:(0,b.AK)("flex gap-2 items-center py-3",!e.last&&"border-b border-gray-200"),children:[(0,c.jsx)("button",(0,o.Z)((0,s.Z)({},t,i),{children:(0,c.jsx)(M.Z,{icon:"DragIcon",className:"h-5 w-5","aria-hidden":"true"})})),(0,c.jsx)("div",{className:"flex justify-between items-center flex-1",children:e.children})]})})},li=t(59992),si=[{id:"ampm",name:"12 hour time"},{id:"24",name:"24 hour time"}],oi=[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"},{id:"right",icon:"ObjectAlignRightSolidIcon"}],ai=function(e){var n=e.onClick;return(0,c.jsxs)("button",{className:"link text-sm inline-flex items-center gap-2",onClick:n,children:[(0,c.jsx)("span",{children:"Add time slot"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-4 h-4"})]})};function ri(e){var n,t,i,l,a,d,u,x,j,y,w,N,Z,E,O,T=e.open,_=e.setOpen,A=e.block,R=e.setBlock,F=e.rtl,D=e.setRtl,L=e.loading,W=e.website,z=(0,m.useState)(null),H=z[0],K=z[1],q="ampm"===(null===A||void 0===A?void 0:A.timeDisplay)?li.q3:li.Xu,$=null===A||void 0===A?void 0:A.items.find((function(e){return e.weekday})),U=function(){_(!1)},G=function(e,n){var t,i=(null===A||void 0===A?void 0:A.items)||[],l=i.find((function(n){return n.id===e}));l.active=n,0===(null===l||void 0===l||null===(t=l.hours)||void 0===t?void 0:t.length)&&(l.hours=[{start:8,end:12}]),R((0,o.Z)((0,s.Z)({},A),{items:i}))},X=function(e){var n=(null===A||void 0===A?void 0:A.items)||[];if("weekdays"===e){var t=n.filter((function(e){return e.weekday})).map((function(e){var n;if((null===e||void 0===e?void 0:e.hours)&&0!==(null===e||void 0===e||null===(n=e.hours)||void 0===n?void 0:n.length)){var t,i,l,s=null===e||void 0===e||null===(i=e.hours)||void 0===i?void 0:i[(null===e||void 0===e||null===(t=e.hours)||void 0===t?void 0:t.length)-1],o=(null===s||void 0===s?void 0:s.end)+1>=24?0:(null===s||void 0===s?void 0:s.end)+1,a=o+1>=24?0:o+1;null===e||void 0===e||null===(l=e.hours)||void 0===l||l.push({start:o,end:a})}else e.hours=[{start:8,end:12}];return e})),i=n.filter((function(e){return!e.weekday}));R((0,o.Z)((0,s.Z)({},A),{items:(0,r.Z)(t).concat((0,r.Z)(i))}))}else{var l,a=n.find((function(n){return n.id===e}));if((null===a||void 0===a?void 0:a.hours)&&0!==(null===a||void 0===a||null===(l=a.hours)||void 0===l?void 0:l.length)){var d,c,u,m=null===a||void 0===a||null===(c=a.hours)||void 0===c?void 0:c[(null===a||void 0===a||null===(d=a.hours)||void 0===d?void 0:d.length)-1],v=(null===m||void 0===m?void 0:m.end)+1>=24?0:(null===m||void 0===m?void 0:m.end)+1,h=v+1>=24?0:v+1;null===a||void 0===a||null===(u=a.hours)||void 0===u||u.push({start:v,end:h})}else a.hours=[{start:8,end:12}];R((0,o.Z)((0,s.Z)({},A),{items:n}))}},J=function(e,n,t,i){var l=(null===A||void 0===A?void 0:A.items)||[];if("weekdays"===e){var a=l.filter((function(e){return e.weekday})).map((function(e){return e.hours[n]&&(e.hours[n][t]=i),e})),d=l.filter((function(e){return!e.weekday}));R((0,o.Z)((0,s.Z)({},A),{items:(0,r.Z)(a).concat((0,r.Z)(d))}))}else{var c=l.find((function(n){return n.id===e}));c.hours[n]&&(c.hours[n][t]=i),R((0,o.Z)((0,s.Z)({},A),{items:l}))}},Y=function(e){var n=e.idx,t=e.id,i=e.start,l=e.end,a=e.canDelete;return(0,c.jsxs)("div",{className:"flex flex-row gap-2.5 items-center w-full",children:[(0,c.jsxs)("div",{className:"flex flex-row gap-1 items-center w-full",children:[(0,c.jsx)(V.Z,{className:"w-full",hasFilter:!0,value:q.find((function(e){return e.id===i})),values:q,onChange:function(e){return J(t,n,"start",e.id)}}),(0,c.jsx)("span",{children:"-"}),(0,c.jsx)(V.Z,{className:"w-full",hasFilter:!0,value:q.find((function(e){return e.id===l})),values:q,onChange:function(e){return J(t,n,"end",e.id)}})]}),a&&(0,c.jsx)("button",{className:"light icon transparent",onClick:function(){return function(e,n){var t=(null===A||void 0===A?void 0:A.items)||[];if("weekdays"===e){var i=t.filter((function(e){return e.weekday})).map((function(e){var t;return null===e||void 0===e||null===(t=e.hours)||void 0===t||t.splice(n,1),e})),l=t.filter((function(e){return!e.weekday}));R((0,o.Z)((0,s.Z)({},A),{items:(0,r.Z)(i).concat((0,r.Z)(l))}))}else{var a,d=t.find((function(n){return n.id===e}));null===d||void 0===d||null===(a=d.hours)||void 0===a||a.splice(n,1),R((0,o.Z)((0,s.Z)({},A),{items:t}))}}(t,n)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5"})})]},"time-slot-".concat(t,"-").concat(n))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(v.Z,{title:"Business hours",open:T,rtl:F,setRtl:D,edit:H,setEdit:K,loading:L,hiddenTabs:["Colors","Divider style"],onClose:U,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===A||void 0===A?void 0:A.headline,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Timezone"}),(0,c.jsx)(V.Z,{className:"w-full",hasFilter:!0,value:li.LY.find((function(e){return e.id===(null===A||void 0===A?void 0:A.timezone)})),values:li.LY,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{timezone:e.id}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"First day of the week"}),(0,c.jsx)(V.Z,{className:"w-full",value:li.c1.find((function(e){return e.id===(null!==(N=null===A||void 0===A?void 0:A.firstWeekDay)&&void 0!==N?N:0)})),values:li.c1,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{firstWeekDay:e.id}))}})]}),(0,c.jsxs)("div",{className:"py-6 w-full",children:[(0,c.jsx)("p",{className:"mb-4 font-semibold",children:"Time display"}),(0,c.jsx)(p.Z,{fullWidth:!0,value:null===A||void 0===A?void 0:A.timeDisplay,options:si,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{timeDisplay:e}))}})]}),(0,c.jsxs)("div",{className:"py-6",children:[(0,c.jsx)("p",{className:"mb-6 font-semibold",children:"Availability"}),(0,c.jsxs)("div",{className:"flex flex-row items-center gap-4 justify-between mb-6",children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Weekdays have different hours"}),(0,c.jsx)(g.Z,{enabled:null===A||void 0===A?void 0:A.weekdaysDifferent,onChange:function(e){if(e){var n=(null===A||void 0===A?void 0:A.items)||[],t=n.find((function(e){var n;return e.weekday&&e.active&&(null===e||void 0===e||null===(n=e.hours)||void 0===n?void 0:n.length)>0}));t||(t={hours:[{start:8,end:17}]});var i=n.filter((function(e){return e.weekday})).map((function(e){return e.active=!0,e.hours=(0,b.p$)(t.hours),e})),l=n.filter((function(e){return!e.weekday}));R((0,o.Z)((0,s.Z)({},A),{weekdaysDifferent:!0,items:(0,r.Z)(i).concat((0,r.Z)(l))}))}else R((0,o.Z)((0,s.Z)({},A),{weekdaysDifferent:!1}))}})]}),(0,c.jsx)("div",{className:(0,b.AK)("flex flex-col gap-5"),children:(null===A||void 0===A?void 0:A.weekdaysDifferent)?(0,c.jsx)("div",{className:"flex flex-col gap-8",children:null===A||void 0===A||null===(n=A.items)||void 0===n?void 0:n.map((function(e){var n,t,i,l,s;return(0,c.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsxs)("label",{htmlFor:"weekday-".concat(e.id,"-check"),className:"flex items-center gap-2 cursor-pointer",children:[(0,c.jsx)("input",{id:"weekday-".concat(e.id,"-check"),type:"checkbox",checked:null!==(Z=null===(t=null===A||void 0===A||null===(n=A.items)||void 0===n?void 0:n.find((function(n){return n.id===e.id})))||void 0===t?void 0:t.active)&&void 0!==Z&&Z,onChange:function(n){return G(e.id,n.target.checked)}}),(0,c.jsx)("p",{className:"font-semibold text-sm",children:null===(i=li.c1.find((function(n){return n.id===e.id})))||void 0===i?void 0:i.short})]}),e.active&&(null===(l=e.hours)||void 0===l?void 0:l.length)<=10&&(0,c.jsx)(ai,{onClick:function(){return X(e.id)}})]}),e.active&&(0,c.jsx)("div",{className:"flex flex-col gap-2",children:null===(s=e.hours)||void 0===s?void 0:s.map((function(n,t){return(0,c.jsx)("div",{children:Y({idx:t,id:e.id,start:n.start,end:n.end,canDelete:e.hours.length>1})},"weekday-".concat(e.id,"-hour-").concat(t))}))})]},"weekday-".concat(e.id))}))}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"grid grid-cols-3 gap-4",children:li.c1.filter((function(e){return 0!==e.id&&6!==e.id})).map((function(e){var n,t;return(0,c.jsxs)("label",{htmlFor:"weekday-".concat(e.id,"-check"),className:"flex items-center gap-2 py-3 px-4 rounded-md bg-gray-50 cursor-pointer",children:[(0,c.jsx)("input",{id:"weekday-".concat(e.id,"-check"),type:"checkbox",checked:null!==(E=null===(t=null===A||void 0===A||null===(n=A.items)||void 0===n?void 0:n.find((function(n){return n.id===e.id})))||void 0===t?void 0:t.active)&&void 0!==E&&E,onChange:function(n){return G(e.id,n.target.checked)}}),(0,c.jsx)("p",{className:"font-semibold text-sm",children:e.short})]},"weekday-".concat(e.id))}))}),(0,c.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("p",{className:"font-semibold text-sm",children:"Weekdays"}),(null===$||void 0===$||null===(t=$.hours)||void 0===t?void 0:t.length)<=10&&(0,c.jsx)(ai,{onClick:function(){return X("weekdays")}})]}),(0,c.jsx)("div",{className:"space-y-2",children:null===$||void 0===$||null===(i=$.hours)||void 0===i?void 0:i.map((function(e,n){return Y({idx:n,id:"weekdays",start:e.start,end:e.end,canDelete:$.hours.length>1})}))})]}),null===(a=null===A||void 0===A||null===(l=A.items)||void 0===l?void 0:l.filter((function(e){return!e.weekday})))||void 0===a?void 0:a.map((function(e){var n,t,i;return(0,c.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsxs)("label",{htmlFor:"weekend-".concat(e.id,"-check"),className:"flex items-center gap-2 cursor-pointer",children:[(0,c.jsx)("input",{id:"weekend-".concat(e.id,"-check"),type:"checkbox",checked:null!==(O=e.active)&&void 0!==O&&O,onChange:function(n){return G(e.id,n.target.checked)}}),(0,c.jsx)("p",{className:"font-semibold text-sm",children:null===(n=li.c1.find((function(n){return n.id===e.id})))||void 0===n?void 0:n.short})]}),e.active&&(null===(t=e.hours)||void 0===t?void 0:t.length)<=10&&(0,c.jsx)(ai,{onClick:function(){return X(e.id)}})]}),e.active&&(0,c.jsx)("div",{className:"flex flex-col gap-2",children:null===(i=e.hours)||void 0===i?void 0:i.map((function(n,t){return(0,c.jsx)("div",{children:Y({idx:t,id:e.id,start:n.start,end:n.end,canDelete:e.hours.length>1})},"weekend-".concat(e.id,"-hour-").concat(t))}))})]},"weekend-".concat(e.id))}))]})]})})]}),(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Show closed days"}),(0,c.jsx)(g.Z,{enabled:null===A||void 0===A||null===(d=A.showClosedDays)||void 0===d?void 0:d.enabled,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{showClosedDays:(0,o.Z)((0,s.Z)({},null===A||void 0===A?void 0:A.showClosedDays),{enabled:e})}))}})]}),(null===A||void 0===A||null===(u=A.showClosedDays)||void 0===u?void 0:u.enabled)&&(0,c.jsx)(f.Z,{label:"Label",value:null===A||void 0===A||null===(x=A.showClosedDays)||void 0===x?void 0:x.label,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{showClosedDays:(0,o.Z)((0,s.Z)({},null===A||void 0===A?void 0:A.showClosedDays),{label:e})}))}})]}),(0,c.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold mb-1",children:"Indicate when open"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Show a real-time indicator while you\u2019re open"})]}),(0,c.jsx)(g.Z,{enabled:null===A||void 0===A||null===(j=A.openIndicator)||void 0===j?void 0:j.enabled,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{openIndicator:(0,o.Z)((0,s.Z)({},null===A||void 0===A?void 0:A.openIndicator),{enabled:e})}))}})]}),(null===A||void 0===A||null===(y=A.openIndicator)||void 0===y?void 0:y.enabled)&&(0,c.jsx)(f.Z,{label:"Label",value:null===A||void 0===A||null===(w=A.openIndicator)||void 0===w?void 0:w.label,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{openIndicator:(0,o.Z)((0,s.Z)({},null===A||void 0===A?void 0:A.openIndicator),{label:e})}))}})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:W,block:A,onEdit:function(){return K("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:A,setBlock:R}),(0,c.jsx)(p.Z,{className:"py-6",label:"Heading alignment",labelClassName:"text-body font-semibold",value:(null===A||void 0===A?void 0:A.align)||"left",options:oi,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{align:e}))}}),(0,c.jsx)(I.nR,{className:"py-6",value:null===A||void 0===A?void 0:A.cornerRadius,defaultValue:null===W||void 0===W?void 0:W.cornerRadius,onChange:function(e){return R((0,o.Z)((0,s.Z)({},A),{cornerRadius:e}))}}),(0,c.jsx)(k.iy,{className:"py-6",block:A,setBlock:R,website:W}),(0,c.jsx)(B.Z,{className:"py-6",block:A,setBlock:R}),(0,c.jsx)(P.S,{className:"py-6",block:A,setBlock:R,onEdit:function(){return K("Divider style")}}),(0,c.jsx)(C.x,{className:"pt-6",block:A,setBlock:R})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:W,block:A,setBlock:R,onTryPalette:U})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:A,setBlock:R,isEditing:!0})})]})})}function di(e){var n,t,i,l=e.open,s=e.onPublish,o=e.onClose,a=e.scrolledDistance,r=(0,m.useState)(!1),d=r[0],u=r[1],v=(0,m.useState)(!1),h=v[0],x=v[1],f=(0,K.useSession)().data,p=function(e){var n=e.detail;x(null===n||void 0===n?void 0:n.active)};return(0,m.useEffect)((function(){var e=setInterval((function(){var e=document.getElementsByClassName("Toastify__toast-container");u((null===e||void 0===e?void 0:e.length)>0)}),500);return window.addEventListener("website-builder-active-block-changed",p),function(){clearInterval(e),window.removeEventListener("website-builder-active-block-changed",p)}}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(L.u.Root,{show:l&&a<200&&!h,as:m.Fragment,children:(0,c.jsx)("div",{className:"absolute sm:fixed bottom-16 md:bottom-6 left-1/2 -translate-x-1/2 z-40 p-2 sm:px-0 md:py-0 mx-auto w-full sm:max-w-120",children:(0,c.jsx)(L.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,c.jsxs)("div",{className:(0,b.AK)("group flex flex-row items-center gap-2 p-2 opacity-100 transition-all duration-300 bg-white border-gray-300 rounded-xl shadow-md",d&&"!opacity-0"),children:[(0,c.jsxs)("div",{className:"flex-shrink-0 relative w-10 h-10",children:[(0,c.jsx)("div",{className:"hidden md:flex absolute inset-0 w-10 h-10 opacity-100 transition-opacity group-hover:opacity-0",children:(0,c.jsx)(H(),{src:(0,b.sd)("rocket.svg"),alt:"Upgrade",layout:"fill",objectFit:"cover"})}),(0,c.jsx)("div",{className:"relative z-10 flex justify-center items-center w-10 h-10 md:opacity-0 cursor-pointer transition-opacity md:group-hover:opacity-100",onClick:function(){o()},children:(0,c.jsx)(be.Z,{className:"h-6 w-6","aria-hidden":"true"})})]}),(0,c.jsxs)("div",{className:"flex flex-col w-full sm:px-2 text-sm",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-700",children:"Publish your website"}),(0,c.jsx)("span",{className:"hidden sm:block text-gray-500",children:"Go live with a custom domain name."})]}),!(null===f||void 0===f||null===(n=f.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("publish-website"))&&(0,c.jsx)("span",{className:"ml-auto px-2.5 py-0.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"PRO"}),(0,c.jsx)("button",{className:"primary",onClick:s,children:"Publish"})]})})})})})}var ci=t(59522),ui=t(20534),mi=[{id:"solid",name:"Solid"},{id:"outline",name:"Outline"}],vi=[{id:"round",name:"Round",cornerRadius:8},{id:"square",name:"Square",cornerRadius:0}];function hi(e){var n,t,i,a,r,d,u,v,x,f,p,g,j,y,w,N,Z=e.website,C=e.open,S=e.setOpen,P=e.rtl,E=e.setRtl,B=e.tryPalette,O=e.onChange,T=e.onPreviewMigration,_=e.scrollToLocation,A=void 0===_?null:_,R=e.setScrollToLocation,F=void 0===R?null:R,D=e.initialTab,W=void 0===D?0:D,z=(0,m.useState)(null),K=z[0],q=z[1],$=(0,m.useState)(W),U=$[0],G=$[1],X=(0,m.useState)(0),J=X[0],Y=X[1],Q=(0,m.useState)(null),ee=Q[0],ne=Q[1],te=(0,m.useState)(null),ie=te[0],le=te[1],se=(0,m.useState)(null),oe=se[0],ae=se[1],re=(0,m.useState)(null),de=re[0],ce=re[1],ue=(0,m.useState)(null),me=ue[0],ve=ue[1],he=(0,m.useState)(!1),xe=he[0],fe=he[1];(0,nn.m)(me);var pe=[{id:0,key:"theme",title:"Theme",parent:!1},{id:1,key:"palette",title:"Color palette",parent:!1},{id:2,key:"color-set",title:"Color ".concat(["A","B","C","D"][J||0]),parent:"palette"},{id:3,key:"buttons",title:"Button styles",parent:!1},{id:4,key:"fonts",title:"Fonts",parent:!1},{id:5,key:"google-search",title:[{field:"head",label:"Headings"},{field:"body",label:"Body text"}].find((function(e){return e.field===(ee||"head")})).label,parent:"fonts"},{id:6,key:"other",title:"Other styles",parent:!1}],ge=["PNG","ICO"],be={button:{backgroundColor:"outline"===(null===K||void 0===K||null===(n=K.button)||void 0===n?void 0:n.style)?"transparent":(null===K||void 0===K||null===(t=K.button)||void 0===t?void 0:t.background)||(null===K||void 0===K?void 0:K.secondaryColor),color:"outline"===(null===K||void 0===K||null===(i=K.button)||void 0===i?void 0:i.style)?(null===K||void 0===K||null===(a=K.button)||void 0===a?void 0:a.background)||(null===K||void 0===K?void 0:K.secondaryColor):(0,b.$O)((null===K||void 0===K||null===(r=K.button)||void 0===r?void 0:r.background)||(null===K||void 0===K?void 0:K.secondaryColor)),borderRadius:null===K||void 0===K||null===(d=K.button)||void 0===d?void 0:d.cornerRadius,borderColor:(null===K||void 0===K||null===(u=K.button)||void 0===u?void 0:u.background)||(null===K||void 0===K?void 0:K.secondaryColor)}},je=function(){S(!1)},ye=function(e){return pe.find((function(n){return n.id===e}))},we=function(e){return!!ye(e).parent},Ne=function(e){var n=pe.find((function(n){return n.key===e}));G(n.id),"color-set"!==n.key&&Y(0),"google-search"!==n.key&&ne(null)};return(0,m.useEffect)((function(){C?(q((0,b.p$)(Z)),B&&setTimeout((function(){fe(!0),Ne("palette")}),500)):setTimeout((function(){G(W)}),400)}),[C]),(0,m.useEffect)((function(){K&&O(K)}),[K]),(0,m.useEffect)((function(){if(A&&F){var e={fonts:ie,button_style:oe,favicon:de};A in e&&e[A]&&e[A].scrollIntoView({behavior:"smooth",block:"center"}),F(null)}}),[ie,oe,de]),(0,m.useEffect)((function(){G(W)}),[W]),(0,m.useEffect)((function(){return window.top.addEventListener("dropdown-open",je),function(){window.top.removeEventListener("dropdown-open",je)}}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(L.u,{show:C,appear:!0,children:(0,c.jsx)("div",{className:(0,b.AK)("builder-panel z-110",P?"right-0":"left-0"),children:(0,c.jsx)("div",{className:"relative w-full h-full md:max-w-90 md:p-2 z-100",children:(0,c.jsx)(L.u.Child,{as:m.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:P?"translate-x-full":"-translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:P?"translate-x-full":"-translate-x-full",children:(0,c.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-lg h-full md:h-auto w-screen max-w-full",children:[(0,c.jsxs)("div",{className:(0,b.AK)("max-w-full sticky top-0 flex items-center justify-between bg-white z-10 py-2 pr-1 md:pr-3 md:rounded-t-lg",we(U)?"pl-1 md:pl-3":"pl-4 md:pl-6"),children:[(0,c.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,c.jsx)(L.u,{as:m.Fragment,show:we(U),enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,c.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 light transparent icon",onClick:function(){var e=ye(U);e.parent&&Ne(e.parent),xe&&fe(!1)},children:[(0,c.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,c.jsx)(M.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,c.jsx)("p",{className:(0,b.AK)("font-bold text-gray-900 ml-0 py-2.5 transition-all duration-300",we(U)&&"ml-10"),children:ye(U).title})]}),(0,c.jsx)(L.u,{as:m.Fragment,show:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(P?"left":"right"),children:(0,c.jsxs)("button",{type:"button",className:"flex-shrink-0 light icon transparent",onClick:function(){return E((function(e){return!e}))},children:[(0,c.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,c.jsx)(M.Z,{icon:P?"MoveLeftIcon":"MoveRightIcon",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,c.jsx)("button",{type:"button",className:"flex-shrink-0 primary transparent !py-2",onClick:je,children:"Done"})]})})]}),(0,c.jsxs)(h.O.Group,{as:"div",className:"flex flex-col h-full md:h-auto border-t",selectedIndex:U||1,children:[(0,c.jsx)(h.O.List,{className:"hidden",children:pe.map((function(e,n){return(0,c.jsx)(h.O,{className:"hidden",children:e.name},"".concat(e.name,"-").concat(n))}))}),(0,c.jsxs)(h.O.Panels,{ref:function(e){return ve(e?{current:e}:null)},className:"tab-panels h-full",style:{maxHeight:"calc(100vh - 194px)"},children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(null===K||void 0===K?void 0:K.noPaletteSupport)&&!xe?(0,c.jsx)(ui.qP,{onMigrate:function(){fe(!0),Ne("palette")}}):(0,c.jsx)(ui.YU,{className:"pb-6",value:null===K||void 0===K?void 0:K.colorPalette,onEdit:function(){return Ne("palette")}}),(0,c.jsx)(hn.i_,{ref:le,className:"py-6",fonts:"custom"===(null===K||void 0===K||null===(v=K.fonts)||void 0===v?void 0:v.source)?null===K||void 0===K||null===(x=K.fonts)||void 0===x?void 0:x.custom:null===K||void 0===K?void 0:K.fonts,onEdit:function(){return Ne("fonts")}}),(0,c.jsx)("div",{className:"py-6",ref:ae,children:(null===K||void 0===K?void 0:K.noPaletteSupport)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:"mb-2 font-medium text-gray-900",children:"Button"}),(0,c.jsx)("p",{className:"mb-2 text-sm text-gray-500",children:"Choose a button style"}),(0,c.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md",children:[(0,c.jsx)("button",{style:be.button,className:"primary lg !border-2 pointer-events-none mb-6",children:"Contact us"}),(0,c.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,c.jsx)(V.Z,{label:"Style",placeholder:"Select",values:mi,value:mi.find((function(e){var n;return e.id===(null===K||void 0===K||null===(n=K.button)||void 0===n?void 0:n.style)}))||mi[0],onChange:function(e){return q((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{style:e.id})})}))}}),(0,c.jsx)(V.Z,{label:"Shape",placeholder:"Select",values:vi,value:vi.find((function(e){var n;return e.cornerRadius===(null===K||void 0===K||null===(n=K.button)||void 0===n?void 0:n.cornerRadius)}))||vi[0],onChange:function(e){return q((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{cornerRadius:e.cornerRadius})})}))}}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"mb-1",children:"Background"}),(0,c.jsx)(sn.Z,{color:(null===K||void 0===K||null===(f=K.button)||void 0===f?void 0:f.background)||(null===K||void 0===K?void 0:K.secondaryColor),onChange:function(e,n){return q((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{background:e.hex})})}))}})]})]})]})]}):(0,c.jsx)(Ke.rY,{buttons:null===K||void 0===K?void 0:K.buttons,onEdit:function(){return Ne("buttons")}})})]}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsx)(ui.ne,{settings:null===K||void 0===K?void 0:K.colorPalette,migrate:xe,setMigrate:function(){return(null===K||void 0===K?void 0:K.noPaletteSupport)&&fe(!0)},onEditColorSet:function(e){Ne("color-set"),Y(e)},onChange:function(e){xe?(q((function(n){return(0,o.Z)((0,s.Z)({},n),{colorPalette:e,noPaletteSupport:!1,migratePalette:!0})})),T(!0),fe(!1)):q((function(n){return(0,o.Z)((0,s.Z)({},n),{colorPalette:e})}))}})}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsx)(ui.Ln,{idx:J,website:K,setWebsite:q})}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsx)(Ke.jn,{website:K,setWebsite:q,onTryPalette:function(){return G(1)}})}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:4===U&&(0,c.jsx)(hn.dh,{isWebsite:!0,value:K,onChange:function(e){q((function(n){return(0,o.Z)((0,s.Z)({},n),{fonts:{source:e.source,head:e.head,body:e.body,custom:e.custom}})}))},onEditCustom:function(e){Ne("google-search"),ne(e)}})}),(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:ee&&(0,c.jsx)(ci.X,{scrollRef:me,field:ee,value:null===K||void 0===K||null===(p=K.fonts)||void 0===p?void 0:p.custom,onChange:function(e){return q((function(n){return(0,o.Z)((0,s.Z)({},n),{fonts:(0,o.Z)((0,s.Z)({},n.fonts),{custom:(0,o.Z)((0,s.Z)({},n.fonts.custom),(0,l.Z)({},ee,e))})})}))}})}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(I.li,{className:"pb-6",website:K,setWebsite:q}),(0,c.jsx)(k.VV,{className:"py-6",website:K,setWebsite:q}),(0,c.jsxs)("div",{className:"pt-6",ref:ce,children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Browser icon"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Add an icon to display on browser tabs"}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg my-4",children:[(0,c.jsx)("div",{className:(0,b.AK)("flex-shrink-0 relative flex items-center justify-center h-4 w-4 overflow-hidden rounded-sm",!(null===K||void 0===K||null===(g=K.favicon)||void 0===g?void 0:g._id)&&"bg-gray-300"),children:(null===K||void 0===K||null===(j=K.favicon)||void 0===j?void 0:j._id)&&(0,c.jsx)(H(),{unoptimized:!0,className:"",src:null===K||void 0===K||null===(y=K.favicon)||void 0===y?void 0:y.url,objectFit:"cover",layout:"fill",alt:"favicon"})}),(0,c.jsx)(Be.Z,{upload:!0,library:!0,icons:!0,location:"logos",pictures:null===K||void 0===K?void 0:K.favicon,allowedExtensions:ge,allowedFileSize:"1MB",maxWidth:"480",maxHeight:"480",onChange:function(e){return q((function(n){return(0,o.Z)((0,s.Z)({},n),{favicon:e&&e.length>0?e[0]:void 0})}))},content:(0,c.jsxs)("button",{className:"inline-flex gap-2 items-center link text-sm",children:[(0,c.jsx)("span",{children:(null===K||void 0===K||null===(w=K.favicon)||void 0===w?void 0:w._id)?"Change":"Add icon"}),!(null===K||void 0===K||null===(N=K.favicon)||void 0===N?void 0:N._id)&&(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"w-4 h-4"})]})})]}),(0,c.jsxs)("p",{className:"text-xs text-gray-500",children:[(0,b.RF)(ge)," image up to ","1MB",". At least 48x48px."]})]})]})]})]})]})})})})})})}function xi(e){var n,t,i,l=e.disabled,s=e.onView,o=e.className,a=e.buttonClassName,r=e.dataTour,d=e.status,u=(0,K.useSession)().data;return"public"===d?(0,c.jsx)(qe.Z,{alt:"View website",disabled:l,children:(0,c.jsxs)("button",{"data-tour":r,className:"light icon whitespace-nowrap flex gap-2 !px-3 !py-2.5 text-label",disabled:l,onClick:s,children:[(0,c.jsx)(M.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"hidden xl:block",children:"View"})]})}):(0,c.jsxs)(ue.Z,{inline:!0,className:(0,b.AK)("hidden md:block",o),buttonClassName:(0,b.AK)("button light icon gap-2 !px-3 !ring-0 !ring-transparent",a),openClassName:"!bg-gray-100",button:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(M.Z,{icon:"RocketLaunchIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"hidden xl:block",children:"Publish"}),(0,c.jsx)(M.Z,{icon:"ChevronDownSolidIcon",className:"w-4 h-4","aria-hidden":"true"})]}),disabled:l,dataTour:r,children:[(0,c.jsx)(ce.v.Item,{children:(0,c.jsx)("div",{onClick:function(){return s()},className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-gray-700 cursor-pointer mt-1",children:(0,c.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,c.jsx)(M.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:"Preview"})]})})}),(0,c.jsx)(ce.v.Item,{children:(0,c.jsx)("div",{onClick:function(){return s(!0,!1)},className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-gray-700 cursor-pointer mb-1",children:(0,c.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,c.jsx)(M.Z,{icon:"RocketLaunchIcon",className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:"Publish"}),!(null===u||void 0===u||null===(n=u.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("publish-website"))&&(0,c.jsx)("span",{className:"ml-auto px-2.5 py-0.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"PRO"})]})})})]})}function fi(e){var n=e.disabled,t=e.onChange,i=e.className,l=e.buttonClassName,s=(0,m.useState)("desktop"),o=s[0],a=s[1],r=(0,b.ac)("(min-width: 1024px)"),d=(0,b.ac)("(min-width: 860px)"),u=[{device:"desktop",icon:"ComputerDesktopIcon",label:"Desktop",canView:r},{device:"tablet",icon:"DeviceTabletIcon",label:"Tablet",canView:d},{device:"mobile",icon:"DeviceMobileIcon",label:"Phone",canView:!0}].filter((function(e){return e.canView}));return(0,m.useEffect)((function(){a(r?"desktop":d?"tablet":"mobile")}),[r,d]),(0,c.jsx)(ue.Z,{inline:!0,className:(0,b.AK)("hidden md:block",i),buttonClassName:(0,b.AK)("button light icon gap-2 !px-3 !ring-0 !ring-transparent",l),openClassName:"!bg-gray-100",button:(0,c.jsxs)(c.Fragment,{children:[function(){switch(o){case"desktop":case"desktopSmall":return(0,c.jsx)(M.Z,{icon:"ComputerDesktopIcon",className:"h-5 w-5"});case"tablet":return(0,c.jsx)(M.Z,{icon:"DeviceTabletIcon",className:"h-5 w-5"});case"tabletRotate":return(0,c.jsx)(M.Z,{icon:"DeviceTabletIcon",className:"h-5 w-5 rotate-90"});case"mobile":return(0,c.jsx)(M.Z,{icon:"DevicePhoneMobileIcon",className:"h-5 w-5"});case"mobileRotate":return(0,c.jsx)(M.Z,{icon:"DevicePhoneMobileIcon",className:"h-5 w-5 rotate-90"})}}(),(0,c.jsx)(M.Z,{icon:"ChevronDownSolidIcon",className:"w-4 h-4","aria-hidden":"true"})]}),disabled:n,children:u.map((function(e,n){return(0,c.jsx)(ce.v.Item,{children:(0,c.jsxs)("div",{onClick:function(){return function(e){a(e),t(e),window.dispatchEvent(new CustomEvent("website-builder-simulate-device",{detail:{device:e}}))}(e.device)},className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-100 text-gray-700 cursor-pointer",children:[(0,c.jsxs)("div",{className:"flex gap-3 flex-grow",children:[(0,c.jsx)(M.Z,{icon:e.icon,className:"w-5 h-5 text-gray-700","aria-hidden":"true"}),(0,c.jsx)("span",{className:"text-sm font-medium",children:e.label})]}),o===e.device&&(0,c.jsx)(M.Z,{icon:"CheckIcon",className:"w-5 h-5 text-gray-700","aria-hidden":"true"})]})},"view-port-device-".concat(n))}))})}var pi=t(30481),gi=t(2740);function bi(e){var n=e.disabled,t=(0,m.useState)(null),i=t[0],l=t[1],s=(0,m.useState)(!1),o=s[0],a=s[1],r=(0,j.Z)().get,d=function(){var e;return i&&(null===i||void 0===i?void 0:i.existingScheduleData)&&(null===i||void 0===i||null===(e=i.existingScheduleData)||void 0===e?void 0:e.isEnabled)};return(0,m.useEffect)((function(){(0,wt.Q5)(r).then((function(e){l(e)}))}),[]),i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{className:(0,b.AK)("light icon gap-2",d()?"!bg-blue-100 !border-blue-200 !text-blue-800":""),disabled:n,onClick:function(){return a(!0)},children:[(0,c.jsx)(pi.Z,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"hidden lg:inline",children:d()?"Auto-post on":"Auto-post"})]}),i&&(0,c.jsx)(gi.h,{children:(0,c.jsx)(Zt,{showModal:o,showModalHandler:function(){return a(!o)},scheduleData:i,setScheduleData:l})})]}):null}function ji(e){var n,t=e.website,i=e.loading,l=e.disabled,s=e.generating,o=e.generatingPost,a=e.dirty,r=e.blogMode,d=e.postMode,u=e.selectedPage,m=e.selectedBlock,v=e.selectedPost,h=e.openManage,x=e.handleOpenManage,f=e.openManageWidgets,p=e.handleOpenPostAssistant,g=e.handleViewWebsite,j=e.setOpenAssistant,w=e.openAssistant,N=e.openSupport,Z=e.handleOpenManagePage,k=e.openManagePages,C=e.openManagePost,S=e.setDevice,P=e.onExit,E=e.onDiscard,I=e.onSave;return(0,c.jsxs)("div",{className:(0,b.AK)("sticky left-0 top-0 z-50 grid md:flex grid-cols-4 items-center justify-between gap-3 p-2 md:p-3 md:px-6 bg-white border-b md:border-0 md:shadow md:transition-all duration-300",k&&"md:-mt-17 md:opacity-0 pointer-events-none"),children:[(0,c.jsx)("div",{className:"md:hidden",children:a?(0,c.jsx)(wi,{postMode:d,disabled:i||o,onDiscard:E}):(0,c.jsx)(yi,{blogMode:r,postMode:d,disabled:i,onExit:P})}),(0,c.jsx)("div",{className:"flex-shrink-0 hidden md:flex items-center gap-3",children:a?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(wi,{postMode:d,disabled:i||o,onDiscard:E}),(0,c.jsx)(Ni,{postMode:d,loading:i||o,disabled:!a||l,onSave:I})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(yi,{className:"gap-2 !pr-3 !py-2",blogMode:r,postMode:d,disabled:i,onExit:P}),(null===v||void 0===v?void 0:v._id)&&d&&(0,c.jsx)(Zi,{disabled:i,loading:i,selectedPost:v})]})}),(0,c.jsx)("div",{className:"col-span-2 flex md:hidden items-center justify-center gap-3",children:r?d&&(0,c.jsx)(ki,{selectedPost:v,loading:o}):(0,c.jsxs)("button",{className:(0,b.AK)("flex-1 light gap-2 !py-2 w-full max-w-45",a||i||s?"!bg-transparent !border-transparent !text-gray-700":"!justify-between"),disabled:a||i||s,onClick:function(){return Z(!0,!1)},"data-tour":"pages-mobile",children:[(0,c.jsx)("span",{className:"leading-5 max-w-40 whitespace-nowrap overflow-hidden overflow-ellipsis",children:(null===u||void 0===u?void 0:u.name)||(null===u||void 0===u?void 0:u.label)||"Page"}),!a&&!i&&!s&&(0,c.jsx)(M.Z,{icon:"ChevronDownIcon",className:"flex-shrink-0 w-4 h-4"})]})}),(0,c.jsx)("div",{className:"flex-1 hidden md:flex items-center md:justify-center gap-3",children:r?(0,c.jsx)(c.Fragment,{children:d?(0,c.jsx)(ki,{selectedPost:v,loading:o}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{className:"light icon gap-2",disabled:a||i||s,onClick:function(){return p()},children:[(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{children:"Add post"})]}),(0,c.jsx)(bi,{disabled:a||i||s})]})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex flex-row flex-nowrap justify-center items-center gap-2","data-tour":"pages",children:[(0,c.jsx)(qe.Z,{alt:"Manage pages",className:"",disabled:a||i||s,children:(0,c.jsxs)("button",{className:"light w-45 !justify-between gap-2",disabled:a||i||s,onClick:function(){return Z(!0,!1)},children:[(0,c.jsx)("span",{className:"max-w-30 whitespace-nowrap overflow-hidden overflow-ellipsis",children:(null===u||void 0===u?void 0:u.name)||(null===u||void 0===u?void 0:u.label)||"Page"}),(0,c.jsx)(M.Z,{icon:"ChevronDownIcon",className:"flex-shrink-0 w-4 h-4"})]})}),(0,c.jsx)(qe.Z,{alt:"Create page",disabled:a||i||s,children:(0,c.jsx)("button",{className:"light icon",disabled:a||i||s,onClick:function(){return Z(!1,!0)},children:(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"w-5 h-5","aria-hidden":"true"})})})]})})}),(0,c.jsx)("div",{className:"flex md:hidden justify-end",children:a?(0,c.jsx)(Ni,{postMode:d,loading:i||o,disabled:!a||l,onSave:I}):d?(null===v||void 0===v?void 0:v._id)?(0,c.jsx)(Zi,{disabled:i,loading:i,selectedPost:v}):null:(0,c.jsx)("button",{className:"light icon",onClick:function(){r?p():Z(!1,!0)},children:(0,c.jsx)(M.Z,{icon:"PlusSolidIcon",className:"w-5 h-5","aria-hidden":"true"})})}),(0,c.jsxs)("div",{className:"hidden md:flex items-center justify-end gap-3",children:[r?"assistant"!==(null===v||void 0===v?void 0:v.status)?(0,c.jsx)(qe.Z,{alt:"Settings",disabled:i||s||o,children:(0,c.jsx)("button",{className:(0,b.AK)("light !px-3 !py-2.5",(h&&"blog"===(null===m||void 0===m||null===(n=m.WebsiteBlock)||void 0===n?void 0:n.type)||C)&&"!bg-gray-100"),disabled:i||s||o,onClick:function(){d?window.settingsPost():window.editBlock("blog")},children:(0,c.jsx)(M.Z,{icon:"Cog8ToothIcon",className:"w-5 h-5","aria-hidden":"true"})})}):null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(me,{dataTour:"theme",disabled:i||s,handleOpenManage:function(e,n){return x(e,"style",n)}}),(0,c.jsx)(qe.Z,{alt:"Widgets",disabled:i||s,children:(0,c.jsxs)("button",{className:(0,b.AK)("light icon whitespace-nowrap flex gap-2 !px-3 !py-2.5 text-label",f&&"!bg-gray-100"),disabled:i||s,onClick:function(e){return x(e,"widget")},children:[(0,c.jsx)(M.Z,{icon:"SquaresPlusIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{className:"hidden lg:block",children:"Widgets"})]})})]}),(0,c.jsxs)("div",{className:"flex mr-8 gap-3",children:[(0,c.jsx)(fi,{disabled:i||s||o,onChange:function(e){return S(e)},buttonClassName:"!py-2.5"}),(0,c.jsx)(xi,{disabled:i||s||o,onView:g,dataTour:"preview",status:null===t||void 0===t?void 0:t.status,buttonClassName:"!py-2.5"})]}),(0,c.jsx)(qe.Z,{alt:"Support",disabled:i||s||o,children:(0,c.jsx)("button",{className:"light icon whitespace-nowrap flex gap-2 !px-3 !py-2.5 text-label",disabled:i||s||o,onClick:function(){return N()},children:(0,c.jsx)(M.Z,{icon:"QuestionMarkCircleSolidIcon",className:"w-5 h-5","aria-hidden":"true"})})}),(0,c.jsx)(qe.Z,{alt:"Open AI Assistant",disabled:i||s||o,children:(0,c.jsx)(y.Z,{disabled:i||s||o,loading:s,onClick:function(){return j(!0)},children:(0,c.jsx)("div",{"data-tour":"assistant",children:(0,c.jsx)(de.Z,{variant:w?"active":"default"})})})})]})]})}var yi=function(e){var n=e.className,t=e.disabled,i=e.blogMode,l=e.postMode,s=e.onExit,o=(0,q.Z)().track;return(0,c.jsxs)("button",{className:(0,b.AK)("flex-shrink-0 light icon",n),disabled:t,onClick:function(){l?window.dispatchEvent(new CustomEvent("website-builder-post-exit")):(o("website:builder-exit"),s())},children:[(0,c.jsx)(M.Z,{icon:"ChevronLeftIcon",className:"w-5 h-5"}),(0,c.jsx)("span",{className:"hidden md:inline-block",children:i?l?"Blog":"Website":"Exit"})]})},wi=function(e){var n=e.postMode,t=e.disabled,i=e.onDiscard;return(0,c.jsx)("button",{className:"flex-shrink-0 light",disabled:t,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-discard")):i()},children:"Discard"})},Ni=function(e){var n=e.postMode,t=e.disabled,i=e.loading,l=e.onSave;return(0,c.jsx)(y.Z,{className:"flex-shrink-0 primary",disabled:t,loading:i,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-save")):l()},children:"Save"})},Zi=function(e){var n=e.selectedPost,t=e.disabled,i=e.loading;return(0,c.jsx)(y.Z,{className:(0,b.AK)("flex-shrink-0",(null===n||void 0===n?void 0:n.published)?"light":"primary"),disabled:t,loading:i,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-toggle-published"))},children:(null===n||void 0===n?void 0:n.published)?"Unpublish":"Publish"})},ki=function(e){var n=e.selectedPost,t=e.loading;return(null===n||void 0===n?void 0:n._id)||"assistant"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.fromScratch)?null:(0,c.jsxs)(y.Z,{className:"flex-shrink-0 light icon gap-2",loading:t,force:t,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))},children:[(0,c.jsx)(M.Z,{icon:"BoltIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,c.jsx)("span",{children:"Regenerate"})]})},Ci=t(26688),Si=t(27870),Pi=t(11653);function Ei(e){var n=e.item,t=e.onChange,i=(0,m.useState)(null),l=i[0],a=i[1];return(0,m.useEffect)((function(){l&&t(l)}),[l]),(0,m.useEffect)((function(){if(n){var e=(0,b.p$)(n);a(e)}}),[n]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"flex items-center justify-end mb-2",children:(0,c.jsx)(Ie.Z,{regenerate:!!(null===l||void 0===l?void 0:l.media),onChange:function(e){a((0,o.Z)((0,s.Z)({},l),{media:e,altText:null===e||void 0===e?void 0:e.description}))}})}),(0,c.jsx)(Be.Z,{unsplash:!0,icons:!0,upload:!0,library:!0,location:"blocks",allowDeletion:!1,pictures:null===l||void 0===l?void 0:l.media,onChange:function(e){e&&e.length>0&&a((0,o.Z)((0,s.Z)({},l),{media:e[0],altText:e[0].description}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between gap-4 mb-1",children:(0,c.jsx)("p",{className:"font-semibold",children:"Alt text"})}),(0,c.jsx)(f.Z,{className:"w-full",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:null===l||void 0===l?void 0:l.altText,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{altText:e}))}})]}),(0,c.jsx)(Oe.Z,{value:l,onChange:function(e){return a((0,o.Z)((0,s.Z)({},l),{positionX:"".concat(e.x,"%"),positionY:"".concat(e.y,"%")}))}})]})}var Ii=t(20022);function Bi(e){var n,t=e.open,l=e.setOpen,a=e.block,r=e.setBlock,u=e.rtl,x=e.setRtl,p=e.loading,g=e.website,j=(0,m.useState)(null),y=j[0],w=j[1],N=(0,m.useState)(null),Z=N[0],E=N[1],I=(0,ie.Z)(),O=I.confirm,T=I.ConfirmDialog,_=function(){l(!1)},A=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,d.__generator)(this,(function(l){return n=e.oldIndex,t=e.newIndex,(i=(0,b.p$)(a)).pictures=(0,Tn.q)(i.pictures,n,t),r(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){var e,n;t&&((null===a||void 0===a||null===(e=a.pictures)||void 0===e?void 0:e.length)>0&&!(null===(n=null===a||void 0===a?void 0:a.pictures[0])||void 0===n?void 0:n.media)&&(a.pictures=a.pictures.map((function(e){return{media:e}}))))}),[t]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(v.Z,{title:"Logo showcase",open:t,rtl:u,setRtl:x,edit:y,setEdit:w,loading:p,hiddenTabs:["Colors","Divider style","Image"],onClose:_,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===a||void 0===a?void 0:a.headline,onChange:function(e){return r((0,o.Z)((0,s.Z)({},a),{headline:e}))}})]}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("p",{className:"mb-1 font-semibold",children:"Logos"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Add up to 12 logos"})]}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(Ti,{distance:10,useDragHandle:!0,helperClass:"border-t border-b after:hidden list-none",lockAxis:"y",items:null===a||void 0===a?void 0:a.pictures,onSortEnd:A,onSelect:function(e,n){E((0,o.Z)((0,s.Z)({},n),{idx:e})),w("Image")},onRemove:function(e,n){O("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,b.p$)(a);n.pictures.splice(e,1),r(n)}))}})}),(null===a||void 0===a||null===(n=a.pictures)||void 0===n?void 0:n.length)<12&&(0,c.jsx)("div",{className:"pt-4 text-right",children:(0,c.jsxs)("button",{className:"link sm inline-flex items-center gap-2",onClick:function(){var e;E({idx:null===a||void 0===a||null===(e=a.pictures)||void 0===e?void 0:e.length}),w("Image")},children:[(0,c.jsx)("span",{className:"text-sm",children:"Add logo"}),(0,c.jsx)(M.Z,{icon:"PlusIcon",className:"w-5 h-5"})]})})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:g,block:a,onEdit:function(){return w("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:a,setBlock:r}),(0,c.jsx)(Ii.tA,{className:"py-6",block:a,setBlock:r}),(0,c.jsx)(Ii.Ww,{className:"py-6",block:a,setBlock:r}),(0,c.jsx)(B.Z,{className:"py-6",block:a,setBlock:function(e){return r((0,o.Z)((0,s.Z)({},e),{fullHeight:void 0}))}}),(0,c.jsx)(P.S,{className:"py-6",block:a,setBlock:r,onEdit:function(){return w("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:a,setBlock:r}),(0,c.jsx)(k.iy,{className:"pt-6",block:a,setBlock:r,website:g})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:g,block:a,setBlock:r,onTryPalette:_})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:a,setBlock:r,isEditing:!0})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ei,{item:Z,onChange:function(e){var n=(0,b.p$)(a);n.pictures||(n.pictures=[]),void 0!==e.idx?n.pictures[e.idx]=e:n.pictures.push(e),r(n)}})})]}),(0,c.jsx)(T,{attention:!0})]})}var Oi,Ti=(0,Ae.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,c.jsx)("ul",{className:"bg-white relative z-5",children:null===n||void 0===n?void 0:n.map((function(e,l){return(0,c.jsx)(_i,{index:l,idx:l,item:e,last:l===n.length-1,onSelect:t,onRemove:i},"pricing-table-item-".concat(l))}))})})),_i=(0,Ae.W8)((function(e){var n,t,i,l,s=e.idx,o=e.item,a=e.last,r=e.onSelect,d=e.onRemove;return(0,c.jsx)("li",{className:(0,b.AK)("relative z-100 bg-white",!a&&"after:absolute after:left-0 after:right-0 after:bottom-0 after:border-b after:border-gray-200 after:z-100"),children:(0,c.jsxs)("div",{className:"relative flex items-center gap-4 hover:bg-gray-50 py-3",children:[(0,c.jsx)("div",{className:"whitespace-nowrap text-sm font-medium text-gray-900 cursor-move flex items-center",children:(0,c.jsx)(Ai,{})}),(0,c.jsx)("div",{className:"flex-1 flex items-center gap-2",children:o.media?(0,c.jsx)("div",{className:"relative overflow-hidden h-8 rounded",children:(0,c.jsx)("img",{src:(null===(n=o.media)||void 0===n?void 0:n.preview)||(null===(t=o.media)||void 0===t?void 0:t.url),alt:o.altText||(null===(i=o.media)||void 0===i?void 0:i.alt)||(null===(l=o.media)||void 0===l?void 0:l.author),className:"w-full h-full object-center object-cover"})}):(0,c.jsx)("div",{className:"w-8 h-8 rounded bg-gray-200"})}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{className:"link sm",onClick:function(){return r(s,o)},children:(0,c.jsx)(M.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"link sm",onClick:function(){return d(s,o)},children:(0,c.jsx)(M.Z,{icon:"TrashIcon",from:"heroicons",className:"w-5 h-5 text-red-600"})})]})]})})})),Ai=(0,Ae.JV)((function(){return(0,c.jsx)(M.Z,{icon:"DragIcon",className:"w-5 h-5"})})),Ri=t(31193),Fi=function(e){var n=e.onResume,t=e.onClose;return(0,c.jsxs)("div",{className:"relative flex flex-row flex-nowrap justify-between items-center w-full",children:[(0,c.jsx)("span",{onClick:function(){"function"===typeof t&&t()},className:"flex justify-center items-center w-10 h-10 cursor-pointer mr-2",children:(0,c.jsx)(be.Z,{className:"text-white w-5 h-5"})}),(0,c.jsxs)("button",{onClick:function(){"function"===typeof n&&n()},className:"flex flex-row flex-nowrap items-center justify-start w-full cursor-pointer",children:[(0,c.jsx)("span",{className:"mr-1",children:"Resume Tour"}),(0,c.jsx)(Ri.Z,{className:"text-white w-5 h-5"})]})]})},Di=null,Li=function(e){var n=e.target,t=e.targetMobile,i=e.targetIframe,l=e.clickTarget,s=e.clickTargetMobile,o=e.onResume,a=e.onClose,r=e.wide,d=e.isOnPause,u=e.noPause,v=e.hideHighlight,h=e.onFrame,x=e.children,f=10,p={bottom:0,left:0,width:0,height:0},g=(0,m.useState)(p),b=g[0],j=g[1],y=(0,m.useState)({top:"unset",left:"0",bottom:"0"}),w=y[0],N=y[1],Z=(0,m.useRef)(),k=function(){return window.innerWidth<=859},C=function(){var e=null,o=null;if(o=k()?s||t||n:l||n)if(i){var a=document.querySelector(i);if(a)e=(a.contentDocument||a.contentWindow.document).querySelector(o)}else e=document.querySelector(o);return e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=k()&&t?t:n;if(l){var s=null,o=0;if(i){"function"===typeof h&&h();var a=document.querySelector(i);if(a){var r=a.contentDocument||a.contentWindow.document;s=r.querySelector(l),o=a.getBoundingClientRect().top}}else s=document.querySelector(l);if(s){var d,c,u,m=s.getBoundingClientRect(),v="unset",x="unset",g=!0,b=(null===Z||void 0===Z||null===(d=Z.current)||void 0===d?void 0:d.clientWidth)||0,y=(null===Z||void 0===Z||null===(c=Z.current)||void 0===c?void 0:c.clientHeight)||0;if((v=window.innerHeight-m.top-m.height-y-o-f-6)<0&&(g=!1),g||(v+=y+m.height+f+18),window.innerWidth>m.left+b)x=m.left-6;else x=window.innerWidth-(null===Z||void 0===Z||null===(u=Z.current)||void 0===u?void 0:u.clientWidth)-f;j({left:m.left-6,bottom:window.innerHeight-m.top-m.height-6-o,width:m.width+12,height:m.height+12}),N({bottom:"".concat(v,"px"),left:"".concat(x,"px"),top:"unset"})}else j(p),N({top:"unset",left:"1rem",bottom:"1rem"})}else N({top:"unset",left:"1rem",bottom:"4rem"});e||setTimeout((function(){S(!0)}),700)},P=function(){window._keyTourGuideRunning=window._keyTourGuideRunning||!1,!0!==window._keyTourGuideRunning&&(S(),window._keyTourGuideRunning=!0,clearTimeout(Di),Di=setTimeout((function(){window._keyTourGuideRunning=!1}),500))};return(0,m.useEffect)((function(){return setTimeout((function(){S()}),100),window.addEventListener("resize",P),function(){clearTimeout(Di),window.removeEventListener("resize",P)}}),[n]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{id:"card-tour",className:"".concat(d?"w-47":r?"w-80":"w-70"," ").concat(d?"z-5 p-2":"z-130 p-4"," fixed  block bg-indigo-600 rounded-xl text-ceramic-medium font-normal text-white text-left shadow-md transition-position duration-700 ease-in-out"),ref:Z,style:d?{bottom:"".concat(k()?"5rem":"1rem"),left:"1rem"}:w,children:(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)(Fi,{onResume:function(){o(),setTimeout((function(){S()}),700)},onClose:function(){a(!0)}}),!d&&(0,c.jsxs)("div",{className:"relative block w-full",children:[(0,c.jsx)("button",{tabIndex:0,className:"absolute flex justify-center items-center w-10 h-10 -right-2 -top-2 cursor-pointer",onKeyDown:function(e){if(e.shiftKey&&9===e.keyCode)return e.preventDefault(),!1},onClick:function(){"function"===typeof a&&a(!!u)},children:(0,c.jsx)(be.Z,{className:"text-white w-5 h-5"})}),x]})]})}),!v&&!d&&(0,c.jsx)("div",{className:"shadow-tour rounded-md w-100 h-100 absolute z-[111] transition-all duration-700 ease-in-out cursor-pointer",style:b,onClick:function(){"function"===typeof a&&a(!1);var e=C();e&&setTimeout((function(){e.click()}),100)}})]})},Wi=function(e){var n=e.onClick,t=e.extraClasses,i=e.children,l="bg-transparent hover:bg-white/20 text-white border-1 border-transparent rounded-sm p-2 mr-1 box-border text-ceramic-small text-center cursor-pointer ".concat(t||"");return(0,c.jsx)("button",{tabIndex:0,onClick:n,className:l,children:i})},Mi=function(e){var n=e.tourKey,t=e.steps,i=e.onResume,l=e.onClose,o=(0,q.Z)().track,a=(0,m.useState)(1),r=a[0],d=a[1],u=(0,m.useState)(null),v=u[0],h=u[1],x=(0,m.useState)(!0),f=x[0],p=x[1],g=(0,m.useState)(!1),b=g[0],j=g[1],y=(0,m.useState)(0),w=y[0],N=y[1],Z=(0,m.useRef)(),k=function(){if(r<t.length){var e=r+1,n=t[e-1],i=(0,s.Z)({},v);d(e),h(n),A(i),_(n),O(n,i),o("website:tour-next")}},C=function(){if(r>1){var e=r-1,n=t[e-1],i=(0,s.Z)({},v);d(e),h(n),A(i),_(n),O(n,i),o("website:tour-prev")}},S=function(){p(!1),function(){var e=new Event("tour:closed");window.dispatchEvent(e)}(),o("website:tour-closed"),l()},P=function(){j(!0),A(v),function(){var e=new Event("tour:paused");window.dispatchEvent(e)}(),o("website:tour-dismissed",{step:r})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?S():P()},I=function(e){"static"===T(e)&&e.classList.add("relative"),e.classList.contains("z-tourHighlight")||e.classList.add("z-tourHighlight")},B=function(e){if(e){if(null===e||void 0===e?void 0:e.target){var n=document.querySelector(e.target);n&&n.classList.remove("z-tourHighlight")}if(null===e||void 0===e?void 0:e.targetMobile){var t=document.querySelector(e.targetMobile);t&&t.classList.remove("z-tourHighlight")}}},O=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=null===e||void 0===e?void 0:e.target,i=null===e||void 0===e?void 0:e.targetMobile,l=window.document;if(null===e||void 0===e?void 0:e.iframe){var s=document.querySelector(e.iframe);s&&(l=s.contentDocument||s.contentWindow.document)}var o=null===l||void 0===l?void 0:l.querySelector(t),a=null===l||void 0===l?void 0:l.querySelector(i);o&&I(o),a&&I(a),n&&B(n)},T=function(e){return e?window.getComputedStyle(e).getPropertyValue("position"):""},_=function(e){"function"===typeof(null===e||void 0===e?void 0:e.onStep)&&e.onStep()},A=function(e){e&&"function"===typeof(null===e||void 0===e?void 0:e.outStep)&&e.outStep()};return(0,m.useEffect)((function(){if(t&&t.length>0&&Array.isArray(t)){var e=function(){var e=t.length;return t.map((function(n){(null===n||void 0===n?void 0:n.hidePagination)&&e--})),console.log(t),e}();N(e),d(1),h(t[0]),_(t[0]),O(t[0]),o("website:tour-started")}}),[n]),(0,m.useEffect)((function(){var e;null===Z||void 0===Z||null===(e=Z.current)||void 0===e||e.focus()}),[v]),(0,c.jsx)(c.Fragment,{children:f&&v&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(Li,{target:null===v||void 0===v?void 0:v.target,targetMobile:null===v||void 0===v?void 0:v.targetMobile,targetIframe:null===v||void 0===v?void 0:v.iframe,clickTarget:null===v||void 0===v?void 0:v.clickTarget,clickTargetMobile:null===v||void 0===v?void 0:v.clickTargetMobile,wide:!!(null===v||void 0===v?void 0:v.wide),isOnPause:b,noPause:!!(null===v||void 0===v?void 0:v.noPause),hideHighlight:!!(null===v||void 0===v?void 0:v.hideHighlight),onClose:E,onResume:function(){j(!1),_(v),function(){var e=new Event("tour:resumed");window.dispatchEvent(e)}(),o("website:tour-resumed"),i()},onFrame:null===v||void 0===v?void 0:v.onFrame,children:[(0,c.jsx)("span",{ref:Z,className:"reset-index w-0 h-0 p-0 m-0 outline-none focus:outline-none",tabIndex:-1}),v.content,(0,c.jsxs)("div",{className:"w-full flex flex-row flex-nowrap justify-between items-center mt-2",children:[!(null===v||void 0===v?void 0:v.hidePagination)&&(0,c.jsx)("div",{className:"flex flex-row flex-nowrap justify-center items-center",children:(0,c.jsxs)("span",{className:"text-label text-white font-normal",children:[function(){for(var e=r,n=0;n<r;n++){var i;(null===(i=t[n])||void 0===i?void 0:i.hidePagination)&&e--}return e}()," / ",w]})}),(null===v||void 0===v?void 0:v.buttons)&&(0,c.jsx)("div",{className:"".concat((null===v||void 0===v?void 0:v.hidePagination)?"w-full justify-start":"justify-end"," flex flex-row flex-nowrap items-center"),children:v.buttons.map((function(e,n){return(0,c.jsx)(Wi,{onClick:function(){!function(e){if(null===e||void 0===e?void 0:e.action)switch(e.action){case"prev":C();break;case"next":k();break;case"pause":P();break;case"close":S();break;default:(null===e||void 0===e?void 0:e.action)&&"function"===typeof e.action&&e.action(C,k,P,S)}}(e)},extraClasses:null===e||void 0===e?void 0:e.extraClasses,children:e.content},"".concat(r,"-tour-button-").concat(n))}))})]})]}),!b&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"w-full absolute inset-0 z-110 transparent",onClick:function(){E(!1)}})})]})})},zi=function(e){var n=e.onClick,t=e.onClose,i=(0,q.Z)().track,l=function(){i("website:tour-notnow"),t()};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(L.u,{as:m.Fragment,show:!0,appear:!0,enter:"transition duration-500 ease-linear delay-1500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",leave:"transition duration-500 ease-linear",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-75",children:(0,c.jsx)("div",{className:"".concat(window.innerWidth<=859?"bottom-20":"bottom-4"," z-130 p-4 w-60 fixed left-4 block bg-indigo-600 rounded-xl text-ceramic-medium font-normal text-white text-left shadow-md transition-all"),children:(0,c.jsxs)("div",{className:"relative block w-full",children:[(0,c.jsx)("button",{tabIndex:0,className:"absolute flex justify-center items-center w-10 h-10 -right-2 -top-2 cursor-pointer",onKeyDown:function(e){if(e.shiftKey&&9===e.keyCode)return e.preventDefault(),!1},onClick:l,children:(0,c.jsx)(be.Z,{className:"text-white w-5 h-5"})}),(0,c.jsx)("p",{className:"block pr-4",children:"Welcome to Durable!"}),(0,c.jsx)("p",{className:"block pr-4",children:"How about a quick tour to learn how to customize your website?"}),(0,c.jsx)("div",{className:"w-full flex flex-row flex-nowrap justify-between items-center mt-4",children:(0,c.jsxs)("div",{className:"w-full justify-start flex flex-row flex-nowrap items-center",children:[(0,c.jsx)(Wi,{onClick:n,extraClasses:"border-1 !rounded-3xl border-white/30",children:"Yes, please"}),(0,c.jsx)(Wi,{onClick:l,extraClasses:"border-1 !rounded-3xl border-white/30",children:"Not now"})]})})]})})})})},Hi=t(6328),Vi=t(53120),Ki=t(15564),qi=function(e){var n=e.onClose,t=e.websitePublished,i=e.showOnboarding,l=void 0===i||i,s=(0,K.useSession)().data,o=(0,q.Z)().track,a=(0,j.Z)().post,r=(0,b.ac)("(max-width: 860px)"),d=(0,m.useState)(!1),u=d[0],v=d[1],h=(0,c.jsx)("div",{className:"pr-8",children:"Change colors, fonts, and other styles."}),x=(0,c.jsx)("div",{className:"pr-8",children:"Click on any element to edit it."}),f=(0,c.jsx)("div",{className:"pr-8",children:"Add new sections like Google Reviews, pricing tables, and more."}),p=(0,c.jsx)("div",{className:"pr-8",children:"Quickly change section images and style."}),g=(0,c.jsx)("div",{className:"pr-8",children:"Create and manage your website pages."}),y=(0,c.jsx)("div",{className:"pr-8",children:t?"See how your site will looks.":"Publish or preview your website."}),w=(0,c.jsxs)("div",{className:"flex flex-row flex-nowrap justify-center items-center",children:[(0,c.jsx)(Hi.Z,{className:"text-white w-4"}),(0,c.jsx)("span",{className:"pl-1",children:"Back"})]}),N=(0,c.jsxs)("div",{className:"flex flex-row flex-nowrap justify-center items-center",children:[(0,c.jsx)("span",{className:"pr-1",children:"Next"}),(0,c.jsx)(Vi.Z,{className:"text-white w-4"})]}),Z=function(e,n){var t=new CustomEvent("tour:add-section-step",{detail:{blockId:e,type:n}});window.dispatchEvent(t)},k=function(e,n){var t=new CustomEvent("tour:out-add-section-step",{detail:{blockId:e,type:n}});window.dispatchEvent(t)},C=function(){var e=document.querySelector("#iframe-builder-preview");if(e){var n,t=e.contentDocument||e.contentWindow.document;if(t)null===(n=t.querySelector("#main-preview"))||void 0===n||n.scrollTo({top:0,behavior:"instant"})}},S=function(){o("website:tour-completed"),a("/user/onboarding-tour-completed",{}).then((function(e){(0,Ki.k)(s)})),n()},P=[{target:'[data-tour="theme"]',targetMobile:'[data-tour="theme-mobile"]',clickTarget:'[data-tour="theme"] button',clickMobileTarget:'[data-tour="theme-mobile"] button',content:h,buttons:[{content:N,action:"next"}]},{target:'[data-tour="section"]',content:f,wide:!0,buttons:[{content:w,action:"prev"},{content:N,action:"next"}],onStep:function(){return Z("header","section")},outStep:function(){return k("header","section")},iframe:"#iframe-builder-preview",onFrame:C},{target:'[data-tour="edit-sections"]',clickTarget:'[data-tour="edit-sections"] button',content:p,wide:!0,buttons:[{content:w,action:"prev"},{content:N,action:"next"}],onStep:function(){return Z("page-block-0","actions")},outStep:function(){return k("page-block-0","actions")},iframe:"#iframe-builder-preview",onFrame:C},{target:'[data-tour="pages"]',targetMobile:'[data-tour="pages-mobile"]',clickTarget:'[data-tour="pages"] button',clickMobileTarget:'[data-tour="pages-mobile"] button',content:g,buttons:[{content:w,action:"prev"},{content:N,action:"next"}]},{target:'[data-tour="preview"]',targetMobile:'[data-tour="preview-mobile"]',clickTarget:t?'[data-tour="preview"]':'[data-tour="preview"] button',content:y,buttons:[{content:w,action:"prev"},{content:"Done",action:"close"}]}];return r||P.splice(1,0,{target:'[data-tour="logo"]',clickTarget:'[data-tour="logo"]',content:x,buttons:[{content:w,action:"prev"},{content:N,action:"next"}],onStep:function(){return function(e){var n=new CustomEvent("tour:show-inline-edit-step",{detail:{elem:e,location:"header"}});window.dispatchEvent(n)}("logo")},outStep:function(){return function(e){var n=new CustomEvent("tour:out-inline-edit-step",{detail:{elem:e,location:"header"}});window.dispatchEvent(n)}("logo")},iframe:"#iframe-builder-preview",onFrame:C}),(0,m.useEffect)((function(){v(!1);var e=setTimeout((function(){v(!0)}),500);return function(){return clearTimeout(e)}}),[r]),console.log(l),(0,c.jsxs)(c.Fragment,{children:[!u&&l&&(0,c.jsx)(zi,{onClick:function(){v(!0)},onClose:S}),u&&(0,c.jsx)(Mi,{tourKey:"onboarding-tour-builder",steps:P,onResume:function(){var e;null===window||void 0===window||null===(e=window.top)||void 0===e||e.closeBlock()},onClose:S})]})};function $i(e){var n,t,i,l=e.open,a=e.setOpen,r=e.block,d=e.setBlock,u=e.rtl,x=e.setRtl,b=e.loading,j=e.website,y=(0,m.useState)(null),w=y[0],N=y[1],Z=[{id:"1:1",name:"1:1 \xb7 square"},{id:"2:3",name:"2:3 \xb7 portrait"},{id:"3:2",name:"3:2 \xb7 landscape"},{id:"16:9",name:"16:9 \xb7 widescreen"}],E=[{id:"cover",name:"Cover"},{id:"contain",name:"Contain"}],O=function(){a(!1)};return(0,c.jsxs)(v.Z,{title:"Recent blog posts",open:l,rtl:u,setRtl:x,edit:w,setEdit:N,loading:b,hiddenTabs:["Colors","Button style","Divider style"],onClose:O,children:[(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsxs)("div",{className:"pb-6",children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Heading"}),(0,c.jsx)(f.Z,{id:"headline",value:null===r||void 0===r?void 0:r.headline,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{headline:e}))}})]}),(0,c.jsx)(p.Z,{className:"py-6",label:"Number of posts",labelClassName:"text-body font-semibold",value:(null===r||void 0===r?void 0:r.numPosts)||3,options:[{id:3,name:"3"},{id:6,name:"6"},{id:9,name:"9"}],onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{numPosts:e}))}}),(0,c.jsxs)("div",{className:"pt-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-semibold",children:'Show "view more" button'}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Allow visitors to go to the full blog"})]}),(0,c.jsx)(g.Z,{enabled:null===r||void 0===r?void 0:r.showButton,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{showButton:e,button:(null===r||void 0===r?void 0:r.button)||{label:"View more",style:{name:"style1"},type:"url",link:"/blog"}}))}})]}),(null===r||void 0===r?void 0:r.showButton)&&(0,c.jsx)(f.Z,{id:"button-label",label:"Label",className:"pt-6",value:null===r||void 0===r||null===(n=r.button)||void 0===n?void 0:n.label,onChange:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:(0,o.Z)((0,s.Z)({},n.button),{label:e})})}))}})]})]}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:j,block:r,onEdit:function(){return N("Colors")}}),(null===r||void 0===r?void 0:r.showButton)&&(0,c.jsx)(Ke.ZJ,{className:"py-6",website:j,block:r,setBlock:d,onEdit:function(){return N("Button style")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:r,setBlock:d}),(0,c.jsx)(p.Z,{className:"py-6",label:"Alignment",labelClassName:"text-body font-semibold",value:(null===r||void 0===r?void 0:r.align)||"left",options:[{id:"left",icon:"ObjectAlignLeftSolidIcon"},{id:"center",icon:"ObjectAlignHCenterSolidIcon"},{id:"right",icon:"ObjectAlignRightSolidIcon"}],onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{align:e}))}}),(0,c.jsxs)("div",{className:"py-6 space-y-6",children:[(0,c.jsx)("p",{className:"font-semibold",children:"Image"}),(0,c.jsx)(V.Z,{label:"Image fit",placeholder:"Select",values:E,value:E.find((function(e){return e.id===(null!==(t=null===r||void 0===r?void 0:r.imageFit)&&void 0!==t?t:"cover")})),onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{imageFit:e.id,aspectRatio:"contain"===e.id?"16:9":null===r||void 0===r?void 0:r.aspectRatio,cornerRadius:"contain"===e.id?"no-rounded":null===r||void 0===r?void 0:r.cornerRadius}))}}),"contain"!==(null===r||void 0===r?void 0:r.imageFit)&&(0,c.jsx)(V.Z,{label:"Aspect ratio",placeholder:"Select",values:Z,value:Z.find((function(e){return e.id===(null!==(i=null===r||void 0===r?void 0:r.aspectRatio)&&void 0!==i?i:"16:9")})),onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{aspectRatio:e.id}))}})]}),(0,c.jsx)(I.nR,{className:"py-6",value:null===r||void 0===r?void 0:r.cornerRadius,defaultValue:null===j||void 0===j?void 0:j.cornerRadius,onChange:function(e){return d((0,o.Z)((0,s.Z)({},r),{cornerRadius:e}))}}),(0,c.jsx)(k.iy,{className:"py-6",block:r,setBlock:d,website:j}),(0,c.jsx)(B.Z,{className:"py-6",block:r,setBlock:d}),(0,c.jsx)(P.S,{className:"py-6",block:r,setBlock:d,onEdit:function(){return N("Divider style")}}),(0,c.jsx)(C.x,{className:"pt-6",block:r,setBlock:d})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:j,block:r,setBlock:d,onTryPalette:O})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(Ke.AF,{website:j,button:r.button,onChange:function(e){return d((function(n){return(0,o.Z)((0,s.Z)({},n),{button:e})}))}})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:r,setBlock:d,isEditing:!0})})]})}function Ui(e){var n=e.open,t=e.setOpen,i=e.block,l=e.setBlock,a=e.rtl,r=e.setRtl,d=e.loading,u=(e.onSave,e.changeHistory,e.website),x=(0,m.useState)(null),p=x[0],g=x[1],b=function(){t(!1)};return(0,c.jsxs)(v.Z,{title:"Instagram",open:n,rtl:a,setRtl:r,edit:p,setEdit:g,loading:d,hiddenTabs:["Colors","Divider style"],onClose:b,children:[(0,c.jsx)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"mb-2 font-semibold",children:"Instagram profile"}),(0,c.jsx)(f.Z,{type:"text",placeholder:"durable.ai",onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{profile:e}))},value:i.profile}),(0,c.jsx)("p",{className:"mt-1 text-body-sm text-gray-600",children:"The profile must be public"})]})}),(0,c.jsxs)(h.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,c.jsx)(S._u,{className:"pb-6",website:u,block:i,onEdit:function(){return g("Colors")}}),(0,c.jsx)(Q.Xd,{className:"py-6",block:i,setBlock:l}),(0,c.jsx)(I.nR,{className:"py-6",value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===u||void 0===u?void 0:u.cornerRadius,onChange:function(e){return l((0,o.Z)((0,s.Z)({},i),{cornerRadius:e}))}}),(0,c.jsx)(k.iy,{className:"py-6",block:i,setBlock:l,website:u}),(0,c.jsx)(P.S,{className:"py-6",block:i,setBlock:l,onEdit:function(){return g("Divider style")}}),(0,c.jsx)(C.x,{className:"py-6",block:i,setBlock:l})]}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(S.px,{website:u,block:i,setBlock:l,onTryPalette:b})}),(0,c.jsx)(h.O.Panel,{unmount:!1,children:(0,c.jsx)(P.S,{block:i,setBlock:l,isEditing:!0})})]})}var Gi=!0;function Xi(){var e,n,t,v,h=function(e,n){n||(n=Ze.find((function(e){return e.id===ue.id})));var t=n&&(null===n||void 0===n?void 0:n.blocks)?(0,b.p$)(n.blocks):null;if(t){var l=t.shift(),s=t.pop();e.push((0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,Kt("/website/save-header-and-footer-blocks",{idPage:n.id,header:l,footer:s,wipeCache:!1})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),e.push((0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Kt("/website/save-social",{social:$,wipeCache:!1})];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})));var o=t;e.push((0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,Kt("/website/save-blocks",{idPage:n.id,blocks:o,wipeCache:!1})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})))}return n},x=(0,m.useState)(!1),f=x[0],p=x[1],g=(0,m.useState)(!1),y=g[0],w=g[1],N=(0,m.useState)(!1),Z=N[0],k=N[1],C=(0,m.useState)(!1),P=C[0],E=C[1],I=(0,m.useState)((0,b.tl)("business.config")),B=I[0],O=I[1],_=(0,m.useState)((0,b.tl)("website")),L=_[0],W=_[1],M=(0,m.useState)((0,b.tl)("pages")),z=M[0],H=M[1],V=(0,a.Z)((0,vn.Z)("website-social",{}),2),$=V[0],U=V[1],se=(0,m.useState)(!0),oe=se[0],de=se[1],ce=(0,m.useState)(z?z[0]:null),ue=ce[0],me=ce[1],pe=(0,m.useState)("desktop"),be=pe[0],ye=pe[1],we=(0,m.useState)([]),Ze=we[0],Ce=we[1],Se=(0,m.useState)(null),Pe=Se[0],Ee=Se[1],Ie=(0,m.useState)(!1),Be=Ie[0],Oe=Ie[1],Te=(0,m.useState)(!1),_e=Te[0],Ae=Te[1],Re=(0,m.useState)(!1),Fe=Re[0],De=Re[1],Le=(0,m.useState)(!1),We=Le[0],Me=Le[1],ze=(0,m.useState)(!1),He=ze[0],Ve=ze[1],Ke=(0,m.useState)(!1),qe=Ke[0],$e=Ke[1],Ue=(0,m.useState)(!1),Ge=Ue[0],Xe=Ue[1],Je=(0,m.useState)(!1),Ye=Je[0],Qe=Je[1],nn=(0,m.useState)(!1),ln=nn[0],sn=nn[1],an=(0,m.useState)(!1),dn=an[0],cn=an[1],un=(0,m.useState)(!1),mn=(un[0],un[1]),hn=(0,m.useState)(0),xn=hn[0],fn=hn[1],pn=(0,b.ac)("(min-width: 1024px)"),gn=((0,b.ac)("(min-width: 860px)"),(0,b.ac)("(max-width: 859px)")),bn=(0,m.useState)(""),jn=bn[0],yn=bn[1],wn=(0,m.useState)(!1),Nn=wn[0],Zn=wn[1],Cn=(0,m.useState)(!1),Sn=Cn[0],In=Cn[1],Bn=(0,m.useState)(!1),On=Bn[0],Tn=Bn[1],An=(0,m.useState)(!1),Rn=An[0],Fn=An[1],Dn=(0,m.useState)(null),Ln=Dn[0],Wn=Dn[1],Mn=(0,m.useState)(!1),zn=Mn[0],Vn=Mn[1],qn=(0,m.useState)(!1),$n=qn[0],Un=qn[1],Xn=(0,m.useState)(!1),Yn=Xn[0],nt=Xn[1],tt=(0,m.useState)(!1),it=tt[0],st=tt[1],ot=(0,m.useState)(null),at=ot[0],rt=ot[1],dt=(0,m.useState)(0),ct=dt[0],mt=dt[1],vt=(0,m.useState)(0),ht=vt[0],ft=vt[1],pt=(0,m.useState)(!1),gt=pt[0],bt=pt[1],jt=(0,m.useState)(!1),yt=jt[0],wt=jt[1],Nt=(0,m.useState)(!1),Zt=Nt[0],kt=Nt[1],Ct=(0,m.useState)("Generating..."),St=Ct[0],Pt=Ct[1],Et=(0,m.useState)([]),Bt=Et[0],Ot=Et[1],Tt=(0,K.useSession)().data,_t=(0,Si.Z)(at),Dt=_t.generateBlock,Lt=_t.chooseTemplate,Wt=_t.generateLoadingLabel,Mt=(0,te.useRouter)(),zt=(0,j.Z)(),Ht=zt.get,Kt=zt.post,qt=(zt.remove,(0,ie.Z)()),$t=qt.confirm,Ut=qt.ConfirmDialog,Yt=(0,ie.Z)(),ei=Yt.confirm,ni=Yt.ConfirmDialog,ii=(0,ie.Z)(),li=ii.confirm,si=ii.ConfirmDialog,oi=(0,ie.Z)(),ai=oi.confirm,ci=oi.ConfirmDialog,ui=(0,ie.Z)(),mi=ui.confirm,vi=ui.ConfirmDialog,xi=(0,Ci.Z)(),fi=xi.confirm,pi=xi.ConfirmDialog,gi=(0,ie.Z)(),bi=gi.confirm,yi=gi.ConfirmDialog,wi=(0,m.useRef)(null),Ni=(0,m.useState)(""),Zi=Ni[0],ki=Ni[1],Ei=(0,m.useState)(0),Ii=Ei[0],Ti=Ei[1],_i=(0,m.useState)(!1),Ai=_i[0],Ri=_i[1],Fi=(0,m.useState)(!1),Di=Fi[0],Li=Fi[1],Wi=(0,m.useState)(!1),Mi=Wi[0],zi=Wi[1],Hi=(0,m.useState)(!1),Vi=Hi[0],Ki=Hi[1],Gi=(0,m.useState)(!1),Xi=Gi[0],Ji=Gi[1],Yi=(0,m.useState)(null===(e=Mt.query)||void 0===e?void 0:e.routerAction),Qi=Yi[0],el=Yi[1],nl=(0,m.useState)(!1),tl=nl[0],il=nl[1],ll=(0,m.useState)({website:{},page:{},selectedPageId:null}),sl=ll[0],ol=ll[1],al=(0,a.Z)((0,vn.Z)("month-posts-count",0),2),rl=al[0],dl=al[1],cl=(0,m.useState)(!1),ul=cl[0],ml=cl[1],vl=(0,m.useState)(!1),hl=vl[0],xl=vl[1],fl=(0,le.S)(),pl=fl.openSupport,gl=fl.closeSupport,bl=fl.isOpenSupport;!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldWarn;(0,m.useEffect)((function(){var n=function(n){if(e)return n.preventDefault(),(n||window.event).returnValue="Are you sure you want to leave?"};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e])}({shouldWarn:y&&!jn});var jl=(0,m.useState)([]),yl=jl[0],wl=jl[1],Nl=(0,m.useState)(null),Zl=Nl[0],kl=Nl[1],Cl=(0,m.useState)(!1),Sl=Cl[0],Pl=Cl[1],El=(0,m.useState)(!1),Il=El[0],Bl=El[1],Ol=(0,a.Z)((0,vn.Z)("website:inline-edit",null,!1),2),Tl=(Ol[0],Ol[1]),_l=(0,m.useState)(0),Al=_l[0],Rl=_l[1],Fl=(0,m.useState)(null),Dl=Fl[0],Ll=Fl[1],Wl=(0,m.useState)(null),Ml=Wl[0],zl=Wl[1],Hl=(0,m.useState)(!1),Vl=Hl[0],Kl=Hl[1],ql=!gn&&!pn&&"mobile"===be||pn&&"desktop"!==be,$l="blog"===(null===ue||void 0===ue?void 0:ue.type),Ul=(0,q.Z)().track,Gl=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ht("/business/get-config")];case 1:return(n=t.sent())&&!0===n.status&&n.content&&((0,b.Fs)("business.config",n.content),O(n.content),e&&e(n.content)),e&&e(B),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Xl=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,a,r,c;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return[4,Ht("/website/get",{populate:!0,withOfficeLocation:!0})];case 1:return(e=d.sent())&&!0===e.status&&e.content?(c=e.content,rt((0,o.Z)((0,s.Z)({},c),{business:{name:null===c||void 0===c||null===(n=c.Business)||void 0===n?void 0:n.name,vertical:null===c||void 0===c||null===(t=c.Business)||void 0===t||null===(i=t.type)||void 0===i?void 0:i.name,location:(null===c||void 0===c||null===(l=c.completeLocation)||void 0===l?void 0:l.city)&&(null===c||void 0===c||null===(a=c.completeLocation)||void 0===a?void 0:a.state)?"".concat(c.completeLocation.city,", ").concat(c.completeLocation.state):(null===c||void 0===c||null===(r=c.completeLocation)||void 0===r?void 0:r.country)||"United States"}})),"disabled"!==c.status?[3,3]:[4,Mt.push("/website/settings")]):[3,5];case 2:return d.sent(),[3,4];case 3:c&&!c.generatedAt&&c.generate&&(console.log("Website not generated yet. Generating..."),Tn(!0)),Nn&&!On&&Jl(),d.label=4;case 4:return(0,b.Fs)("website",c),W(c),ol((function(e){return(0,o.Z)((0,s.Z)({},e),{website:c})})),[2,c];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Jl=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return p(!0),[4,Ht("/website/get-pages").catch(console.log)];case 1:return(n=o.sent())&&!0===n.status&&n.content?(t=n.content.map((function(e){return{id:e._id,Parent:e.Parent,name:e.label,slug:e.slug,showOnFooter:e.showOnFooter,showOnHeader:e.showOnHeader,type:e.type,hasPosts:e.hasPosts}})),(0,b.Fs)("pages",t),H(t),i=n.content.map((function(e){return{id:e._id,slug:e.slug,blocks:R(e.blocks),type:e.type}})),Ce(i),(l=n.content.find((function(e){return"blog"===e.type})))&&(0,b.Fs)("website.blog",{id:l._id,hasPosts:l.hasPosts,block:l.blocks.find((function(e){return"blog"===e.WebsiteBlock.type}))}),e?(me(t.find((function(n){return n.id===e}))),rs(i.find((function(n){return n.id===e})))):((s=n.content.find((function(e){return e.default&&null===e.slug})))||(s=n.content.find((function(e){return"parent"!==e.type}))),me(t.find((function(e){return e.id===s._id}))),rs(i.find((function(e){return e.id===s._id})))),p(!1),[2,{pagesMapped:i,pages:t}]):[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Yl=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ht("/website/count-blog-posts-this-month").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&dl(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ql=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,Kt("/website/add-external-block",{block:e,websiteId:L._id})];case 1:return(n=a.sent())&&!0===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.content)&&((null===(t=n.content)||void 0===t?void 0:t.externalId)?(e.editorUrl=null===(i=n.content)||void 0===i?void 0:i.editorUrl,e.embedCode=null===(l=n.content)||void 0===l?void 0:l.embedCode,e.externalId=null===(s=n.content)||void 0===s?void 0:s.externalId,"common-ninja"===(null===(o=n.content)||void 0===o?void 0:o.source)&&(Ki(!0),Ee(e))):b.Z9.error("Error while adding your block! Try again later.")),[2,e]}}))}));return function(n){return e.apply(this,arguments)}}(),es=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return Pt("Publishing your website"),kt(!0),e?[4,Kt("/website/toggle-status",{status:"public"})]:[3,2];case 1:if(!(null===(n=t.sent())||void 0===n?void 0:n.status))return b.Z9.error("Error while publishing your website! Try again later."),kt(!1),[2];t.label=2;case 2:return[4,Xl()];case 3:return t.sent(),setTimeout((function(){kt(!1),Qe(!0)}),2e3),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ns=function(){var e,n,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&y?bi("Save changes?","Save your changes to ".concat(l?"preview":"publish"," your website"),(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return[4,ss()];case 1:return e.sent(),[4,(0,b._v)(500)];case 2:return e.sent(),ns(!1,l),[2]}}))})),(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){return[2]}))}))):"free"===(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.priceId)?(Ae(!0),ml(l),l&&Ul("website:previewed",{})):l?(ts(),Ul("website:previewed",{})):es(!0)},ts=function(){if(L){var e,n,t,i="active"!==(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e?void 0:e.subscriptionStatus)||"private"===(null===L||void 0===L?void 0:L.status)?"?pt=".concat(bs()):"",l=(0,b.lz)(),s=l.includes(":7000")?"http://":"https://",o="".concat(s).concat("active"===(null===L||void 0===L||null===(n=L.cloudflare)||void 0===n||null===(t=n.ssl)||void 0===t?void 0:t.status)&&(null===L||void 0===L?void 0:L.domain)?L.domain:L.subdomain+l),a=null===Ze||void 0===Ze?void 0:Ze.find((function(e){return e.id===ue.id})),r=(null===a||void 0===a?void 0:a.slug)?"/".concat(a.slug):"",d=(null===Ln||void 0===Ln?void 0:Ln.published)&&(null===Ln||void 0===Ln?void 0:Ln.slug)?"/".concat(Ln.slug):"";window.open("".concat(o).concat(r).concat(d).concat(i),"_blank")}},is=(function(){var e=(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return[4,Xl().then((function(e){"public"===(null===e||void 0===e?void 0:e.status)&&((null===e||void 0===e?void 0:e.externalDomain)||(null===e||void 0===e?void 0:e.customDomain))&&$t("Website published!",(0,c.jsxs)(c.Fragment,{children:[(null===e||void 0===e?void 0:e.externalDomain)&&(0,c.jsxs)("div",{children:["Your custom domain name ",(0,c.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.externalDomain})," will be ready soon. This process usually takes around 15 minutes but can take up to a few hours."]}),(null===e||void 0===e?void 0:e.customDomain)&&(0,c.jsxs)("div",{children:["Your linked domain ",(0,c.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.customDomain})," will be ready soon. You'll need to change your DNS records with your registrar to complete this process. ",(0,c.jsx)(ke(),{href:"https://help.durable.co/en/articles/8482657-connect-an-existing-domain-with-entri",children:(0,c.jsx)("a",{className:"link",target:"_blank",children:"Learn more"})})]})]}))}))];case 1:return e.sent(),[2]}}))}))}(),function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return h(e=[]),p(!0),[4,ls(e)];case 1:return n.sent()&&(b.Z9.success("Website is live!"),p(!1),w(!1),Oe(!1)),[2]}}))}));return function(){return e.apply(this,arguments)}}()),ls=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a,r;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:n=!0,t=!1,i=void 0,d.label=1;case 1:d.trys.push([1,9,10,11]),l=e[Symbol.iterator](),d.label=2;case 2:if(n=(s=l.next()).done)return[3,8];o=s.value,d.label=3;case 3:return d.trys.push([3,6,,7]),[4,o()];case 4:return d.sent(),[4,(0,b._v)(250)];case 5:return d.sent(),[3,7];case 6:return a=d.sent(),b.Z9.error("Error while saving your website! Try again later.".concat(a)),p(!1),[2,!1];case 7:return n=!0,[3,2];case 8:return[3,11];case 9:return r=d.sent(),t=!0,i=r,[3,11];case 10:try{n||null==l.return||l.return()}finally{if(t)throw i}return[7];case 11:return[2,!0]}}))}));return function(n){return e.apply(this,arguments)}}(),ss=function(){var e=(0,i.Z)((function(e){var n,t,l,s;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return e=h(l=[],e),s={favicon:L.favicon,fonts:L.fonts,button:L.button,idTemplate:null===e||void 0===e||null===(n=e.template)||void 0===n?void 0:n.id,idWebsite:null===e||void 0===e||null===(t=e.template)||void 0===t?void 0:t.idWebsite,widgets:L.widgets,animation:L.animation,cornerRadius:L.cornerRadius},L.noPaletteSupport||(s.buttons=L.buttons,s.palette=L.colorPalette),l.push((0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Kt("/website/save",s)];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),p(!0),[4,ls(l)];case 1:return o.sent()&&("public"===L.status?b.Z9.success("Website is live!"):b.Z9.success("Website saved!"),Ae(!1),De(!1),p(!1),Me(!1),zi(!1),Oe(!1),ol({website:(0,b.p$)(L),page:(0,b.p$)(e),selectedPageId:null===e||void 0===e?void 0:e.id})),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),os=function(e){$l?Cs(Zl):y?ai("Discard changes and exit?","Are you sure you want to exit the editor without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){return(0,d.__generator)(this,(function(n){return Mt.push(e||"/website/dashboard"),[2]}))}))):Mt.push(e||"/website/dashboard")},as=function(e){E(!e)},rs=function(e){window.websitePage=(0,b.p$)(e),window.dispatchEvent(new CustomEvent("website-builder-page-changed")),setTimeout((function(e){window.websitePage=(0,b.p$)(e),window.dispatchEvent(new CustomEvent("website-builder-page-changed"))}),500,e)},ds=function(e){for(var n=0;n<e.blocks.length;n++)e.blocks[n].idx=n;var t=(0,b.p$)(Ze),i=t.findIndex((function(n){return n.id===e.id})),l=!0,s=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(l=(a=r.next()).done);l=!0){var d=a.value;d.blocks[0]=e.blocks[0],d.blocks[d.blocks.length-1]=e.blocks[e.blocks.length-1]}}catch(c){s=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(s)throw o}}-1!==i&&(t[i]=(0,b.p$)(e),Ce(t)),rs(e)},cs=function(e){window.social=e.items,window.socialSettings=e.settings,W((function(n){return(0,o.Z)((0,s.Z)({},n),{social:e.items,socialSettings:e.settings})})),window.dispatchEvent(new CustomEvent("website-builder-social-changed"))},us=function(e){var n={favicon:e.favicon,fonts:e.fonts,button:e.button,buttons:e.buttons,colorPalette:e.colorPalette,animation:e.animation,cornerRadius:e.cornerRadius};window.styles=n,e.migratePalette&&(n.noPaletteSupport=!1,n.migratePalette=!0),W((function(e){return(0,s.Z)({},e,n)})),window.dispatchEvent(new CustomEvent("website-builder-styles-changed"))},ms=function(){var e=(0,i.Z)((function(e){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Jl(e)];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),vs=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return n=e.page,e.pageTemplate,[4,Jl(null===n||void 0===n?void 0:n._id)];case 1:return t.sent(),window.dispatchEvent(new CustomEvent("website-builder-changed")),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),hs=function(){var e=(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ht("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&Ot(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),xs=function(){var e=(0,i.Z)((function(e){var n,t;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return Ri(!1),void 0===(t=(0,b.p$)(window.websitePage)).blocks&&(t.blocks=[]),e={type:e.type,idx:Ii,WebsiteBlock:e,generating:"block"},t.blocks.splice(Ii,0,e),t.addBlockPosition=Ii,"durable"!==(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source)?[3,2]:(ds(t),[4,Dt(e,void 0,void 0,Ml)]);case 1:return e=i.sent(),[3,4];case 2:return[4,Ql(e)];case 3:i.sent(),i.label=4;case 4:return delete e.generating,t.blocks[e.idx]=e,t.clearGenerating=!0,ds(t),window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),(0,u.n2)(e)&&(Ee(e),Oe(!0)),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),fs=function(e){window.updatedWidgets=e,window.dispatchEvent(new CustomEvent("handle-widgets-change"))},ps=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return p(!0),Li(!1),"durable"!==(null===(e={type:e.type,idx:Ii,WebsiteBlock:e,generating:"block"})||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source)?[3,2]:[4,Dt(e,void 0,void 0,Ml)];case 1:return t.sent(),xl(!0),Ee(e),Ji(!0),[3,4];case 2:return[4,Ql(e)];case 3:t.sent(),W((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?(0,r.Z)(n.widgets).concat([e]):[e];return fs(t),(0,o.Z)((0,s.Z)({},n),{widgets:t})})),t.label=4;case 4:return p(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),gs=function(){var e=(0,i.Z)((function(e,n){var t,i,l;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return i=(0,b.p$)(window.websitePage),"durable"!==(null===e||void 0===e||null===(t=e.WebsiteBlock)||void 0===t?void 0:t.source)?[3,2]:[4,Dt(e,n,void 0,Ml)];case 1:return e=s.sent(),[3,3];case 2:e=n,s.label=3;case 3:return l=i.blocks[e.idx],i.blocks[e.idx]=e,i.blocks[e.idx+1]=l,i.clearGenerating=!0,ds(i),window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),[2,i]}}))}));return function(n,t){return e.apply(this,arguments)}}(),bs=function(){var e=Y.ou.now().toSeconds(),n="".concat(null===L||void 0===L?void 0:L._id,":").concat(e,":preview");return(0,X.btoa)(n)},js=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,o,a,r,c,u;return(0,d.__generator)(this,(function(m){switch(m.label){case 0:console.log("Generating page..."),n=(0,b.p$)(window.websitePage),ds(n),t=1,ft(e.blocks.length),i=!0,l=!1,s=void 0,m.label=1;case 1:m.trys.push([1,6,7,8]),o=function(){var e,i;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return e=r.value,mt(t),i={type:e.type,WebsiteBlock:Bt.find((function(n){var t;return n.type===(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.type)})),idx:t},[4,Wt(i)];case 1:return Pt.apply(void 0,[l.sent()]),[4,gs(i,e)];case 2:return n=l.sent(),t++,[2]}}))},a=e.blocks[Symbol.iterator](),m.label=2;case 2:return(i=(r=a.next()).done)?[3,5]:[5,(0,d.__values)(o())];case 3:m.sent(),m.label=4;case 4:return i=!0,[3,2];case 5:return[3,8];case 6:return c=m.sent(),l=!0,s=c,[3,8];case 7:try{i||null==a.return||a.return()}finally{if(l)throw s}return[7];case 8:return bt(!0),ft(0),mt(0),[4,ss(n)];case 9:return m.sent(),[4,Jl(n.id)];case 10:return u=m.sent().pagesMapped,As(n.id,u),[4,Mt.replace("/website/builder",null,{shallow:!1})];case 11:return m.sent(),Pt(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ys=function(){var e=(0,i.Z)((function(){var e,n,t,i,l,s,o,a,r,c,u,m,v;return(0,d.__generator)(this,(function(h){switch(h.label){case 0:return console.log("Regenerating page..."),wt(!0),kt(!0),e=(0,b.p$)(window.websitePage),n=null,e.slug?((n={}).blocks=e.blocks.filter((function(e){return null===e||void 0===e?void 0:e.type})),[3,3]):[3,1];case 1:return[4,Lt()];case 2:n=h.sent(),h.label=3;case 3:return t=e.blocks[0],i=e.blocks[e.blocks.length-1],e.slug?[3,6]:[4,Dt(t,n.header,void 0,Ml)];case 4:return t=h.sent(),[4,Dt(i,n.footer,void 0,Ml)];case 5:i=h.sent(),(t.socialSettings||i.socialSettings)&&cs({items:null===L||void 0===L?void 0:L.social,settings:t.socialSettings||i.socialSettings}),h.label=6;case 6:e.blocks=[t,i],ds(e),l=1,ft(n.blocks.length),s=!0,o=!1,a=void 0,h.label=7;case 7:h.trys.push([7,12,13,14]),r=function(){var n,t;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return n=u.value,mt(l-1),t={type:n.type,WebsiteBlock:Bt.find((function(e){return e.type===n.WebsiteBlock.type})),idx:l},Pt(Wt(t)),[4,gs(t,n)];case 1:return e=i.sent(),l++,[2]}}))},c=n.blocks[Symbol.iterator](),h.label=8;case 8:return(s=(u=c.next()).done)?[3,11]:[5,(0,d.__values)(r())];case 9:h.sent(),h.label=10;case 10:return s=!0,[3,8];case 11:return[3,14];case 12:return m=h.sent(),o=!0,a=m,[3,14];case 13:try{s||null==c.return||c.return()}finally{if(o)throw a}return[7];case 14:return bt(!0),ft(0),mt(0),at&&!at.generatedAt&&at.generate?[4,ss(e)]:[3,17];case 15:return h.sent(),[4,Jl(e.id)];case 16:v=h.sent().pagesMapped,As(e.id,v),Kl(!0),h.label=17;case 17:return wt(!1),Zn(!1),setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block"))}),500),Ul("website:page-regenerated",{slug:e.slug,id:e._id}),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ws=function(e){var n,t,i,l,s,o,a,r;83!==(null===e||void 0===e?void 0:e.keyCode)||"INPUT"===(null===e||void 0===e||null===(n=e.target)||void 0===n||null===(t=n.tagName)||void 0===t?void 0:t.toUpperCase())||"INPUT"===(null===e||void 0===e||null===(i=e.target)||void 0===i||null===(l=i.nodeName)||void 0===l?void 0:l.toUpperCase())||"TEXTAREA"===(null===e||void 0===e||null===(s=e.target)||void 0===s||null===(o=s.tagName)||void 0===o?void 0:o.toUpperCase())||"TEXTAREA"===(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.nodeName)||void 0===r?void 0:r.toUpperCase())||jn||(Li(!1),Ji(!1),Ae(!1),De(!1),Me(!1),zi(!1),Oe(!1),Ve(!1),Xe(!1),Ri(!1),$e(!1),xl(!1),window.closeAllPanels=void 0,Fn(!0),Ul("ai-assistant:opened",{from:"website-builder-keyboard-shortcut"}))},Ns=function(e){var n,t,i,l,s,o,a=(null===Tt||void 0===Tt||null===(n=Tt.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.limits)||void 0===i?void 0:i.blogPosts)>=0?null===Tt||void 0===Tt||null===(l=Tt.user)||void 0===l||null===(s=l.plan)||void 0===s||null===(o=s.limits)||void 0===o?void 0:o.blogPosts:-1;-1!==a&&rl>=a?yn("manage_posts"):Ss(e)},Zs=function(e,n){Ve(e),n&&(!function(){var e,n,t,i,l,s,o,a=(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e||null===(n=e.plan)||void 0===n||null===(t=n.limits)||void 0===t?void 0:t.pages)>=0?null===Tt||void 0===Tt||null===(i=Tt.user)||void 0===i||null===(l=i.plan)||void 0===l||null===(s=l.limits)||void 0===s?void 0:s.pages:-1,r=(null===(o=null===z||void 0===z?void 0:z.filter((function(e){return"blog"!==e.type&&"parent"!==e.type})))||void 0===o?void 0:o.length)||0;return-1===a||r<a}()?yn("manage_pages"):Xe(n))},ks=function(){var e=(0,i.Z)((function(e){var n,t;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return n=e.page,t=e.pageTemplate,n&&t?(Xe(!1),[4,ms(null===n||void 0===n?void 0:n._id)]):[3,3];case 1:return i.sent(),[4,js(t)];case 2:i.sent(),me(n),i.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Cs=function(){var e=(0,i.Z)((function(e,n){var t,i;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return kl(null===ue||void 0===ue?void 0:ue.id),e?[3,3]:(t=null===Ze||void 0===Ze?void 0:Ze.find((function(e){return null===e.slug})),me(t),ds(t),(null===t||void 0===t?void 0:t.id)?[4,Jl(null===t||void 0===t?void 0:t.id)]:[3,2]);case 1:l.sent(),l.label=2;case 2:return[3,4];case 3:i=null===z||void 0===z?void 0:z.find((function(n){return n.id===e})),me(i),ds(null===Ze||void 0===Ze?void 0:Ze.find((function(n){return n.id===e}))),n||Ve(!1),"blog"!==(null===i||void 0===i?void 0:i.type)&&(Wn(null),Un(!1)),l.label=4;case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),Ss=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s=arguments;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:null,$l?[3,6]:(t=null===(n=n||Ze)||void 0===n?void 0:n.find((function(e){return"blog"===e.type})))?(me(t),ds(null===n||void 0===n?void 0:n.find((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}))),[3,6]):[3,1];case 1:return p(!0),[4,Kt("/website/create-page",{slug:"blog",label:"Blog",showOnHeader:!0,type:"blog",seo:{title:"Blog"}}).catch(console.log)];case 2:return(i=o.sent())&&!0===i.status&&i.content?(l=i.content._id,[4,Jl(l)]):[3,4];case 3:return o.sent(),window.dispatchEvent(new CustomEvent("website-builder-page-created")),[3,5];case 4:b.Z9.error("Error creating the blog page, please try again. ".concat(i.message)),o.label=5;case 5:p(!1),o.label=6;case 6:return setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-post-create",{detail:{subject:e}}))}),500),Ul("website:blog-started"),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Ps=function(){var e=(0,i.Z)((function(e){var n;return(0,d.__generator)(this,(function(t){if("common-ninja"===(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source))Ee(e),Ki(!0);return[2]}))}));return function(n){return e.apply(this,arguments)}}(),Es=function(){nt(!0)},Is=function(){st(!0)},Bs=function(){il(!0),Me(!0)},Os=function(){var e=setInterval((function(){(null===window||void 0===window?void 0:window.websitePage)&&(clearInterval(e),ki("social"),window.editBlock("header"))}),300)},Ts=function(){P||(Be&&Oe(!1),We&&Me(!1),Mi&&zi(!1),zn&&Vn(!1))},_s=function(e,n,t){switch(Oe(!1),n){case"style":Me(!0),zi(!1),Rl(t);break;case"widget":var i;Me(!1),(null===L||void 0===L?void 0:L.widgets)&&0!==(null===L||void 0===L||null===(i=L.widgets)||void 0===i?void 0:i.length)?(zi(!0),Ji(!1)):Li(!0)}},As=function(e,n){var t=n.find((function(n){return n.id===e}));if(t){(0,b.$K)(t.type)||delete t.type;for(var i=0;i<t.blocks.length;i++)t.blocks[i].idx=i;ol((function(n){return(0,o.Z)((0,s.Z)({},n),{page:(0,b.p$)(t),selectedPageId:e})}))}};(0,m.useEffect)((function(){var e,n,t;!0===(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e||null===(n=e.onboarding)||void 0===n||null===(t=n.tourGuide)||void 0===t?void 0:t.displayTour)&&!f&&Vl&&(Pl(!0),Bl(!0))}),[Tt,f,Vl]),(0,m.useEffect)((function(){var e;wl((e={},(0,l.Z)(e,D.In.IN_EDITOR_WEBSITE_PAGE_REGENERATE,[function(){fi("Regenerate page?","Are you sure you want to regenerate this page?","All content, styles, and details for this page will be lost.","regenerate",(function(){return ys(),!0}))}]),(0,l.Z)(e,D.In.IN_EDITOR_BLOG_POST_CREATE,[function(){var e=(0,i.Z)((function(e,n){return(0,d.__generator)(this,(function(e){return Ns(null===n||void 0===n?void 0:n.blogPostTitle),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),{dirty:y,save:ss}]),(0,l.Z)(e,D.In.IN_EDITOR_CREATE_NEW_PAGE,[function(e,n){var t=n.createPageInformation,i=n.createPageType;i&&["about","contact","services"].includes(i)?(t&&zl(t),Ll(i)):Zs(!0,!0)},{dirty:y,save:ss}]),(0,l.Z)(e,D.In.IN_EDITOR_PUBLISH_WEBSITE,[function(){!function(){var e;"active"!==(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e?void 0:e.subscriptionStatus)?yn("website_publish_builder"):"public"!==(null===L||void 0===L?void 0:L.status)&&De(!0)}()}]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_SOCIAL_LINKS,[Os]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_FONT_PAIRINGS,[function(e){ki(e),Me(!0)},"fonts"]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_BUTTON_STYLE,[function(e){ki(e),Me(!0)},"button_style"]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_FAVICON,[function(e){ki(e),Me(!0)},"favicon"]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_THEME,[function(e){ki(e),Me(!0)},null]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_COLOR_PALETTE,[function(e){ki(e),Me(!0)},null]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_ANIMATION,[function(e){ki(e),Me(!0)},null]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_ROUNDED_CORNERS,[function(e){ki(e),Me(!0)},null]),(0,l.Z)(e,D.In.IN_EDITOR_ADD_GLOBAL_WIDGET,[function(){_s(0,"widget")}]),(0,l.Z)(e,D.In.IN_EDITOR_EDIT_HEADER_LOGO,[function(){ki("logo"),window.editBlock("header")}]),(0,l.Z)(e,D.In.IN_EDITOR_VIEW_WEBSITE_MOBILE,[function(){ye("mobile")}]),(0,l.Z)(e,D.In.IN_EDITOR_VIEW_WEBSITE_TABLET,[function(){ye("tablet")}]),e))}),[at,Ze]),(0,m.useEffect)((function(){bl?(pl(),Rn&&Fn(!1)):gl()}),[bl]),(0,m.useEffect)((function(){Rn&&bl&&gl()}),[Rn]),(0,m.useEffect)((function(){0!==ht&&ct<ht?kt(!0):0===ht&&kt(!1)}),[ct,ht]),(0,m.useEffect)((function(){if(clearTimeout(Oi),Pe)return Oi=setTimeout((function(){var e;if("section"===(null===Pe||void 0===Pe||null===(e=Pe.WebsiteBlock)||void 0===e?void 0:e.category)){var n,t=window.websitePage;"header"===Pe.WebsiteBlock.type?t.blocks[0]=Pe:"footer"===Pe.WebsiteBlock.type?t.blocks[t.blocks.length-1]=Pe:t.blocks[Pe.idx]=Pe,ds(t),"blog"!==(null===Pe||void 0===Pe||null===(n=Pe.WebsiteBlock)||void 0===n?void 0:n.type)&&(window.scrollToBlock=Pe.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")))}else if("widget"===Pe.WebsiteBlock.category&&"durable"===Pe.WebsiteBlock.source){var i,l=!1,a=null===(i=L.widgets)||void 0===i?void 0:i.map((function(e){return e.type===Pe.type?(l=!0,Pe):e}));l||(a=a?(0,r.Z)(a).concat([Pe]):[Pe]),W((function(e){return(0,o.Z)((0,s.Z)({},e),{widgets:a})})),fs(a)}}),200),function(){clearTimeout(Oi)}}),[Pe]),(0,m.useEffect)((function(){if(clearTimeout(Oi),Ln)return Oi=setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-post-changed",{detail:{post:Ln}}))}),200),function(){clearTimeout(undefined)}}),[Ln]),(0,m.useEffect)((function(){return window.click=function(){Ts()},window.scrolled=function(e){mn(e)},window.scrolledDistance=function(e){fn(e)},window.changePage=function(e){ds(e)},window.reloadPages=function(){Jl(null===ue||void 0===ue?void 0:ue.id)},window.activeBlock=function(e){window.dispatchEvent(new CustomEvent("website-builder-active-block-changed",{detail:{active:e}}))},window.addBlock=function(e){Ti(e),Ri(!0)},window.editBlock=function(e,n,t){if(window.websitePage){if("header"===e){var i=window.websitePage.blocks.find((function(e){return"header"===e.WebsiteBlock.type}));Ee(i)}else if("footer"===e){var l=window.websitePage.blocks.find((function(e){return"footer"===e.WebsiteBlock.type}));Ee(l)}else if("blog"===e){var s=window.websitePage.blocks.find((function(e){return"blog"===e.WebsiteBlock.type}));Ee(s)}else{var o=window.websitePage.blocks[e];o.idx=e,Ee(o)}Oe(!n||{item:n,itemIdx:t}),Me(!1),Ji(!1),zi(!1)}},window.closeBlock=function(){Oe(!1)},window.deleteBlock=function(e){li("Delete section?","Are you sure you want to delete this section?",(0,i.Z)((function(){var n;return(0,d.__generator)(this,(function(t){return(n=window.websitePage).blocks.splice(e,1),ds(n),[2]}))})))},window.duplicateBlock=function(e){var n=window.websitePage,t=(0,b.p$)(n.blocks[e]);t._id=(new(A().Types.ObjectId)).toString(),n.blocks.splice(e,0,t),ds(n)},window.moveBlock=function(){var e=(0,i.Z)((function(e,n){var t,i;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return t=window.websitePage,i=(0,b.p$)(t.blocks[e]),t.blocks.splice(e,1),t.blocks.splice(e+n,0,i),[4,ds(t)];case 1:return l.sent(),window.scrollToBlock=e+n,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.regenerateBlock=function(){var e=(0,i.Z)((function(e,n){var t,i,l,s;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return l=(0,b.p$)(e),s=(0,b.p$)(window.websitePage),[4,Dt(e,null,n,Ml)];case 1:return e=o.sent(),s.blocks[e.idx]=e,s.clearGenerating=!0,ds(s),"header"!==e.WebsiteBlock.type&&"footer"!==e.WebsiteBlock.type||!e.socialSettings||cs({items:null===L||void 0===L?void 0:L.social,settings:e.socialSettings}),(null===e||void 0===e||null===(t=e.spacing)||void 0===t?void 0:t.minHeight)!==(null===l||void 0===l||null===(i=l.spacing)||void 0===i?void 0:i.minHeight)&&(window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block"))),Ul("website:block-regenerated",{type:e.WebsiteBlock.type}),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.createPost=function(){Ns()},window.changePost=function(e){Wn(e)},window.editPost=function(e){Wn(e),Un(!!e)},window.settingsPost=function(){Vn(!0)},window.deletePost=function(e){li("Delete blog post?",(0,c.jsxs)(c.Fragment,{children:["Are you sure you want to delete the blog post ",(0,c.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"?"]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-post-delete",{detail:{idPost:e._id}}))}))},window.dirtyPost=function(e){k(e)},window.loadingPost=function(e){p(e)},window.generatingPost=function(e){In(e)},window.regeneratePost=function(e){ei("Regenerate blog post?",(0,c.jsxs)(c.Fragment,{children:["Are you sure you want to regenerate the blog post ",(0,c.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"? The current blog post will be deleted and all content and media will be lost."]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))}))},window.openPaywall=function(e){yn(e)},function(){window.click=void 0,window.scrolled=void 0,window.changePage=void 0,window.reloadPages=void 0,window.activeBlock=void 0,window.addBlock=void 0,window.editBlock=void 0,window.deleteBlock=void 0,window.duplicateBlock=void 0,window.moveBlock=void 0,window.regenerateBlock=void 0,window.createPost=void 0,window.changePost=void 0,window.editPost=void 0,window.settingsPost=void 0,window.deletePost=void 0,window.dirtyPost=void 0,window.loadingPost=void 0,window.generatingPost=void 0,window.regeneratePost=void 0,window.openPaywall=void 0,window.closeBlock=void 0,window.scrolledDistance=void 0}}),[ds]),(0,m.useEffect)((function(){var e;L&&(U({settings:null===L||void 0===L?void 0:L.socialSettings,items:Array.isArray(L.social)?L.social:[]}),"public"===(null===L||void 0===L?void 0:L.status)||(null===L||void 0===L?void 0:L.customDomain)&&(null===L||void 0===L?void 0:L.externalDomain)||sn(!0),"public"!==(null===L||void 0===L?void 0:L.status)||(null===L||void 0===L?void 0:L.customDomain)&&(null===L||void 0===L?void 0:L.externalDomain)||cn(!0),!1===(null===L||void 0===L?void 0:L.onboardingSurveyCompleted)&&(null===L||void 0===L||null===(e=L.Business)||void 0===e?void 0:e._id)&&(0,F.TF)(L.Business._id));Kl(!(!L||L&&!L.generatedAt&&L.generate))}),[L]),(0,m.useEffect)((function(){window.dispatchEvent(new CustomEvent("website-builder-page-changed"))}),[z]),(0,m.useEffect)((function(){var e,n,t,i,l,s,o,a,r,d,c,u=!1;if("publish"===(null===Mt||void 0===Mt||null===(e=Mt.query)||void 0===e?void 0:e.open)&&L)!((null===Tt||void 0===Tt||null===(d=Tt.user)||void 0===d||null===(c=d.plan)||void 0===c?void 0:c.level)>0)||(null===L||void 0===L?void 0:L.customDomain)&&(null===L||void 0===L?void 0:L.externalDomain)||De(!0),u=!0;else if("view"===(null===Mt||void 0===Mt||null===(n=Mt.query)||void 0===n?void 0:n.open))ns(),u=!0;else if("settings"===(null===Mt||void 0===Mt||null===(t=Mt.query)||void 0===t?void 0:t.open)&&L)Me(!0),u=!0;else if("page"===(null===Mt||void 0===Mt||null===(i=Mt.query)||void 0===i?void 0:i.open)&&(null===Mt||void 0===Mt||null===(l=Mt.query)||void 0===l?void 0:l.id)&&z&&(null===Ze||void 0===Ze?void 0:Ze.length)>0){var m;Cs(null===Mt||void 0===Mt||null===(m=Mt.query)||void 0===m?void 0:m.id),u=!0}else"page"===(null===Mt||void 0===Mt||null===(s=Mt.query)||void 0===s?void 0:s.create)?(Zs(!0,!0),u=!0):"folder"===(null===Mt||void 0===Mt||null===(o=Mt.query)||void 0===o?void 0:o.create)?(Zs(!0,"folder"),u=!0):"page"===(null===Mt||void 0===Mt||null===(a=Mt.query)||void 0===a?void 0:a.edit)&&(null===Mt||void 0===Mt||null===(r=Mt.query)||void 0===r?void 0:r.id)&&z&&(null===Ze||void 0===Ze?void 0:Ze.length)>0&&!He&&Ve(!0);u&&Mt.replace("/website/builder",null,{shallow:!1})}),[Mt,Tt,L,z,Ze]),(0,m.useEffect)((function(){sn(!Nn&&!y&&!Fe&&!_e&&"public"!==(null===L||void 0===L?void 0:L.status)&&(!(null===L||void 0===L?void 0:L.customDomain)||!(null===L||void 0===L?void 0:L.externalDomain))),cn(!Nn&&!y&&"public"===(null===L||void 0===L?void 0:L.status)&&(!(null===L||void 0===L?void 0:L.customDomain)||!(null===L||void 0===L?void 0:L.externalDomain))),_e||setTimeout((function(){ml(!1)}),300)}),[Nn,y,Fe,_e,L]),(0,m.useEffect)((function(){Nn&&(Tn(!1),wi.current=setTimeout((function(){return Xl()}),3e3))}),[Nn]),(0,m.useEffect)((function(){y?(sn(!1),cn(!1)):("public"===(null===L||void 0===L?void 0:L.status)||(null===L||void 0===L?void 0:L.customDomain)&&(null===L||void 0===L?void 0:L.externalDomain)||sn(!0),"public"!==(null===L||void 0===L?void 0:L.status)||(null===L||void 0===L?void 0:L.customDomain)&&(null===L||void 0===L?void 0:L.externalDomain)||cn(!0))}),[y]),(0,m.useEffect)((function(){var e=window.websitePage;e&&ue&&null==e.slug&&at&&!at.generatedAt&&at.generate&&e.blocks.length<=2&&(null===at||void 0===at?void 0:at.business)&&!gt&&!yt&&(null===Bt||void 0===Bt?void 0:Bt.length)>0&&L&&(kt(!0),bt(!0),setTimeout((function(){ys()}),2e3))}),[window.websitePage,ue,at,Bt,L]),(0,m.useEffect)((function(){(0,i.Z)((function(){var e;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return Qi?((e={createBlogPost:function(){return Ns()},addSocialLinks:Os})[Qi]&&e[Qi](),el(null),[4,Mt.push("/website/builder",null,{shallow:!0})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}),[Qi,window.websitePage]),(0,m.useEffect)((function(){var e=Be||zn||We||Mi;window.dispatchEvent(new CustomEvent("website-builder-manage-toggle",{detail:{open:e}})),e||Tl(null),tl&&!We&&il(!1)}),[Be,zn,We,Mi]),(0,m.useEffect)((function(){var e=Yn||it;window.dispatchEvent(new CustomEvent("website-builder-post-media-manage-toggle",{detail:{open:e}}))}),[Yn,it]),(0,m.useEffect)((function(){(null===Ze||void 0===Ze?void 0:Ze.length)>0&&ue&&(null===sl||void 0===sl?void 0:sl.selectedPageId)!==(null===ue||void 0===ue?void 0:ue.id)&&As(ue.id,Ze)}),[Ze,ue,sl]),(0,m.useEffect)((function(){if(L&&(null===Ze||void 0===Ze?void 0:Ze.length)>0&&ue&&(null===sl||void 0===sl?void 0:sl.selectedPageId)===(null===ue||void 0===ue?void 0:ue.id)&&(null===sl||void 0===sl?void 0:sl.website)&&(null===sl||void 0===sl?void 0:sl.page)){var e=Ze.find((function(e){return e.id===ue.id})),n={website:L,page:e,selectedPageId:ue.id};JSON.stringify(sl)===JSON.stringify(n)?w(!1):w(!0)}}),[L,Ze,ue,sl]),(0,m.useEffect)((function(){return Jl(),Gl(),Xl(),hs(),Yl(),window.addEventListener("openManagePostImage",Es),window.addEventListener("openManagePostVideo",Is),window.addEventListener("tryPalette",Bs),function(){window.removeEventListener("openManagePostImage",Es),window.removeEventListener("openManagePostVideo",Is),window.removeEventListener("tryPalette",Bs),wi.current&&clearTimeout(wi.current),window.websitePage=void 0,window.updatedWidgets=void 0}}),[]),(0,m.useEffect)((function(){return window.addEventListener("keyup",ws),function(){window.removeEventListener("keyup",ws)}}),[jn]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(fe.Z,{context:jn,open:!!jn&&!["premium_widgets","manage_pages","manage_posts","premium_sections","made_with_durable"].includes(jn),setOpen:function(){return yn("")},canClose:!0,onBuy:(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,ss()]}))}))}),(0,c.jsx)(fe.Z,{context:"premium_widgets",open:"premium_widgets"===jn,setOpen:function(){return yn("")},canClose:!0,onViewPlans:yn}),(0,c.jsx)(fe.Z,{context:"manage_pages",open:"manage_pages"===jn,setOpen:function(){return yn("")},canClose:!0,onViewPlans:yn}),(0,c.jsx)(fe.Z,{context:"manage_posts",open:"manage_posts"===jn,setOpen:function(){return yn("")},canClose:!0,onViewPlans:yn}),(0,c.jsx)(fe.Z,{context:"premium_sections",open:"premium_sections"===jn,setOpen:function(){return yn("")},canClose:!0,onViewPlans:yn}),(0,c.jsx)(fe.Z,{context:"made_with_durable",open:"made_with_durable"===jn,setOpen:function(){return yn("")},canClose:!0,onViewPlans:yn}),hl&&(0,c.jsx)(ee.u,{open:hl,title:"Cookie notice added",buttons:(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{className:"secondary",onClick:function(){return xl(!1)},children:"Close"}),(0,c.jsx)("a",{className:"button primary",href:"https://help.durable.co/en/articles/8561007-learn-about-cookies-notice-bar",rel:"noreferrer",target:"_blank",children:"Learn more"})]}),setOpen:xl,contentClassName:"max-w-[420px]",footerHasMarginTop:!1,children:(0,c.jsx)(J.U,{text:"A cookie notice may be sufficient for you, but every business is unique. Make sure you understand the requirements that apply to your website.",variant:"info"})}),(0,c.jsxs)(Ne(),{children:[(0,c.jsx)("title",{children:"Website builder - Durable"}),(0,c.jsx)("meta",{name:"description",content:"Durable for your business"}),(0,c.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,c.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,c.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,c.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,c.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,c.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"})]}),(0,c.jsxs)("div",{id:"main-builder",className:"flex flex-col min-h-dyn no-scrollbar",onClick:Ts,children:[(0,c.jsx)(ji,{website:L,loading:f,disabled:P,generating:Nn,generatingPost:Sn,dirty:$n?Z:y,blogMode:$l,postMode:$n,selectedPage:ue,selectedBlock:Pe,selectedPost:Ln,openManage:Be,handleOpenManage:_s,openManageWidgets:Mi,handleOpenPostAssistant:Ns,handleViewWebsite:ns,openAssistant:Rn,setOpenAssistant:Fn,openSupport:pl,handleOpenManagePage:Zs,openManagePages:He,openManagePost:zn,setDevice:ye,onExit:function(){return os()},onDiscard:function(){mi("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){var e,n;return(0,d.__generator)(this,(function(t){return e=(0,b.p$)(sl.website),n=(0,b.p$)(sl.page),W(e),ds(n),us(e),cs({settings:null===e||void 0===e?void 0:e.socialSettings,items:Array.isArray(e.social)?e.social:[]}),fs(e.widgets),Me(!1),zi(!1),Oe(!1),Ji(!1),[2]}))})))},onSave:function(){return ss()}}),(0,c.jsx)("div",{className:(0,b.AK)("flex-1 w-full h-full relative mx-auto flex items-start mt-0 transition-all",ql&&"py-4",(Nn||Sn)&&"pointer-events-none"),style:(0,s.Z)({},function(){if(ql)switch(be){case"mobile":return{maxWidth:406,maxHeight:860,minHeight:844};case"tablet":return{maxWidth:876,maxHeight:1040,minHeight:1024};default:return{maxWidth:"100%",maxHeight:"100%"}}}()),children:(0,c.jsx)("iframe",{name:"preview",id:"iframe-builder-preview",src:"/website/preview",className:(0,b.AK)("bg-white mx-auto transition-all duration-200 w-full h-full",ql&&"rounded-3xl overflow-hidden shadow border-8 border-black")})}),Nn||f&&(0,c.jsx)(he.Z,{text:f?"":"Generating..."}),(0,c.jsx)(ve,{track:Ul,website:L,loading:f,blogMode:$l,postMode:$n,generating:Nn||Sn,openAssistant:Rn,setOpenAssistant:Fn,openSupport:pl,isOpenSupport:bl,handleOpenManage:_s,openManageWidgets:Mi,onPreview:ns})]}),Be&&Pe&&function(){var e;if("durable"!==(null===Pe||void 0===Pe||null===(e=Pe.WebsiteBlock)||void 0===e?void 0:e.source)){var n;if("common-ninja"===(null===Pe||void 0===Pe||null===(n=Pe.WebsiteBlock)||void 0===n?void 0:n.source))return(0,c.jsx)(rn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,editWidget:Ps})}else{var t={block:Pe,businessConfig:B,getBusinessConfig:Gl,loading:f,open:Be,rtl:oe,setBlock:Ee,setOpen:Oe,setRtl:de,website:L};switch(Pe.WebsiteBlock.type){case"header":return(0,c.jsx)(Jn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,website:L,updateSocial:cs,rtl:oe,setRtl:de,loading:f,scrollToLocation:Zi,setScrollToLocation:ki,onValid:as,onChangeIcon:function(e){return us((0,o.Z)((0,s.Z)({},L),{favicon:e}))},onRedirect:os});case"banner":return(0,c.jsx)(en,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"hero":return(0,c.jsx)(Qn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"quote":return(0,c.jsx)(Gt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"gallery":case"image-grid":case"image-carousel":return(0,c.jsx)(Kn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"video":return(0,c.jsx)(Jt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"list":case"service-list":case"team-list":return(0,c.jsx)(lt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"pricing-table":return(0,c.jsx)(Vt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"business-hours":return(0,c.jsx)(ri,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"text":return(0,c.jsx)(Xt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"location":case"map":return(0,c.jsx)(ut,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"contact":return(0,c.jsx)(kn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,website:L,setRtl:de,loading:f});case"embed":return(0,c.jsx)(En,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"image":return(0,c.jsx)(et,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"footer":return(0,c.jsx)(Hn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,updateSocial:cs,rtl:oe,setRtl:de,loading:f,website:L,onValid:as,onPaywall:yn,onRedirect:os});case"calendly-scheduling":return(0,c.jsx)(on,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"instagram":return(0,u.n2)(Pe)?(0,c.jsx)(T,(0,s.Z)({},t)):(0,c.jsx)(Ui,(0,s.Z)({},t));case"blog":return(0,c.jsx)(tn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"faq":return(0,c.jsx)(_n,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,website:L,setRtl:de,loading:f});case"google-reviews":return(0,c.jsx)(Gn.ZP,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,website:L,setRtl:de,loading:f});case"nylas-scheduler":return(0,c.jsx)(xt,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,onSave:is,website:L});case"cta":return(0,c.jsx)(Pn,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onValid:as});case"logo-showcase":return(0,c.jsx)(Bi,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L});case"recent-posts":return(0,c.jsx)($i,{open:Be,setOpen:Oe,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L})}}}(),zn&&Ln&&(0,c.jsx)(At,{open:zn,setOpen:Vn,post:Ln,setPost:Wn,rtl:oe,setRtl:de,website:L,onValid:as}),(0,c.jsx)(Ut,{confirmText:"Got it"}),(0,c.jsx)(ni,{confirmText:"Regenerate"}),(0,c.jsx)(si,{attention:!0}),(0,c.jsx)(ci,{confirmText:"Discard and exit",attention:!0}),(0,c.jsx)(vi,{confirmText:"Discard",attention:!0}),(0,c.jsx)(pi,{attention:!0,confirmText:"Regenerate"}),(0,c.jsx)(yi,{confirmText:"Save",cancelText:"Cancel"}),Zt&&(0,c.jsx)(he.Z,{text:St}),(0,c.jsx)(ne.P,{status:null===L||void 0===L?void 0:L.status,preview:ul,previewToken:bs(),open:_e,setOpen:Ae,setOpenPaywall:yn,loading:f,setLoading:p,onPreview:(0,i.Z)((function(){return(0,d.__generator)(this,(function(e){return[2,ts()]}))})),onPublish:function(){return es()}}),!(null===Tt||void 0===Tt||null===(n=Tt.user)||void 0===n?void 0:n.customPlan)&&(0,c.jsx)(di,{open:!Sl&&ln&&!$n&&""===jn&&!_e,scrolledDistance:xn,onClose:function(){return sn(!1)},onPublish:function(){var e,n,t;(null===L||void 0===L?void 0:L.domain)||(null===Tt||void 0===Tt||null===(e=Tt.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.level)>0||!(null===Tt||void 0===Tt||null===(t=Tt.user)||void 0===t?void 0:t.isManager)?es(!0):Ae(!0)}},"publish-alert-key-".concat(Sl?"-0":"-1")),(0,c.jsx)(Pi.Z,{open:Ye,setOpen:Qe,website:L}),"free"===(null===Tt||void 0===Tt||null===(t=Tt.user)||void 0===t||null===(v=t.plan)||void 0===v?void 0:v.priceId)&&"public"===(null===L||void 0===L?void 0:L.status)&&(0,c.jsx)(je,{open:!Sl&&dn&&!$n&&""===jn,scrolledDistance:xn,onClose:function(){return cn(!1)},onAction:function(){return yn("domain_alert")}},"custom-domain-alert-key-".concat(Sl?"-0":"-1")),(0,c.jsx)(hi,{website:L,open:We,setOpen:Me,tryPalette:tl,onChange:us,onPreviewMigration:function(e){var n=(0,b.p$)(window.websitePage),t=!0,i=!1,l=void 0;try{for(var a,r=n.blocks[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var d=a.value;if(e){if(!d.layers||"footer"===d.WebsiteBlock.type&&!d.layers.palette){var c=(0,S.SH)(d,L);d.layers=(0,s.Z)({},d.layers,c),d.layers.image=(0,Q.Dn)(d),d.migratedFromOld=!0}var u;if("header"===d.WebsiteBlock.type?d.layers.palette="color1":"footer"===d.WebsiteBlock.type||"banner"===d.WebsiteBlock.type?d.layers.palette="color2":d.layers.palette=(0,b.kd)(["color3","color4"]),d.button||d.showButton||"contact"===d.WebsiteBlock.type)d.button=(0,o.Z)((0,s.Z)({},d.button),{style:(0,o.Z)((0,s.Z)({},null===(u=d.button)||void 0===u?void 0:u.style),{name:"style1"})})}else{var m;if(d.migratedFromOld?delete d.layers:d.layers.palette="custom",d.button||d.showButton||"contact"===d.WebsiteBlock.type)d.button=(0,o.Z)((0,s.Z)({},d.button),{style:(0,o.Z)((0,s.Z)({},null===(m=d.button)||void 0===m?void 0:m.style),{name:"custom"})})}}}catch(v){i=!0,l=v}finally{try{t||null==r.return||r.return()}finally{if(i)throw l}}ds(n),window.dispatchEvent(new CustomEvent("website-builder-changed",{detail:{previewMigration:e}}))},rtl:oe,setRtl:de,scrollToLocation:Zi,setScrollToLocation:ki,initialTab:Al}),!Nn&&He&&!Ge&&(0,c.jsx)(It,{open:He,setOpen:Ve,currentPage:ue,isOpenCreatePage:Ge,setIsOpenCreatePage:Xe,isOpenManagePage:qe,setIsOpenManagePage:$e,postsCount:rl,setOpenPaywall:yn,onSortEnd:Jl,onSelectPage:Cs,onCreatePage:ks,onDuplicatePage:Jl,onUpdatePage:vs,onCreatePost:Ss}),(0,c.jsx)(ge,{open:Ge,setOpen:Xe,aiCreatePageType:Dl,onCreatePage:ks,onCreatePost:Ns,closeManagePagesModal:function(){return Ve(!1)}}),(0,c.jsx)(re.Z,{open:Rn,setOpen:Fn,contextualAiFunctions:yl}),(0,c.jsx)(G,{open:Ai,setOpen:Ri,onSelect:xs,setOpenPaywall:yn}),Yn&&(0,c.jsx)(Rt,{open:Yn,setOpen:nt,rtl:oe,setRtl:de,website:L}),it&&(0,c.jsx)(Ft,{open:it,setOpen:st,rtl:oe,setRtl:de,website:L}),Ki&&(0,c.jsx)(xe,{open:Vi,setOpen:Ki,block:Pe,refreshWidget:function(e){e&&window.dispatchEvent(new CustomEvent("widget-reload",{detail:e}))}}),Xi&&(0,c.jsx)(Qt,{open:Xi,setOpen:Ji,block:Pe,setBlock:Ee,rtl:oe,setRtl:de,loading:f,website:L,onClose:function(){return zi(!0)}}),Di&&(0,c.jsx)(ae,{open:Di,setOpen:Li,widgets:null===L||void 0===L?void 0:L.widgets,onSelect:ps,setOpenPaywall:yn}),Mi&&(0,c.jsx)(ti,{sortWidgets:function(e){W((function(n){return(0,o.Z)((0,s.Z)({},n),{widgets:e})})),fs(e)},open:Mi,setOpen:zi,rtl:oe,setRtl:de,widgets:null===L||void 0===L?void 0:L.widgets,addWidget:function(){return Li(!0)},editWidget:function(e){Ee(e),"common-ninja"===(null===e||void 0===e?void 0:e.WebsiteBlock.source)?Ki(!0):(Ji(!0),zi(!1))},deleteWidget:function(e){W((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?n.widgets.filter((function(n){return n.type!==e})):[];return fs(t),(0,o.Z)((0,s.Z)({},n),{widgets:t})}))}}),Sl&&Il&&(0,c.jsx)(qi,{showOnboarding:!1,onClose:function(){Pl(!1)},onOpenAI:function(){Fn(!0)},websitePublished:"public"===(null===L||void 0===L?void 0:L.status)})]})}Xi.auth=!0,Xi.layout=!1}},function(e){e.O(0,[5961,7040,6440,696,361,9198,1033,9177,780,6235,3443,5157,5997,5484,1125,3748,3994,4362,9834,1678,6930,534,9774,2888,179],(function(){return n=64938,e(e.s=n);var n}));var n=e.O();_N_E=n}]);