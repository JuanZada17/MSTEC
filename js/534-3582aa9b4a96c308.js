"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{20534:function(e,l,n){n.d(l,{Ln:function(){return N},YU:function(){return w},ne:function(){return y},qP:function(){return j}});var t=n(47568),o=n(26042),i=n(69396),r=n(97582),s=n(85893),a=n(80360),c=n(67294),d=n(91957),u=n(75131),v=n(3732),m=n(33347),f=n(42341),h=n(25675),x=n.n(h),p=(n(41664),[{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"retro",name:"Retro"},{id:"pastel",name:"Pastel"},{id:"cool",name:"Cool"},{id:"warm",name:"Warm"},{id:"nature",name:"Nature"},{id:"energetic",name:"Energetic"},{id:"happy",name:"Happy"}]),g=["Aa","Bb","Cc","Dd"],b=function(e){var l,n=e.className,t=e.palette;return(0,s.jsx)("div",{className:(0,v.AK)("grid grid-cols-4 h-24 w-full mt-6 mb-2 overflow-hidden rounded-lg",n),children:null===t||void 0===t||null===(l=t.colors)||void 0===l?void 0:l.map((function(e,l){return(0,s.jsxs)("div",{className:"relative flex items-end p-3 transition-all",style:{background:e.color},children:[(0,s.jsx)("div",{className:(0,v.AK)("absolute inset-0 border-t border-b border-r border-black border-opacity-10",0===l&&"border-l rounded-l-lg",3===l&&"rounded-r-lg")}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full transition-all",style:{background:e.accent}}),(0,s.jsx)("p",{className:"font-medium transition-all",style:{color:(0,v.$O)(e.color||"#FFFFFF")},children:g[l]})]})]},"palette-".concat(l))}))})};function j(e){var l=e.onMigrate;return(0,s.jsx)("div",{className:"pb-6",children:(0,s.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("p",{className:"font-semibold text-indigo-800",children:"Color palette"}),(0,s.jsx)("p",{className:"px-2.5 py-0.5 bg-indigo-500 text-xs font-medium text-white rounded-xl",children:"New"})]}),(0,s.jsx)("div",{className:"relative w-64 h-60 mx-auto",children:(0,s.jsx)(x(),{unoptimized:!0,src:(0,v.sd)("palette-illustration.svg"),alt:"Durable color palette",layout:"fill",objectFit:"cover"})}),(0,s.jsx)("div",{className:"relative flex items-center gap-1 flex-wrap -mt-12 mb-4",children:(0,s.jsx)("p",{className:"text-sm text-indigo-800",children:"Better colors, everywhere."})}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"primary w-full text-sm",onClick:l,children:"Try color palettes"})})]})})}var N=function(e){var l=e.idx,n=e.website,t=e.setWebsite,r=(0,c.useState)(null),a=r[0],d=r[1],u=function(e){var o,i=(0,v.p$)(n);(null===i||void 0===i||null===(o=i.colorPalette)||void 0===o?void 0:o.colors)&&!isNaN(l)&&(i.colorPalette.colors[l]={color:e.color,accent:e.accent},t(i))};return(0,c.useEffect)((function(){var e,t;(null===n||void 0===n||null===(e=n.colorPalette)||void 0===e?void 0:e.colors)&&!isNaN(l)&&d(null===n||void 0===n||null===(t=n.colorPalette)||void 0===t?void 0:t.colors[l])}),[n,l]),(0,s.jsxs)("div",{className:"divide-y",children:[(0,s.jsxs)("div",{className:"pb-6 space-y-6",children:[(0,s.jsx)(f.Z,{label:"Background",inline:!0,color:null===a||void 0===a?void 0:a.color,onChange:function(e){return u((0,i.Z)((0,o.Z)({},a),{color:e.hex}))}}),(0,s.jsx)(f.Z,{label:"Accent",inline:!0,color:null===a||void 0===a?void 0:a.accent,onChange:function(e){return u((0,i.Z)((0,o.Z)({},a),{accent:e.hex}))}})]}),(0,s.jsxs)("div",{className:"pt-6 space-y-6",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Preview"}),(0,s.jsxs)("div",{className:"relative flex items-end p-3 h-24 rounded-md transition-all",style:{background:null===a||void 0===a?void 0:a.color},children:[(0,s.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-lg"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full transition-all",style:{background:null===a||void 0===a?void 0:a.accent}}),(0,s.jsx)("p",{className:"font-medium transition-all",style:{color:(0,v.$O)((null===a||void 0===a?void 0:a.color)||"#000000")},children:g[l]})]})]})]})]})},y=function(e){var l,n,f=e.settings,h=e.migrate,x=e.setMigrate,j=e.onEditColorSet,N=e.onChange,y=(0,c.useState)([]),w=y[0],k=y[1],P=(0,c.useState)(null),C=P[0],Z=P[1],E=(0,c.useState)("light"),_=E[0],F=E[1],O=(0,c.useState)(null),S=(O[0],O[1]),A=(0,m.Z)().get,$=function(){var e=(0,t.Z)((function(){var e;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return[4,A("/website/get-palettes")];case 1:return(null===(e=l.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&k(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e,l;(null===C||void 0===C||null===(e=C.Palette)||void 0===e||null===(l=e.themes)||void 0===l?void 0:l.length)>0&&F(C.Palette.themes[0]),C&&"empty"!==C.Palette&&N(C)}),[C]),(0,c.useEffect)((function(){f&&Z(f)}),[f]),(0,c.useEffect)((function(){$()}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"space-y-6 min-h-screen",children:[(0,s.jsxs)(u.E,{className:"flex items-center w-full",value:(null===C||void 0===C?void 0:C.Palette)||h?"theme":"custom",onChange:function(e){S((function(l){var n,t=w.find((function(e){return e._id===l}));return t?Z((function(l){var n;return(0,i.Z)((0,o.Z)({},l),{Palette:"theme"===e?t:null,colors:"theme"===e?null:(null===f||void 0===f||null===(n=f.Palette)||void 0===n?void 0:n.colors)||(null===f||void 0===f?void 0:f.colors)||t.colors})})):(h||x(!0),"theme"!==e&&Z((function(e){var l;return(0,i.Z)((0,o.Z)({},e),{Palette:null,colors:(null===f||void 0===f||null===(l=f.Palette)||void 0===l?void 0:l.colors)||(null===f||void 0===f?void 0:f.colors)})})),"theme"!==e||h||Z((function(e){var l;return(0,i.Z)((0,o.Z)({},e),{Palette:"empty",colors:(null===f||void 0===f||null===(l=f.Palette)||void 0===l?void 0:l.colors)||(null===f||void 0===f?void 0:f.colors)})}))),null===C||void 0===C||null===(n=C.Palette)||void 0===n?void 0:n._id}))},children:[(0,s.jsx)(u.E.Option,{className:"w-full",value:"theme",children:function(e){var l=e.checked;return(0,s.jsx)("div",{className:(0,v.AK)("py-2.5 px-4 border cursor-pointer rounded-l-lg text-sm font-medium text-center transition-all",l?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"Mood"})}}),(0,s.jsx)(u.E.Option,{className:"w-full",value:"custom",children:function(e){var l=e.checked;return(0,s.jsx)("div",{className:(0,v.AK)("py-2.5 px-4 border cursor-pointer rounded-r-lg text-sm font-medium text-center transition-all",l?"bg-indigo-700 border-indigo-700 text-white":"border-gray-300 text-gray-700"),children:"Custom"})}})]}),((null===C||void 0===C?void 0:C.Palette)||h)&&(0,s.jsxs)("div",{children:[(0,s.jsx)(a.Z,{placeholder:"Select",values:p,value:p.find((function(e){return e.id===_})),onChange:function(e){return F(e.id)}}),(0,s.jsx)(u.E,{value:null===C||void 0===C||null===(l=C.Palette)||void 0===l?void 0:l._id,onChange:function(e){return Z((function(l){return(0,i.Z)((0,o.Z)({},l),{Palette:w.find((function(l){return l._id===e}))})}))},children:null===w||void 0===w?void 0:w.filter((function(e){return e.themes.includes(_)})).map((function(e,l){return(0,s.jsx)(u.E.Option,{value:e._id,className:"cursor-pointer",children:function(l){var n=l.checked;return(0,s.jsx)(b,{palette:e,className:n&&"ring-2 ring-offset-2 ring-indigo-600 shadow-md"})}},"palette-".concat(e._id,"-color-").concat(l))}))})]}),!(null===C||void 0===C?void 0:C.Palette)&&!h&&(0,s.jsx)("div",{className:"space-y-6",children:null===C||void 0===C||null===(n=C.colors)||void 0===n?void 0:n.map((function(e,l){return(0,s.jsxs)("div",{className:"relative flex items-center justify-between gap-3 p-3.5 rounded-md cursor-pointer",style:{background:e.color},onClick:function(){return j(l)},children:[(0,s.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-md"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full",style:{background:e.accent}}),(0,s.jsx)("p",{className:"font-medium",style:{color:(0,v.$O)(e.color)},children:g[l]})]}),(0,s.jsx)("button",{className:"relative z-5 flex-shrink-0",style:{color:(0,v.$O)(e.color)},children:(0,s.jsx)(d.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})})]},"palette-color-set-".concat(l))}))})]})})};function w(e){var l=e.className,n=e.value,t=e.onEdit;return(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Color palette"}),t&&(0,s.jsx)("button",{className:"link text-sm",onClick:t,children:"Edit"})]}),(0,s.jsx)("div",{className:"cursor-pointer",onClick:t,children:(0,s.jsx)(b,{palette:(null===n||void 0===n?void 0:n.Palette)||n,className:"shadow-sm"})})]})}}}]);